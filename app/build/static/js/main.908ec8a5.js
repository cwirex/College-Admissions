/*! For license information please see main.908ec8a5.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,o,s],c=0;(u=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var l=arguments.length,c=Array(l>6?l-6:0),d=6;d<l;d++)c[d-6]=arguments[d];return e.apply(void 0,[n,r,s,a,u].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),N=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var A,M=Object.assign;function z(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case E:return"Profiler";case C:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function B(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=B(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=B(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,xe=null,Ce=null;function Ee(e){if(e=ki(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),we(e.stateNode,e.type,t))}}function Se(e){xe?Ce?Ce.push(e):Ce=[e]:xe=e}function Ne(){if(xe){var e=xe,t=Ce;if(Ce=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Te(){}var Pe=!1;function je(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==xe||null!==Ce)&&(Te(),Ne())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Oe=!1}function De(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ae=!1,Me=null,ze=!1,Fe=null,Ue={onError:function(e){Ae=!0,Me=e}};function We(e,t,n,r,i,a,o,s,u){Ae=!1,Me=null,De.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(a(188))}function Be(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var $e=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,xt,Ct,Et,St=!1,Nt=[],It=null,Tt=null,Pt=null,jt=new Map,Rt=new Map,Ot=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function At(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){zt(e)&&n.delete(t)}function Ut(){St=!1,null!==It&&zt(It)&&(It=null),null!==Tt&&zt(Tt)&&(Tt=null),null!==Pt&&zt(Pt)&&(Pt=null),jt.forEach(Ft),Rt.forEach(Ft)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return Wt(t,e)}if(0<Nt.length){Wt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Wt(It,e),null!==Tt&&Wt(Tt,e),null!==Pt&&Wt(Pt,e),jt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Mt(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Bt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,$t(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,$t(e,t,n,r)}finally{kt=i,qt.transition=a}}function $t(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Gt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=At(It,e,t,n,r,i),!0;case"dragenter":return Tt=At(Tt,e,t,n,r,i),!0;case"mouseover":return Pt=At(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return jt.set(a,At(jt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,At(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&_t(a),null===(a=Qt(e,t,n,r))&&Hr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=gi(e=_e(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),dn=M({},ln,{view:0,detail:0}),fn=an(dn),hn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),vn=an(M({},hn,{dataTransfer:0})),mn=an(M({},dn,{relatedTarget:0})),yn=an(M({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(M({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Cn}var Sn=M({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(Sn),In=an(M({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=an(M({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=M({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(jn),On=[9,13,27,32],Ln=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var An=c&&"TextEvent"in window&&!Dn,Mn=c&&(!Ln||Dn&&8<Dn&&11>=Dn),zn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Bn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,$n=null;function Gn(e){zr(e,0)}function Qn(e){if($(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),$n=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn($n)){var t=[];Bn(t,$n,e,_e(e)),je(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn($n)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},xr={},Cr={};function Er(e){if(xr[e])return xr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return xr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Sr=Er("animationend"),Nr=Er("animationiteration"),Ir=Er("animationstart"),Tr=Er("transitionend"),Pr=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),u(t,[e])}for(var Or=0;Or<jr.length;Or++){var Lr=jr[Or];Rr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Nr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Tr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(We.apply(this,arguments),Ae){if(!Ae)throw Error(a(198));var c=Me;Ae=!1,Me=null,ze||(ze=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,l),a=u}}}if(ze)throw e=Fe,ze=!1,Fe=null,e}function Fr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Wr]){e[Wr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Ar.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Bt;break;case 4:i=Kt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}je((function(){var r=a,i=_e(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case Sr:case Nr:case Ir:u=yn;break;case Tr:u=Pn;break;case"scroll":u=fn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=Re(p,f))&&c.push(Br(p,v,h)))),d)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(d=Ve(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==u?s:bi(u),h=null==l?s:bi(l),(s=new c(v,p+"leave",u,n,i)).target=d,s.relatedTarget=h,v=null,gi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=h,c.relatedTarget=d,v=c),d=v,u&&l)e:{for(f=l,p=0,h=c=u;h;h=$r(h))p++;for(h=0,v=f;v;v=$r(v))h++;for(;0<p-h;)c=$r(c),p--;for(;0<h-p;)f=$r(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=$r(c),f=$r(f)}c=null}else c=null;null!==u&&Gr(o,s,u,c,!1),null!==l&&null!==d&&Gr(o,d,l,c,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Hn(s))if(Jn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Bn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Ln)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Vn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Vn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=An?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Fn=!0,zn);case"textInput":return(e=t.data)===zn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Ln&&Un(e,t)?(e=en(),Zt=Xt=Jt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}zr(o,t)}))}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Br(e,a,i)),null!=(a=Re(e,t))&&r.push(Br(e,a,i))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Re(n,a))&&o.unshift(Br(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Br(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,yi="__reactHandles$"+di;function gi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[hi]||null}var wi=[],xi=-1;function Ci(e){return{current:e}}function Ei(e){0>xi||(e.current=wi[xi],wi[xi]=null,xi--)}function Si(e,t){xi++,wi[xi]=e.current,e.current=t}var Ni={},Ii=Ci(Ni),Ti=Ci(!1),Pi=Ni;function ji(e,t){var n=e.type.contextTypes;if(!n)return Ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ti),Ei(Ii)}function Li(e,t,n){if(Ii.current!==Ni)throw Error(a(168));Si(Ii,t),Si(Ti,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,Pi=Ii.current,Si(Ii,e),Si(Ti,Ti.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Di(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ti),Ei(Ii),Si(Ii,e)):Ei(Ti),Si(Ti,n)}var zi=null,Fi=!1,Ui=!1;function Wi(e){null===zi?zi=[e]:zi.push(e)}function Vi(){if(!Ui&&null!==zi){Ui=!0;var e=0,t=kt;try{var n=zi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,Fi=!1}catch(i){throw null!==zi&&(zi=zi.slice(e+1)),$e(Ze,Vi),i}finally{kt=t,Ui=!1}}return null}var qi=[],Hi=0,Bi=null,Ki=0,$i=[],Gi=0,Qi=null,Yi=1,Ji="";function Xi(e,t){qi[Hi++]=Ki,qi[Hi++]=Bi,Bi=e,Ki=t}function Zi(e,t,n){$i[Gi++]=Yi,$i[Gi++]=Ji,$i[Gi++]=Qi,Qi=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Bi;)Bi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Qi;)Qi=$i[--Gi],$i[Gi]=null,Ji=$i[--Gi],$i[Gi]=null,Yi=$i[--Gi],$i[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=jl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=li(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ci(null),ga=null,ka=null,ba=null;function _a(){ba=ka=ga=null}function wa(e){var t=ya.current;Ei(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Na(e){null===Sa?Sa=[e]:Sa.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Na(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ta(e,r)}function Ta(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function ja(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ta(e,n)}return null===(i=r.interleaved)?(t.next=t,Na(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ta(e,n)}function Da(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Aa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var d=i.baseState;for(o=0,c=l=u=null,s=a;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(h,d,f):p)||void 0===f)break e;d=M({},d,f);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=h,u=d):c=c.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Au|=o,e.lanes=o,e.memoizedState=d}}function za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Wa={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(nl(t,e,i,r),Da(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(nl(t,e,i,r),Da(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=La(e,i,r))&&(nl(t,e,r,n),Da(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ni,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ri(t)?Pi:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Ni),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Wa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wa.enqueueReplaceState(t,t.state,null)}function Ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,ja(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ri(t)?Pi:Ii.current,i.context=ji(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Wa.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function $a(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ml(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Dl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ml(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case w:return(t=zl(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dl(t,e.mode,n,null)).return=e,t;$a(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case R:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);$a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);$a(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,d=a,v=a=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var y=h(i,d,s[v],u);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,d=m}if(v===s.length)return n(i,d),ia&&Xi(i,v),l;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],u))&&(a=o(d,a,v),null===c?l=d:c.sibling=d,c=d);return ia&&Xi(i,v),l}for(d=r(i,d);v<s.length;v++)null!==(m=p(d,i,v,s[v],u))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),l}function m(i,s,u,l){var c=D(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var d=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=h(i,v,g.value,l);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===d?c=k:d.sibling=k,d=k,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=f(i,g.value,l))&&(s=o(g,s,m),null===d?c=g:d.sibling=g,d=g);return ia&&Xi(i,m),c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===d?c=g:d.sibling=g,d=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===x){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Ga(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ka(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((a=Dl(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ll(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zl(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(D(o))return m(r,a,o,u);$a(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ml(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=Qa(!0),Ja=Qa(!1),Xa={},Za=Ci(Xa),eo=Ci(Xa),to=Ci(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Si(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Ci(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,_o=0;function wo(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function No(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function To(e){var t=No(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var d=c.lane;if((po&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,vo.lanes|=d,Au|=d}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Au|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=No(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jo(){}function Ro(e,t){var n=vo,r=No(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Ho(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Fo(9,Lo.bind(null,n,r,i,t),void 0,null),null===Tu)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Mo(e)}function Do(e,t,n){return n((function(){Ao(t)&&Mo(e)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=Ta(e,1);null!==t&&nl(t,e,1,-1)}function zo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return No().memoizedState}function Wo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=No();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}vo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function qo(e,t){return Wo(8390656,8,e,t)}function Ho(e,t){return Vo(2048,8,e,t)}function Bo(e,t){return Vo(4,2,e,t)}function Ko(e,t){return Vo(4,4,e,t)}function $o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,$o.bind(null,t,e),n)}function Qo(){}function Yo(e,t){var n=No();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=No();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Au|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return No().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){nl(n,e,r,el()),as(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Na(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(nl(n,e,r,i=el()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4194308,4,$o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:zo,useDebugValue:Qo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=zo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tu)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Do.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Lo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Tu.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Ho,useImperativeHandle:Go,useInsertionEffect:Bo,useLayoutEffect:Ko,useMemo:Jo,useReducer:To,useRef:Uo,useState:function(){return To(Io)},useDebugValue:Qo,useDeferredValue:function(e){return Xo(No(),mo.memoizedState,e)},useTransition:function(){return[To(Io)[0],No().memoizedState]},useMutableSource:jo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Ho,useImperativeHandle:Go,useInsertionEffect:Bo,useLayoutEffect:Ko,useMemo:Jo,useReducer:Po,useRef:Uo,useState:function(){return Po(Io)},useDebugValue:Qo,useDeferredValue:function(e){var t=No();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[Po(Io)[0],No().memoizedState]},useMutableSource:jo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Bu=r),fs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=El.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,La(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function _s(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ya(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Ca(t,i),r=Co(e,t,n,r,a,i),n=Eo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Ol(a,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ns(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ou,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ou,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ou,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ou,Ru),Ru|=r;return _s(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ns(e,t,n,r,i){var a=Ri(n)?Pi:Ii.current;return a=ji(t,a),Ca(t,i),n=Co(e,t,n,r,a,i),r=Eo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Is(e,t,n,r,i){if(Ri(n)){var a=!0;Ai(t)}else a=!1;if(Ca(t,i),null===t.stateNode)qs(e,t),qa(t,n,r),Ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ea(l):l=ji(t,l=Ri(n)?Pi:Ii.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Ha(t,o,r,l),Pa=!1;var f=t.memoizedState;o.state=f,Ma(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Ti.current||Pa?("function"===typeof c&&(Ua(t,n,c,r),u=t.memoizedState),(s=Pa||Va(t,n,s,r,f,u,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,d=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=ji(t,u=Ri(n)?Pi:Ii.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==u)&&Ha(t,o,r,u),Pa=!1,f=t.memoizedState,o.state=f,Ma(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Ti.current||Pa?("function"===typeof h&&(Ua(t,n,h,r),p=t.memoizedState),(l=Pa||Va(t,n,l,r,f,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,a,i)}function Ts(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Hs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):_s(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),ro(e,t.containerInfo)}function js(e,t,n,r,i){return ha(),pa(i),t.flags|=256,_s(e,t,n,r),t.child}var Rs,Os,Ls,Ds={dehydrated:null,treeContext:null,retryLane:0};function As(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ms(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Al(u,i,0,null),e=Dl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=As(n),t.memoizedState=Ds,e):zs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Al({mode:"visible",children:r.children},i,0,null),(o=Dl(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=As(s),t.memoizedState=Ds,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Fs(e,t,s,r=ds(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Tu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ta(e,i),nl(r,e,i,-1))}return vl(),Fs(e,t,s,r=ds(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&($i[Gi++]=Yi,$i[Gi++]=Ji,$i[Gi++]=Qi,Yi=e.id,Ji=e.overflow,Qi=t),(t=zs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ol(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ol(r,s):(s=Dl(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?As(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Ol(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=Al({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Ws(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ws(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ws(t,!0,n,null,a);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Au|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Bs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $s(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Ks(t),null;case 3:return r=t.stateNode,io(),Ei(Ti),Ei(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[hi]=r,Rs(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&k(e,o,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ls(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ha(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):vl())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),null===e&&Vr(t.stateNode.containerInfo),Ks(t),null;case 10:return wa(t.type._context),Ks(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Bs(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Bs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Vu&&(t.flags|=128,r=!0,Bs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Bs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Je()-o.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=128,r=!0,Bs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Gs(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ti),Ei(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Ys=!1,Js="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cl(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Cl(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,du=!1;function fu(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=cu,i=du;cu=null,fu(e,t,n),du=i,null!==(cu=r)&&(du?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(du?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Vt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=du,cu=n.stateNode.containerInfo,du=!0,fu(e,t,n),cu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cl(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,fu(e,t,n),Ys=r):fu(e,t,n);break;default:fu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,du=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===cu)throw Error(a(160));hu(o,s,i),cu=null,du=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Cl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Cl(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Cl(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Cl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),ke(u,s);var c=ke(u,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):k(i,d,f,c)}switch(u){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Cl(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Cl(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Cl(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Wu=Je())),4&r&&pu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||d,vu(t,e),Ys=c):vu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(f=Xs=d;null!==Xs;){switch(p=(h=Xs).child,h.tag){case 0:case 11:case 14:case 15:nu(4,h,h.return);break;case 1:Zs(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Cl(r,n,m)}}break;case 5:Zs(h,h.return);break;case 22:if(null!==h.memoizedState){_u(f);continue}}null!==p?(p.return=h,Xs=p):_u(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){Cl(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Cl(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Cl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Xs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=Qs;var l=Ys;if(Qs=o,(Ys=u)&&!l)for(Xs=i;null!==Xs;)u=(o=Xs).child,22===o.tag&&null!==o.memoizedState?wu(i):null!==u?(u.return=o,Xs=u):wu(i);for(;null!==a;)Xs=a,ku(a,t,n),a=a.sibling;Xs=i,Qs=s,Ys=l}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xs=a):bu(e)}}function bu(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&za(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}za(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&iu(t)}catch(h){Cl(t,t.return,h)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function _u(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function wu(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Cl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Cl(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Cl(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Cl(t,o,u)}}}catch(u){Cl(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var xu,Cu=Math.ceil,Eu=b.ReactCurrentDispatcher,Su=b.ReactCurrentOwner,Nu=b.ReactCurrentBatchConfig,Iu=0,Tu=null,Pu=null,ju=0,Ru=0,Ou=Ci(0),Lu=0,Du=null,Au=0,Mu=0,zu=0,Fu=null,Uu=null,Wu=0,Vu=1/0,qu=null,Hu=!1,Bu=null,Ku=null,$u=!1,Gu=null,Qu=0,Yu=0,Ju=null,Xu=-1,Zu=0;function el(){return 0!==(6&Iu)?Je():-1!==Xu?Xu:Xu=Je()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==ju?ju&-ju:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nl(e,t,n,r){if(50<Yu)throw Yu=0,Ju=null,Error(a(185));yt(e,n,r),0!==(2&Iu)&&e===Tu||(e===Tu&&(0===(2&Iu)&&(Mu|=n),4===Lu&&sl(e,ju)),rl(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(Vu=Je()+500,Fi&&Vi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Tu?ju:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fi=!0,Wi(e)}(ul.bind(null,e)):Wi(ul.bind(null,e)),oi((function(){0===(6&Iu)&&Vi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Xu=-1,Zu=0,0!==(6&Iu))throw Error(a(327));var n=e.callbackNode;if(wl()&&e.callbackNode!==n)return null;var r=ft(e,e===Tu?ju:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Iu;Iu|=2;var o=pl();for(Tu===e&&ju===t||(qu=null,Vu=Je()+500,fl(e,t));;)try{gl();break}catch(u){hl(e,u)}_a(),Eu.current=o,Iu=i,null!==Pu?t=0:(Tu=null,ju=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Du,fl(e,0),sl(e,r),rl(e,Je()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=pt(e))&&(r=o,t=al(e,o))),1===t))throw n=Du,fl(e,0),sl(e,r),rl(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_l(e,Uu,qu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Wu+500-Je())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_l.bind(null,e,Uu,qu),t);break}_l(e,Uu,qu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ri(_l.bind(null,e,Uu,qu),r);break}_l(e,Uu,qu);break;default:throw Error(a(329))}}}return rl(e,Je()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Uu,Uu=n,null!==t&&ol(t)),e}function ol(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function sl(e,t){for(t&=~zu,t&=~Mu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Iu))throw Error(a(327));wl();var t=ft(e,0);if(0===(1&t))return rl(e,Je()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Du,fl(e,0),sl(e,t),rl(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,Uu,qu),rl(e,Je()),null}function ll(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(Vu=Je()+500,Fi&&Vi())}}function cl(e){null!==Gu&&0===Gu.tag&&0===(6&Iu)&&wl();var t=Iu;Iu|=1;var n=Nu.transition,r=kt;try{if(Nu.transition=null,kt=1,e)return e()}finally{kt=r,Nu.transition=n,0===(6&(Iu=t))&&Vi()}}function dl(){Ru=Ou.current,Ei(Ou)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ei(Ti),Ei(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:wa(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Tu=e,Pu=e=Ol(e.current,null),ju=Ru=t,Lu=0,Du=null,zu=Mu=Au=0,Uu=Fu=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function hl(e,t){for(;;){var n=Pu;try{if(_a(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Su.current=null,null===n||null===n.return){Lu=1,Du=t,Pu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=ju,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),vl();break e}l=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Lu&&(Lu=2),null===Fu?Fu=[o]:Fu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Aa(o,ps(0,l,t));break e;case 1:u=l;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ku||!Ku.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Aa(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bl(n)}catch(b){t=b,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function pl(){var e=Eu.current;return Eu.current=os,null===e?os:e}function vl(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Tu||0===(268435455&Au)&&0===(268435455&Mu)||sl(Tu,ju)}function ml(e,t){var n=Iu;Iu|=2;var r=pl();for(Tu===e&&ju===t||(qu=null,fl(e,t));;)try{yl();break}catch(i){hl(e,i)}if(_a(),Iu=n,Eu.current=r,null!==Pu)throw Error(a(261));return Tu=null,ju=0,Lu}function yl(){for(;null!==Pu;)kl(Pu)}function gl(){for(;null!==Pu&&!Qe();)kl(Pu)}function kl(e){var t=xu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?bl(e):Pu=t,Su.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$s(n,t,Ru)))return void(Pu=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Lu=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Lu&&(Lu=5)}function _l(e,t,n){var r=kt,i=Nu.transition;try{Nu.transition=null,kt=1,function(e,t,n,r){do{wl()}while(null!==Gu);if(0!==(6&Iu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Tu&&(Pu=Tu=null,ju=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$u||($u=!0,Tl(tt,(function(){return wl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Nu.transition,Nu.transition=null;var s=kt;kt=1;var u=Iu;Iu|=4,Su.current=null,function(e,t){if(ei=Ht,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,u=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(u=s),h===o&&++d===r&&(l=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(_){Cl(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Ye(),Iu=u,kt=s,Nu.transition=o}else e.current=n;if($u&&($u=!1,Gu=e,Qu=i),0===(o=e.pendingLanes)&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Bu,Bu=null,e;0!==(1&Qu)&&0!==e.tag&&wl(),0!==(1&(o=e.pendingLanes))?e===Ju?Yu++:(Yu=0,Ju=e):Yu=0,Vi()}(e,t,n,r)}finally{Nu.transition=i,kt=r}return null}function wl(){if(null!==Gu){var e=bt(Qu),t=Nu.transition,n=kt;try{if(Nu.transition=null,kt=16>e?16:e,null===Gu)var r=!1;else{if(e=Gu,Gu=null,Qu=0,0!==(6&Iu))throw Error(a(331));var i=Iu;for(Iu|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(0!==(16&Xs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Xs=c;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:nu(8,d,o)}var f=d.child;if(null!==f)f.return=d,Xs=f;else for(;null!==Xs;){var h=(d=Xs).sibling,p=d.return;if(au(d),d===c){Xs=null;break}if(null!==h){h.return=p,Xs=h;break}Xs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(o=Xs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xs=g;break e}Xs=o.return}}var k=e.current;for(Xs=k;null!==Xs;){var b=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Xs=b;else e:for(s=k;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(w){Cl(u,u.return,w)}if(u===s){Xs=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,Xs=_;break e}Xs=u.return}}if(Iu=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{kt=n,Nu.transition=t}}return!1}function xl(e,t,n){e=La(e,t=ps(0,t=cs(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function Cl(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=La(t,e=vs(t,e=cs(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function El(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Tu===e&&(ju&n)===n&&(4===Lu||3===Lu&&(130023424&ju)===ju&&500>Je()-Wu?fl(e,0):zu|=n),rl(e,t)}function Sl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Ta(e,t))&&(yt(e,t,n),rl(e,n))}function Nl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sl(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sl(e,n)}function Tl(e,t){return $e(e,t)}function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jl(e,t,n,r){return new Pl(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=jl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Dl(n.children,i,o,t);case C:s=8,i|=8;break;case E:return(e=jl(12,n,t,2|i)).elementType=E,e.lanes=o,e;case T:return(e=jl(13,n,t,i)).elementType=T,e.lanes=o,e;case P:return(e=jl(19,n,t,i)).elementType=P,e.lanes=o,e;case O:return Al(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case N:s=9;break e;case I:s=11;break e;case j:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=jl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dl(e,t,n,r){return(e=jl(7,e,r,t)).lanes=n,e}function Al(e,t,n,r){return(e=jl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Ml(e,t,n){return(e=jl(6,e,null,t)).lanes=n,e}function zl(e,t,n){return(t=jl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ul(e,t,n,r,i,a,o,s,u){return e=new Fl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=jl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ja(a),e}function Wl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vl(e){if(!e)return Ni;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Di(e,n,t)}return t}function ql(e,t,n,r,i,a,o,s,u){return(e=Ul(n,r,!0,e,0,a,0,s,u)).context=Vl(null),n=e.current,(a=Oa(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,La(n,a,i),e.current.lanes=i,yt(e,i,r),rl(e,r),e}function Hl(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=Vl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=La(i,t,o))&&(nl(e,i,o,a),Da(e,i,o)),o}function Bl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $l(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),ha();break;case 5:ao(t);break;case 1:Ri(t.type)&&Ai(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ms(e,t,n):(Si(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=ji(t,Ii.current);Ca(t,n),i=Co(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Ai(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ja(t),i.updater=Wa,t.stateNode=i,i._reactInternals=t,Ba(t,r,e,n),t=Ts(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===j)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ns(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Ma(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=js(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=js(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Hs(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return Ms(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ti.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),r=r(i=Ea(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qs(e,t),t.tag=1,Ri(r)?(e=!0,Ai(t)):e=!1,Ca(t,n),qa(t,r,i),Ba(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Bl(o);s.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Bl(o);a.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Bl(u);s.call(e)}}var u=Ul(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,Vr(8===e.nodeType?e.parentNode:e),cl((function(){Hl(t,u,n,r)})),u}(n,t,e,i,r);return Bl(o)}Yl.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hl(e,t,null,null)},Yl.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Hl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Mt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),rl(t,Je()),0===(6&Iu)&&(Vu=Je()+500,Vi()))}break;case 13:cl((function(){var t=Ta(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),$l(e,1)}},wt=function(e){if(13===e.tag){var t=Ta(e,134217728);if(null!==t)nl(t,e,134217728,el());$l(e,134217728)}},xt=function(e){if(13===e.tag){var t=tl(e),n=Ta(e,t);if(null!==n)nl(n,e,t,el());$l(e,t)}},Ct=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(a(90));$(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ll,Te=cl;var tc={usingClientEntryPoint:!1,Events:[ki,bi,_i,Se,Ne,ll]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Be(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(a(200));return Wl(e,t,null,n)},t.createRoot=function(e,t){if(!Jl(e))throw Error(a(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ul(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Be(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,x={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,_(o)?(i="",null!=e&&(i=e.replace(N,"$&/")+"/"),T(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(N,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",_(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=T(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=T(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function _(e){if(m=!1,b(e),!v)if(null!==r(l))v=!0,O(w);else{var t=r(c);null!==t&&L(_,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=h;try{for(b(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!T());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),b(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var d=r(c);null!==d&&L(_,d.startTime-n),u=!1}return u}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,C=!1,E=null,S=-1,N=5,I=-1;function T(){return!(t.unstable_now()-I<N)}function P(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?x():(C=!1,E=null)}}else C=!1}if("function"===typeof k)x=function(){k(P)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,R=j.port2;j.port1.onmessage=P,x=function(){R.postMessage(null)}}else x=function(){y(P,0)};function O(e){E=e,C||(C=!0,x())}function L(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(S),S=-1):m=!0,L(_,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,O(w))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".c1112931.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="app:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkapp=self.webpackChunkapp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n.t(e,2),r=n(250);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function f(e,t){if(null==e)return{};var n,r,i=d(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var h=n(694),p=n.n(h),v=n(184),m=["as","disabled"];function y(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,u=e.tabIndex,l=void 0===u?0:u,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var d={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},d];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},d]}var g=e.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,m),a=c(y(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,v.jsx)(s,Object.assign({},i,o,{ref:t}))}));g.displayName="Button";var k=g,b=["xxl","xl","lg","md","sm","xs"],_=e.createContext({prefixes:{},breakpoints:b,minBreakpoint:"xs"});_.Consumer,_.Provider;function w(t,n){var r=(0,e.useContext)(_).prefixes;return t||r[n]||n}function x(){return(0,e.useContext)(_).breakpoints}function C(){return(0,e.useContext)(_).minBreakpoint}var E=["as","bsPrefix","variant","size","active","className"],S=e.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,s=e.active,u=e.className,l=f(e,E),d=w(r,"btn"),h=c(y(o({tagName:n},l)),2),m=h[0],g=h[1].tagName;return(0,v.jsx)(g,o(o(o({},m),l),{},{ref:t,className:p()(u,d,s&&"active",i&&"".concat(d,"-").concat(i),a&&"".concat(d,"-").concat(a),l.href&&l.disabled&&"disabled")}))}));S.displayName="Button",S.defaultProps={variant:"primary",active:!1,disabled:!1};var N=S,I=["bsPrefix","fluid","as","className"],T=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,s=e.className,u=f(e,I),l=w(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,v.jsx)(a,o(o({ref:t},u),{},{className:p()(s,r?"".concat(l).concat(c):l)}))}));T.displayName="Container",T.defaultProps={fluid:!1};var P=T;n(573);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}n(176);function R(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function O(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function L(t,n){return Object.keys(n).reduce((function(r,i){var a,o=r,s=o[R(i)],u=o[i],l=d(o,[R(i),i].map(O)),c=n[i],f=function(t,n,r){var i=(0,e.useRef)(void 0!==t),a=(0,e.useState)(n),o=a[0],s=a[1],u=void 0!==t,l=i.current;return i.current=u,!u&&l&&o!==n&&s(n),[u?t:o,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(u,s,t[c]),h=f[0],p=f[1];return j({},l,((a={})[i]=h,a[c]=p,a))}),t)}function D(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function A(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function M(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}D.__suppressDeprecationWarning=!0,A.__suppressDeprecationWarning=!0,M.__suppressDeprecationWarning=!0;var z=Function.prototype.bind.call(Function.prototype.call,[].slice);function F(e,t){return z(e.querySelectorAll(t))}var U=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var W=function(t,n){return(0,e.useMemo)((function(){return function(e,t){var n=U(e),r=U(t);return function(e){n&&n(e),r&&r(e)}}(t,n)}),[t,n])},V=e.createContext(null);V.displayName="NavContext";var q=V,H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},B=e.createContext(null),K=e.createContext(null);function $(e){return"".concat("data-rr-ui-").concat(e)}var G=function(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t}),[t]),n};function Q(t){var n=G(t);return(0,e.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var Y=["as","active","eventKey"];function J(t){var n=t.key,r=t.onClick,i=t.active,a=t.id,o=t.role,s=t.disabled,u=(0,e.useContext)(B),l=(0,e.useContext)(q),c=(0,e.useContext)(K),d=i,f={role:o};if(l){o||"tablist"!==l.role||(f.role="tab");var h=l.getControllerId(null!=n?n:null),p=l.getControlledId(null!=n?n:null);f[$("event-key")]=n,f.id=h||a,!(d=null==i&&null!=n?l.activeKey===n:i)&&(null!=c&&c.unmountOnExit||null!=c&&c.mountOnEnter)||(f["aria-controls"]=p)}return"tab"===f.role&&(f["aria-selected"]=d,d||(f.tabIndex=-1),s&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=Q((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[f,{isActive:d}]}var X=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?k:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Y),s=c(J(Object.assign({key:H(a,o.href),active:i},o)),2),u=s[0],l=s[1];return u[$("active")]=l.isActive,(0,v.jsx)(r,Object.assign({},o,u,{ref:t}))}));X.displayName="NavItem";var Z=X,ee=["as","onSelect","activeKey","role","onKeyDown"];var te=function(){},ne=$("event-key"),re=e.forwardRef((function(t,n){var r,i,a=t.as,o=void 0===a?"div":a,s=t.onSelect,u=t.activeKey,l=t.role,c=t.onKeyDown,d=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,ee),f=(0,e.useReducer)((function(e){return!e}),!1)[1],h=(0,e.useRef)(!1),p=(0,e.useContext)(B),m=(0,e.useContext)(K);m&&(l=l||"tablist",u=m.activeKey,r=m.getControlledId,i=m.getControllerId);var y=(0,e.useRef)(null),g=function(e){var t=y.current;if(!t)return null;var n=F(t,"[".concat(ne,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},k=function(e,t){null!=e&&(null==s||s(e,t),null==p||p(e,t))};(0,e.useEffect)((function(){if(y.current&&h.current){var e=y.current.querySelector("[".concat(ne,"][aria-selected=true]"));null==e||e.focus()}h.current=!1}));var b=W(n,y);return(0,v.jsx)(B.Provider,{value:k,children:(0,v.jsx)(q.Provider,{value:{role:l,activeKey:H(u),getControlledId:r||te,getControllerId:i||te},children:(0,v.jsx)(o,Object.assign({},d,{onKeyDown:function(e){if(null==c||c(e),m){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}if(t)e.preventDefault(),k(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),h.current=!0,f()}},ref:b,role:l}))})})}));re.displayName="Nav";var ie=Object.assign(re,{Item:Z}),ae=e.createContext(null);ae.displayName="NavbarContext";var oe=ae,se=e.createContext(null);se.displayName="CardHeaderContext";var ue=se,le=/-(.)/g;var ce=["className","bsPrefix","as"],de=function(e){return e[0].toUpperCase()+(t=e,t.replace(le,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function fe(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?de(t):r,a=n.Component,s=n.defaultProps,u=e.forwardRef((function(e,n){var r=e.className,i=e.bsPrefix,s=e.as,u=void 0===s?a||"div":s,l=f(e,ce),c=w(i,t);return(0,v.jsx)(u,o({ref:n,className:p()(r,c)},l))}));return u.defaultProps=s,u.displayName=i,u}var he=fe("nav-item");var pe="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,ve="undefined"!==typeof document||pe?e.useLayoutEffect:e.useEffect;new WeakMap;var me=["onKeyDown"];var ye=e.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,me),a=c(y(Object.assign({tagName:"a"},i)),1)[0],o=Q((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,v.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,v.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));ye.displayName="Anchor";var ge=ye,ke=["bsPrefix","className","as","active","eventKey"],be=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?ge:i,s=e.active,u=e.eventKey,l=f(e,ke);n=w(n,"nav-link");var d=c(J(o({key:H(u,l.href),active:s},l)),2),h=d[0],m=d[1];return(0,v.jsx)(a,o(o(o({},l),h),{},{ref:t,className:p()(r,n,l.disabled&&"disabled",m.isActive&&"active")}))}));be.displayName="NavLink",be.defaultProps={disabled:!1};var _e=be,we=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],xe=e.forwardRef((function(t,n){var r,a,s,u=L(t,{activeKey:"onSelect"}),l=u.as,c=void 0===l?"div":l,d=u.bsPrefix,h=u.variant,m=u.fill,y=u.justify,g=u.navbar,k=u.navbarScroll,b=u.className,_=u.activeKey,x=f(u,we),C=w(d,"nav"),E=!1,S=(0,e.useContext)(oe),N=(0,e.useContext)(ue);return S?(a=S.bsPrefix,E=null==g||g):N&&(s=N.cardHeaderBsPrefix),(0,v.jsx)(ie,o({as:c,ref:n,activeKey:_,className:p()(b,(r={},i(r,C,!E),i(r,"".concat(a,"-nav"),E),i(r,"".concat(a,"-nav-scroll"),E&&k),i(r,"".concat(s,"-").concat(h),!!s),i(r,"".concat(C,"-").concat(h),!!h),i(r,"".concat(C,"-fill"),m),i(r,"".concat(C,"-justified"),y),r))},x))}));xe.displayName="Nav",xe.defaultProps={justify:!1,fill:!1};var Ce=Object.assign(xe,{Item:he,Link:_e}),Ee=["bsPrefix","className","as"],Se=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=f(e,Ee);n=w(n,"navbar-brand");var s=i||(a.href?"a":"span");return(0,v.jsx)(s,o(o({},a),{},{ref:t,className:p()(r,n)}))}));Se.displayName="NavbarBrand";var Ne=Se;function Ie(e){return e&&e.ownerDocument||document}function Te(e,t){return function(e){var t=Ie(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Pe=/([A-Z])/g;var je=/^ms-/;function Re(e){return function(e){return e.replace(Pe,"-$1").toLowerCase()}(e).replace(je,"-ms-")}var Oe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Le=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Re(t))||Te(e).getPropertyValue(Re(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Oe.test(e))}(i)?n+=Re(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Re(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function De(e,t){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},De(e,t)}var Ae=n(164),Me=!1,ze=e.createContext(null),Fe="unmounted",Ue="exited",We="entering",Ve="entered",qe="exiting",He=function(t){var n,r;function i(e,n){var r;r=t.call(this,e,n)||this;var i,a=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=Ue,r.appearStatus=We):i=Ve:i=e.unmountOnExit||e.mountOnEnter?Fe:Ue,r.state={status:i},r.nextCallback=null,r}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,De(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Fe?{status:Ue}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==We&&n!==Ve&&(t=We):n!==We&&n!==Ve||(t=qe)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===We){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Ae.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ue&&this.setState({status:Fe})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Ae.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||Me?this.safeSetState({status:Ve},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:We},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:Ve},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Ae.findDOMNode(this);t&&!Me?(this.props.onExit(r),this.safeSetState({status:qe},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ue},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ue},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Ae.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if(t===Fe)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,d(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(ze.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},i}(e.Component);function Be(){}He.contextType=ze,He.propTypes={},He.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Be,onEntering:Be,onEntered:Be,onExit:Be,onExiting:Be,onExited:Be},He.UNMOUNTED=Fe,He.EXITED=Ue,He.ENTERING=We,He.ENTERED=Ve,He.EXITING=qe;var Ke=He,$e=!("undefined"===typeof window||!window.document||!window.document.createElement),Ge=!1,Qe=!1;try{var Ye={get passive(){return Ge=!0},get once(){return Qe=Ge=!0}};$e&&(window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,!0))}catch(bg){}var Je=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Qe){var i=r.once,a=r.capture,o=n;!Qe&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Ge?r:a)}e.addEventListener(t,n,r)};var Xe=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Ze=function(e,t,n,r){return Je(e,t,n,r),function(){Xe(e,t,n,r)}};function et(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Ze(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function tt(e,t,n,r){null==n&&(n=function(e){var t=Le(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=et(e,n,r),a=Ze(e,"transitionend",t);return function(){i(),a()}}function nt(e,t){var n=Le(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function rt(e,t){var n=nt(e,"transitionDuration"),r=nt(e,"transitionDelay"),i=tt(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var it=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function at(e){e.offsetHeight}var ot,st=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],ut=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,a=t.onEntered,s=t.onExit,u=t.onExiting,l=t.onExited,c=t.addEndListener,d=t.children,h=t.childRef,p=f(t,st),m=(0,e.useRef)(null),y=W(m,h),g=function(e){var t;y((t=e)&&"setState"in t?Ae.findDOMNode(t):null!=t?t:null)},k=function(e){return function(t){e&&m.current&&e(m.current,t)}},b=(0,e.useCallback)(k(r),[r]),_=(0,e.useCallback)(k(i),[i]),w=(0,e.useCallback)(k(a),[a]),x=(0,e.useCallback)(k(s),[s]),C=(0,e.useCallback)(k(u),[u]),E=(0,e.useCallback)(k(l),[l]),S=(0,e.useCallback)(k(c),[c]);return(0,v.jsx)(Ke,o(o({ref:n},p),{},{onEnter:b,onEntered:w,onEntering:_,onExit:x,onExited:E,onExiting:C,addEndListener:S,nodeRef:m,children:"function"===typeof d?function(e,t){return d(e,o(o({},t),{},{ref:g}))}:e.cloneElement(d,{ref:g})}))})),lt=ut,ct=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],dt={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ft(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=dt[e];return n+parseInt(Le(t,r[0]),10)+parseInt(Le(t,r[1]),10)}var ht=(i(ot={},Ue,"collapse"),i(ot,qe,"collapsing"),i(ot,We,"collapsing"),i(ot,Ve,"collapse show"),ot),pt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:ft},vt=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,a=t.onEntered,s=t.onExit,u=t.onExiting,l=t.className,c=t.children,d=t.dimension,h=void 0===d?"height":d,m=t.getDimensionValue,y=void 0===m?ft:m,g=f(t,ct),k="function"===typeof h?h():h,b=(0,e.useMemo)((function(){return it((function(e){e.style[k]="0"}),r)}),[k,r]),_=(0,e.useMemo)((function(){return it((function(e){var t="scroll".concat(k[0].toUpperCase()).concat(k.slice(1));e.style[k]="".concat(e[t],"px")}),i)}),[k,i]),w=(0,e.useMemo)((function(){return it((function(e){e.style[k]=null}),a)}),[k,a]),x=(0,e.useMemo)((function(){return it((function(e){e.style[k]="".concat(y(k,e),"px"),at(e)}),s)}),[s,y,k]),C=(0,e.useMemo)((function(){return it((function(e){e.style[k]=null}),u)}),[k,u]);return(0,v.jsx)(lt,o(o({ref:n,addEndListener:rt},g),{},{"aria-expanded":g.role?g.in:null,onEnter:b,onEntering:_,onEntered:w,onExit:x,onExiting:C,childRef:c.ref,children:function(t,n){return e.cloneElement(c,o(o({},n),{},{className:p()(l,c.props.className,ht[t],"width"===k&&"collapse-horizontal")}))}}))}));vt.defaultProps=pt;var mt=vt,yt=["children","bsPrefix"],gt=e.forwardRef((function(t,n){var r=t.children,i=t.bsPrefix,a=f(t,yt);i=w(i,"navbar-collapse");var s=(0,e.useContext)(oe);return(0,v.jsx)(mt,o(o({in:!(!s||!s.expanded)},a),{},{children:(0,v.jsx)("div",{ref:n,className:i,children:r})}))}));gt.displayName="NavbarCollapse";var kt=gt,bt=["bsPrefix","className","children","label","as","onClick"],_t=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,a=t.children,s=t.label,u=t.as,l=void 0===u?"button":u,c=t.onClick,d=f(t,bt);r=w(r,"navbar-toggler");var h=(0,e.useContext)(oe)||{},m=h.onToggle,y=h.expanded,g=Q((function(e){c&&c(e),m&&m()}));return"button"===l&&(d.type="button"),(0,v.jsx)(l,o(o({},d),{},{ref:n,onClick:g,"aria-label":s,className:p()(i,r,!y&&"collapsed"),children:a||(0,v.jsx)("span",{className:"".concat(r,"-icon")})}))}));_t.displayName="NavbarToggle",_t.defaultProps={label:"Toggle navigation"};var wt=_t,xt=new WeakMap,Ct=function(e,t){if(e&&t){var n=xt.get(t)||new Map;xt.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function Et(t,n){void 0===n&&(n="undefined"===typeof window?void 0:window);var r=Ct(t,n),i=(0,e.useState)((function(){return!!r&&r.matches})),a=i[0],o=i[1];return ve((function(){var e=Ct(t,n);if(!e)return o(!1);var r=xt.get(n),i=function(){o(e.matches)};return e.refCount++,e.addListener(i),i(),function(){e.removeListener(i),e.refCount--,e.refCount<=0&&(null==r||r.delete(e.media)),e=void 0}}),[t]),a}var St=function(t){var n=Object.keys(t);function r(e,t){return e===t?t:e?e+" and "+t:t}function i(e){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(e),i=t[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(n,a,o){var s,u;"object"===typeof n?(s=n,o=a,a=!0):((u={})[n]=a=a||!0,s=u);var l=(0,e.useMemo)((function(){return Object.entries(s).reduce((function(e,n){var a=n[0],o=n[1];return"up"!==o&&!0!==o||(e=r(e,function(e){var n=t[e];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(e=r(e,i(a))),e}),"")}),[JSON.stringify(s)]);return Et(l,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Nt=St;function It(e){void 0===e&&(e=Ie());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(bg){return e.body}}function Tt(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Pt(t){var n=function(t){var n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((function(){return function(){return n.current()}}),[])}function jt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t,n){return t&&Rt(e.prototype,t),n&&Rt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Lt=$("modal-open"),Dt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;jt(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return Ot(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=i({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Le(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Lt,""),Le(r,t)}},{key:"reset",value:function(){var e=this;l(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(Lt),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),At=Dt,Mt=(0,e.createContext)($e?window:void 0);Mt.Provider;function zt(){return(0,e.useContext)(Mt)}var Ft=function(e,t){return $e?null==e?(t||Ie()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var Ut,Wt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Vt(t){var n=zt(),r=t||function(e){return Ut||(Ut=new At({ownerDocument:null==e?void 0:e.document})),Ut}(n),i=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,e.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((function(e){i.current.backdrop=e}),[])})}var qt=(0,e.forwardRef)((function(t,n){var r=t.show,i=void 0!==r&&r,a=t.role,o=void 0===a?"dialog":a,s=t.className,u=t.style,l=t.children,d=t.backdrop,f=void 0===d||d,h=t.keyboard,p=void 0===h||h,m=t.onBackdropClick,y=t.onEscapeKeyDown,g=t.transition,k=t.backdropTransition,b=t.autoFocus,_=void 0===b||b,w=t.enforceFocus,x=void 0===w||w,C=t.restoreFocus,E=void 0===C||C,S=t.restoreFocusOptions,N=t.renderDialog,I=t.renderBackdrop,T=void 0===I?function(e){return(0,v.jsx)("div",Object.assign({},e))}:I,P=t.manager,j=t.container,R=t.onShow,O=t.onHide,L=void 0===O?function(){}:O,D=t.onExit,A=t.onExited,M=t.onExiting,z=t.onEnter,F=t.onEntering,U=t.onEntered,W=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,Wt),V=function(t,n){var r=zt(),i=c((0,e.useState)((function(){return Ft(t,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var s=Ft(t);s&&o(s)}return(0,e.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,e.useEffect)((function(){var e=Ft(t);e!==a&&o(e)}),[t,a]),a}(j),q=Vt(P),H=function(){var t=(0,e.useRef)(!0),n=(0,e.useRef)((function(){return t.current}));return(0,e.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),n.current}(),B=function(t){var n=(0,e.useRef)(null);return(0,e.useEffect)((function(){n.current=t})),n.current}(i),K=c((0,e.useState)(!i),2),$=K[0],G=K[1],Y=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(function(){return q}),[q]),$e&&!B&&i&&(Y.current=It()),g||i||$?i&&$&&G(!1):G(!0);var J=Q((function(){if(q.add(),re.current=Ze(document,"keydown",te),ne.current=Ze(document,"focus",(function(){return setTimeout(Z)}),!0),R&&R(),_){var e=It(document);q.dialog&&e&&!Tt(q.dialog,e)&&(Y.current=e,q.dialog.focus())}})),X=Q((function(){var e;(q.remove(),null==re.current||re.current(),null==ne.current||ne.current(),E)&&(null==(e=Y.current)||null==e.focus||e.focus(S),Y.current=null)}));(0,e.useEffect)((function(){i&&V&&J()}),[i,V,J]),(0,e.useEffect)((function(){$&&X()}),[$,X]),Pt((function(){X()}));var Z=Q((function(){if(x&&H()&&q.isTopModal()){var e=It();q.dialog&&e&&!Tt(q.dialog,e)&&q.dialog.focus()}})),ee=Q((function(e){e.target===e.currentTarget&&(null==m||m(e),!0===f&&L())})),te=Q((function(e){p&&27===e.keyCode&&q.isTopModal()&&(null==y||y(e),e.defaultPrevented||L())})),ne=(0,e.useRef)(),re=(0,e.useRef)(),ie=g;if(!V||!(i||ie&&!$))return null;var ae=Object.assign({role:o,ref:q.setDialogRef,"aria-modal":"dialog"===o||void 0},W,{style:u,className:s,tabIndex:-1}),oe=N?N(ae):(0,v.jsx)("div",Object.assign({},ae,{children:e.cloneElement(l,{role:"document"})}));ie&&(oe=(0,v.jsx)(ie,{appear:!0,unmountOnExit:!0,in:!!i,onExit:D,onExiting:M,onExited:function(){G(!0),null==A||A.apply(void 0,arguments)},onEnter:z,onEntering:F,onEntered:U,children:oe}));var se=null;if(f){var ue=k;se=T({ref:q.setBackdropRef,onClick:ee}),ue&&(se=(0,v.jsx)(ue,{appear:!0,in:!!i,children:se}))}return(0,v.jsx)(v.Fragment,{children:Ae.createPortal((0,v.jsxs)(v.Fragment,{children:[se,oe]}),V)})}));qt.displayName="Modal";var Ht,Bt=Object.assign(qt,{Manager:At}),Kt=["className","children","transitionClasses"],$t=(i(Ht={},We,"show"),i(Ht,Ve,"show"),Ht),Gt=e.forwardRef((function(t,n){var r=t.className,i=t.children,a=t.transitionClasses,s=void 0===a?{}:a,u=f(t,Kt),l=(0,e.useCallback)((function(e,t){at(e),null==u.onEnter||u.onEnter(e,t)}),[u]);return(0,v.jsx)(lt,o(o({ref:n,addEndListener:rt},u),{},{onEnter:l,childRef:i.ref,children:function(t,n){return e.cloneElement(i,o(o({},n),{},{className:p()("fade",r,i.props.className,$t[t],s[t])}))}}))}));Gt.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Gt.displayName="Fade";var Qt,Yt=Gt,Jt=fe("offcanvas-body"),Xt=["bsPrefix","className","children"],Zt=(i(Qt={},We,"show"),i(Qt,Ve,"show"),Qt),en=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,a=t.children,s=f(t,Xt);return r=w(r,"offcanvas"),(0,v.jsx)(lt,o(o({ref:n,addEndListener:rt},s),{},{childRef:a.ref,children:function(t,n){return e.cloneElement(a,o(o({},n),{},{className:p()(i,a.props.className,(t===We||t===qe)&&"".concat(r,"-toggling"),Zt[t])}))}}))}));en.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},en.displayName="OffcanvasToggling";var tn=en,nn=e.createContext({onHide:function(){}}),rn=n(7),an=n.n(rn),on=["className","variant"],sn={"aria-label":an().string,onClick:an().func,variant:an().oneOf(["white"])},un=e.forwardRef((function(e,t){var n=e.className,r=e.variant,i=f(e,on);return(0,v.jsx)("button",o({ref:t,type:"button",className:p()("btn-close",r&&"btn-close-".concat(r),n)},i))}));un.displayName="CloseButton",un.propTypes=sn,un.defaultProps={"aria-label":"Close"};var ln=un,cn=["closeLabel","closeVariant","closeButton","onHide","children"],dn=e.forwardRef((function(t,n){var r=t.closeLabel,i=t.closeVariant,a=t.closeButton,s=t.onHide,u=t.children,l=f(t,cn),c=(0,e.useContext)(nn),d=Q((function(){null==c||c.onHide(),null==s||s()}));return(0,v.jsxs)("div",o(o({ref:n},l),{},{children:[u,a&&(0,v.jsx)(ln,{"aria-label":r,variant:i,onClick:d})]}))}));dn.defaultProps={closeLabel:"Close",closeButton:!1};var fn=dn,hn=["bsPrefix","className"],pn=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=f(e,hn);return n=w(n,"offcanvas-header"),(0,v.jsx)(fn,o(o({ref:t},i),{},{className:p()(r,n)}))}));pn.displayName="OffcanvasHeader",pn.defaultProps={closeLabel:"Close",closeButton:!1};var vn,mn=pn,yn=(vn="h5",e.forwardRef((function(e,t){return(0,v.jsx)("div",o(o({},e),{},{ref:t,className:p()(e.className,vn)}))}))),gn=fe("offcanvas-title",{Component:yn});function kn(e){return kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kn(e)}function bn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kn(e)););return e}function _n(){return _n="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=bn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_n.apply(this,arguments)}function wn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}function xn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(bg){return!1}}function Cn(e){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cn(e)}function En(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sn(e,t){if(t&&("object"===Cn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return En(e)}function Nn(e){var t=xn();return function(){var n,r=kn(e);if(t){var i=kn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Sn(this,n)}}function In(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Tn,Pn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",jn=".sticky-top",Rn=".navbar-toggler",On=function(e){wn(n,e);var t=Nn(n);function n(){return jt(this,n),t.apply(this,arguments)}return Ot(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Le(t,i({},e,"".concat(parseFloat(Le(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Le(t,i({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;_n(kn(n.prototype),"setContainerStyle",this).call(this,e);var r=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(r,"modal-open"),e.scrollBarWidth){var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";F(r,Pn).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)})),F(r,jn).forEach((function(n){return t.adjustAndStore(a,n,-e.scrollBarWidth)})),F(r,Rn).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;_n(kn(n.prototype),"removeContainerStyle",this).call(this,e);var r=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=In(e.className,t):e.setAttribute("class",In(e.className&&e.className.baseVal||"",t))}(r,"modal-open");var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";F(r,Pn).forEach((function(e){return t.restore(i,e)})),F(r,jn).forEach((function(e){return t.restore(a,e)})),F(r,Rn).forEach((function(e){return t.restore(a,e)}))}}]),n}(At);var Ln=On,Dn=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function An(e){return(0,v.jsx)(tn,o({},e))}function Mn(e){return(0,v.jsx)(Yt,o({},e))}var zn=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,a=t.children,s=t["aria-labelledby"],u=t.placement,l=t.responsive,d=t.show,h=t.backdrop,m=t.keyboard,y=t.scroll,g=t.onEscapeKeyDown,k=t.onShow,b=t.onHide,_=t.container,x=t.autoFocus,C=t.enforceFocus,E=t.restoreFocus,S=t.restoreFocusOptions,N=t.onEntered,I=t.onExit,T=t.onExiting,P=t.onEnter,j=t.onEntering,R=t.onExited,O=t.backdropClassName,L=t.manager,D=t.renderStaticNode,A=f(t,Dn),M=(0,e.useRef)();r=w(r,"offcanvas");var z=((0,e.useContext)(oe)||{}).onToggle,F=c((0,e.useState)(!1),2),U=F[0],W=F[1],V=Nt(l||"xs","up");(0,e.useEffect)((function(){W(l?d&&!V:d)}),[d,l,V]);var q=Q((function(){null==z||z(),null==b||b()})),H=(0,e.useMemo)((function(){return{onHide:q}}),[q]);var B=(0,e.useCallback)((function(e){return(0,v.jsx)("div",o(o({},e),{},{className:p()("".concat(r,"-backdrop"),O)}))}),[O,r]),K=function(e){return(0,v.jsx)("div",o(o(o({},e),A),{},{className:p()(i,l?"".concat(r,"-").concat(l):r,"".concat(r,"-").concat(u)),"aria-labelledby":s,children:a}))};return(0,v.jsxs)(v.Fragment,{children:[!U&&(l||D)&&K({}),(0,v.jsx)(nn.Provider,{value:H,children:(0,v.jsx)(Bt,{show:U,ref:n,backdrop:h,container:_,keyboard:m,autoFocus:x,enforceFocus:C&&!y,restoreFocus:E,restoreFocusOptions:S,onEscapeKeyDown:g,onShow:k,onHide:q,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==P||P.apply(void 0,[e].concat(n))},onEntering:j,onEntered:N,onExit:I,onExiting:T,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==R||R.apply(void 0,n)},manager:L||(y?(M.current||(M.current=new Ln({handleContainerOverflow:!1})),M.current):function(e){return Tn||(Tn=new On(e)),Tn}()),transition:An,backdropTransition:Mn,renderBackdrop:B,renderDialog:K})})]})}));zn.displayName="Offcanvas",zn.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};var Fn=Object.assign(zn,{Body:Jt,Header:mn,Title:gn}),Un=e.forwardRef((function(t,n){var r=(0,e.useContext)(oe);return(0,v.jsx)(Fn,o(o({ref:n,show:!(null==r||!r.expanded)},t),{},{renderStaticNode:!0}))}));Un.displayName="NavbarOffcanvas";var Wn=Un,Vn=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],qn=fe("navbar-text",{Component:"span"}),Hn=e.forwardRef((function(t,n){var r=L(t,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,s=r.variant,u=r.bg,l=r.fixed,c=r.sticky,d=r.className,h=r.as,m=void 0===h?"nav":h,y=r.expanded,g=r.onToggle,k=r.onSelect,b=r.collapseOnSelect,_=f(r,Vn),x=w(i,"navbar"),C=(0,e.useCallback)((function(){null==k||k.apply(void 0,arguments),b&&y&&(null==g||g(!1))}),[k,b,y,g]);void 0===_.role&&"nav"!==m&&(_.role="navigation");var E="".concat(x,"-expand");"string"===typeof a&&(E="".concat(E,"-").concat(a));var S=(0,e.useMemo)((function(){return{onToggle:function(){return null==g?void 0:g(!y)},bsPrefix:x,expanded:!!y,expand:a}}),[x,y,a,g]);return(0,v.jsx)(oe.Provider,{value:S,children:(0,v.jsx)(B.Provider,{value:C,children:(0,v.jsx)(m,o(o({ref:n},_),{},{className:p()(d,x,a&&E,s&&"".concat(x,"-").concat(s),u&&"bg-".concat(u),c&&"sticky-".concat(c),l&&"fixed-".concat(l))}))})})}));Hn.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},Hn.displayName="Navbar";var Bn,Kn=Object.assign(Hn,{Brand:Ne,Collapse:kt,Offcanvas:Wn,Text:qn,Toggle:wt});function $n(e,t,n){return $n=xn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&De(i,n.prototype),i},$n.apply(null,arguments)}function Gn(e){var t="function"===typeof Map?new Map:void 0;return Gn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return $n(e,arguments,kn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),De(r,e)},Gn(e)}function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qn.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Bn||(Bn={}));var Yn,Jn="popstate";function Xn(e){return{usr:e.state,key:e.key}}function Zn(e,t,n,r){return void 0===n&&(n=null),Qn({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?tr(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function er(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function tr(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function nr(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:er(e);return new URL(n,t)}function rr(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,l=o.history,c=Bn.Pop,d=null;function f(){c=Bn.Pop,d&&d({action:c,location:h.location})}var h={get action(){return c},get location(){return e(o,l)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Jn,f),d=e,function(){o.removeEventListener(Jn,f),d=null}},createHref:function(e){return t(o,e)},encodeLocation:function(e){var t=nr(er(e));return Qn({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(e,t){c=Bn.Push;var r=Zn(h.location,e,t);n&&n(r,e);var i=Xn(r),a=h.createHref(r);try{l.pushState(i,"",a)}catch(bf){o.location.assign(a)}u&&d&&d({action:c,location:h.location})},replace:function(e,t){c=Bn.Replace;var r=Zn(h.location,e,t);n&&n(r,e);var i=Xn(r),a=h.createHref(r);l.replaceState(i,"",a),u&&d&&d({action:c,location:h.location})},go:function(e){return l.go(e)}};return h}function ir(e,t,n){void 0===n&&(n="/");var r=fr(("string"===typeof t?tr(t):t).pathname||"/",n);if(null==r)return null;var i=ar(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=lr(i[o],dr(r));return a}function ar(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(hr(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=gr([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(hr(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),ar(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:ur(o,e.index),routesMeta:s})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Yn||(Yn={}));var or=/^:\w+$/,sr=function(e){return"*"===e};function ur(e,t){var n=e.split("/"),r=n.length;return n.some(sr)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!sr(e)})).reduce((function(e,t){return e+(or.test(t)?3:""===t?1:10)}),r)}function lr(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=cr({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var d=s.route;a.push({params:r,pathname:gr([i,c.pathname]),pathnameBase:kr(gr([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=gr([i,c.pathnameBase]))}return a}function cr(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);pr("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),d=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(bf){return pr(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+bf+")."),e}}(l[n]||"",t),e}),{});return{params:d,pathname:s,pathnameBase:u,pattern:e}}function dr(e){try{return decodeURI(e)}catch(bf){return pr(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+bf+")."),e}}function fr(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function hr(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function pr(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(bg){}}}function vr(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function mr(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function yr(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=tr(e):(hr(!(i=Qn({},e)).pathname||!i.pathname.includes("?"),vr("?","pathname","search",i)),hr(!i.pathname||!i.pathname.includes("#"),vr("#","pathname","hash",i)),hr(!i.search||!i.search.includes("#"),vr("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),u-=1;i.pathname=l.join("/")}a=u>=0?t[u]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?tr(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:br(a),hash:_r(s)}}(i,a),d=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!f||(c.pathname+="/"),c}var gr=function(e){return e.join("/").replace(/\/\/+/g,"/")},kr=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},br=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},_r=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},wr=function(e){wn(n,e);var t=Nn(n);function n(){return jt(this,n),t.apply(this,arguments)}return Ot(n)}(Gn(Error));var xr=Ot((function e(t,n,r){jt(this,e),this.status=t,this.statusText=n||"",this.data=r}));function Cr(e){return e instanceof xr}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Er=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat(l(Er)));function Sr(){return Sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sr.apply(this,arguments)}var Nr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Ir=e.useState,Tr=e.useEffect,Pr=e.useLayoutEffect,jr=e.useDebugValue;function Rr(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Nr(n,r)}catch(bf){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,t.useSyncExternalStore;var Or=e.createContext(null);var Lr=e.createContext(null);var Dr=e.createContext(null);var Ar=e.createContext(null);var Mr=e.createContext(null);var zr=e.createContext(null);var Fr=e.createContext({outlet:null,matches:[]});var Ur=e.createContext(null);function Wr(){return null!=e.useContext(zr)}function Vr(){return Wr()||hr(!1),e.useContext(zr).location}function qr(){Wr()||hr(!1);var t=e.useContext(Mr),n=t.basename,r=t.navigator,i=e.useContext(Fr).matches,a=Vr().pathname,o=JSON.stringify(mr(i).map((function(e){return e.pathnameBase}))),s=e.useRef(!1);e.useEffect((function(){s.current=!0}));var u=e.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=yr(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:gr([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}function Hr(t,n){var r=(void 0===n?{}:n).relative,i=e.useContext(Fr).matches,a=Vr().pathname,o=JSON.stringify(mr(i).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return yr(t,JSON.parse(o),a,"path"===r)}),[t,o,a,r])}function Br(){var t=function(){var t,n=e.useContext(Ur),r=Jr($r.UseRouteError),i=e.useContext(Fr),a=i.matches[i.matches.length-1];if(n)return n;return i||hr(!1),!a.route.id&&hr(!1),null==(t=r.errors)?void 0:t[a.route.id]}(),n=Cr(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unhandled Thrown Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",e.createElement("code",{style:o},"errorElement")," props on\xa0",e.createElement("code",{style:o},"<Route>")))}var Kr,$r,Gr=function(t){wn(r,t);var n=Nn(r);function r(e){var t;return jt(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return Ot(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(Ur.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(e.Component);function Qr(t){var n=t.routeContext,r=t.match,i=t.children,a=e.useContext(Or);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),e.createElement(Fr.Provider,{value:n},i)}function Yr(t,n,r){if(void 0===n&&(n=[]),null==t){if(null==r||!r.errors)return null;t=r.matches}var i=t,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||hr(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(t,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,l=r?o.route.errorElement||e.createElement(Br,null):null,c=function(){return e.createElement(Qr,{match:o,routeContext:{outlet:t,matches:n.concat(i.slice(0,s+1))}},u?l:void 0!==o.route.element?o.route.element:t)};return r&&(o.route.errorElement||0===s)?e.createElement(Gr,{location:r.location,component:l,error:u,children:c()}):c()}),null)}function Jr(t){var n=e.useContext(Dr);return n||hr(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(Kr||(Kr={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}($r||($r={}));var Xr;function Zr(t){var n=t.to,r=t.replace,i=t.state,a=t.relative;Wr()||hr(!1);var o=e.useContext(Dr),s=qr();return e.useEffect((function(){o&&"idle"!==o.navigation.state||s(n,{replace:r,state:i,relative:a})})),null}function ei(e){hr(!1)}function ti(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,s=t.navigationType,u=void 0===s?Bn.Pop:s,l=t.navigator,c=t.static,d=void 0!==c&&c;Wr()&&hr(!1);var f=r.replace(/^\/*/,"/"),h=e.useMemo((function(){return{basename:f,navigator:l,static:d}}),[f,l,d]);"string"===typeof o&&(o=tr(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,_=p.state,w=void 0===_?null:_,x=p.key,C=void 0===x?"default":x,E=e.useMemo((function(){var e=fr(m,f);return null==e?null:{pathname:e,search:g,hash:b,state:w,key:C}}),[f,m,g,b,w,C]);return null==E?null:e.createElement(Mr.Provider,{value:h},e.createElement(zr.Provider,{children:a,value:{location:E,navigationType:u}}))}function ni(t){var n=t.children,r=t.location,i=e.useContext(Lr);return function(t,n){Wr()||hr(!1);var r,i=e.useContext(Dr),a=e.useContext(Fr).matches,o=a[a.length-1],s=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/"),l=(o&&o.route,Vr());if(n){var c,d="string"===typeof n?tr(n):n;"/"===u||(null==(c=d.pathname)?void 0:c.startsWith(u))||hr(!1),r=d}else r=l;var f=r.pathname||"/",h=ir(t,{pathname:"/"===u?f:f.slice(u.length)||"/"}),p=Yr(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:gr([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:gr([u,e.pathnameBase])})})),a,i||void 0);return n&&p?e.createElement(zr.Provider,{value:{location:Sr({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:Bn.Pop}},p):p}(i&&!n?i.router.routes:ii(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Xr||(Xr={}));var ri=new Promise((function(){}));e.Component;function ii(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,i){if(e.isValidElement(t))if(t.type!==e.Fragment){t.type!==ei&&hr(!1),t.props.index&&t.props.children&&hr(!1);var a=[].concat(l(n),[i]),o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,hasErrorBoundary:null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle};t.props.children&&(o.children=ii(t.props.children,a)),r.push(o)}else r.push.apply(r,ii(t.props.children,n))})),r}function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ai.apply(this,arguments)}function oi(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var si=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function ui(t){var n=t.basename,r=t.children,i=t.window,a=e.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),rr((function(e,t){var n=e.location;return Zn("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:er(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,s=c(e.useState({action:o.action,location:o.location}),2),u=s[0],l=s[1];return e.useLayoutEffect((function(){return o.listen(l)}),[o]),e.createElement(ti,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:o})}var li=e.forwardRef((function(t,n){var r=t.onClick,i=t.relative,a=t.reloadDocument,o=t.replace,s=t.state,u=t.target,l=t.to,c=t.preventScrollReset,d=oi(t,si),f=function(t,n){var r=(void 0===n?{}:n).relative;Wr()||hr(!1);var i=e.useContext(Mr),a=i.basename,o=i.navigator,s=Hr(t,{relative:r}),u=s.hash,l=s.pathname,c=s.search,d=l;return"/"!==a&&(d="/"===l?a:gr([a,l])),o.createHref({pathname:d,search:c,hash:u})}(l,{relative:i}),h=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,l=qr(),c=Vr(),d=Hr(t,{relative:u});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,i)){e.preventDefault();var n=void 0!==a?a:er(c)===er(d);l(t,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[c,l,d,a,o,i,t,s,u])}(l,{replace:o,state:s,target:u,preventScrollReset:c,relative:i});return e.createElement("a",ai({},d,{href:f,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||h(e)},ref:n,target:u}))}));var ci,di;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(ci||(ci={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(di||(di={}));var fi=function(){return(0,v.jsx)(Kn,{bg:"dark",variant:"dark p-3",expand:"md",children:(0,v.jsxs)(P,{fluid:!0,children:[(0,v.jsx)(li,{to:"/",className:"navbar-brand",children:"EnrollApp"}),(0,v.jsx)(Kn.Toggle,{"aria-controls":"navbarScroll"}),(0,v.jsxs)(Kn.Collapse,{id:"navbarScroll",children:[(0,v.jsx)(Ce,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0}),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(li,{to:"/auth/signInLink",className:"nav-link mx-3",children:(0,v.jsx)(N,{variant:"dark",children:"Logowanie uczelni"})}),(0,v.jsx)(li,{to:"/auth/login",className:"nav-link mx-2",children:(0,v.jsx)(N,{variant:"light",children:"Logowanie"})}),(0,v.jsx)(li,{to:"/auth/register",className:"nav-link mx-2",children:(0,v.jsx)(N,{variant:"light",children:"Rejestracja"})})]})]})]})})},hi=["as","className","type","tooltip"],pi={type:an().string,tooltip:an().bool,as:an().elementType},vi=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,s=void 0===a?"valid":a,u=e.tooltip,l=void 0!==u&&u,c=f(e,hi);return(0,v.jsx)(r,o(o({},c),{},{ref:t,className:p()(i,"".concat(s,"-").concat(l?"tooltip":"feedback"))}))}));vi.displayName="Feedback",vi.propTypes=pi;var mi=vi,yi=e.createContext({}),gi=["id","bsPrefix","className","type","isValid","isInvalid","as"],ki=e.forwardRef((function(t,n){var r=t.id,i=t.bsPrefix,a=t.className,s=t.type,u=void 0===s?"checkbox":s,l=t.isValid,c=void 0!==l&&l,d=t.isInvalid,h=void 0!==d&&d,m=t.as,y=void 0===m?"input":m,g=f(t,gi),k=(0,e.useContext)(yi).controlId;return i=w(i,"form-check-input"),(0,v.jsx)(y,o(o({},g),{},{ref:n,type:u,id:r||k,className:p()(a,i,c&&"is-valid",h&&"is-invalid")}))}));ki.displayName="FormCheckInput";var bi=ki,_i=["bsPrefix","className","htmlFor"],wi=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,a=t.htmlFor,s=f(t,_i),u=(0,e.useContext)(yi).controlId;return r=w(r,"form-check-label"),(0,v.jsx)("label",o(o({},s),{},{ref:n,htmlFor:a||u,className:p()(i,r)}))}));wi.displayName="FormCheckLabel";var xi=wi;var Ci=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],Ei=e.forwardRef((function(t,n){var r=t.id,i=t.bsPrefix,a=t.bsSwitchPrefix,s=t.inline,u=void 0!==s&&s,l=t.reverse,c=void 0!==l&&l,d=t.disabled,h=void 0!==d&&d,m=t.isValid,y=void 0!==m&&m,g=t.isInvalid,k=void 0!==g&&g,b=t.feedbackTooltip,_=void 0!==b&&b,x=t.feedback,C=t.feedbackType,E=t.className,S=t.style,N=t.title,I=void 0===N?"":N,T=t.type,P=void 0===T?"checkbox":T,j=t.label,R=t.children,O=t.as,L=void 0===O?"input":O,D=f(t,Ci);i=w(i,"form-check"),a=w(a,"form-switch");var A=(0,e.useContext)(yi).controlId,M=(0,e.useMemo)((function(){return{controlId:r||A}}),[A,r]),z=!R&&null!=j&&!1!==j||function(t,n){return e.Children.toArray(t).some((function(t){return e.isValidElement(t)&&t.type===n}))}(R,xi),F=(0,v.jsx)(bi,o(o({},D),{},{type:"switch"===P?"checkbox":P,ref:n,isValid:y,isInvalid:k,disabled:h,as:L}));return(0,v.jsx)(yi.Provider,{value:M,children:(0,v.jsx)("div",{style:S,className:p()(E,z&&i,u&&"".concat(i,"-inline"),c&&"".concat(i,"-reverse"),"switch"===P&&a),children:R||(0,v.jsxs)(v.Fragment,{children:[F,z&&(0,v.jsx)(xi,{title:I,children:j}),x&&(0,v.jsx)(mi,{type:C,tooltip:_,children:x})]})})})}));Ei.displayName="FormCheck";var Si=Object.assign(Ei,{Input:bi,Label:xi}),Ni=(n(391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),Ii=e.forwardRef((function(t,n){var r,a,s=t.bsPrefix,u=t.type,l=t.size,c=t.htmlSize,d=t.id,h=t.className,m=t.isValid,y=void 0!==m&&m,g=t.isInvalid,k=void 0!==g&&g,b=t.plaintext,_=t.readOnly,x=t.as,C=void 0===x?"input":x,E=f(t,Ni),S=(0,e.useContext)(yi).controlId;(s=w(s,"form-control"),b)?r=i({},"".concat(s,"-plaintext"),!0):(i(a={},s,!0),i(a,"".concat(s,"-").concat(l),l),r=a);return(0,v.jsx)(C,o(o({},E),{},{type:u,size:c,ref:n,readOnly:_,id:d||S,className:p()(h,r,y&&"is-valid",k&&"is-invalid","color"===u&&"".concat(s,"-color"))}))}));Ii.displayName="FormControl";var Ti=Object.assign(Ii,{Feedback:mi}),Pi=fe("form-floating"),ji=["controlId","as"],Ri=e.forwardRef((function(t,n){var r=t.controlId,i=t.as,a=void 0===i?"div":i,s=f(t,ji),u=(0,e.useMemo)((function(){return{controlId:r}}),[r]);return(0,v.jsx)(yi.Provider,{value:u,children:(0,v.jsx)(a,o(o({},s),{},{ref:n}))})}));Ri.displayName="FormGroup";var Oi=Ri,Li=["as","bsPrefix","className"],Di=["className"];var Ai=e.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=f(e,Li);n=w(n,"col");var a=x(),s=C(),u=[],l=[];return a.forEach((function(e){var t,r,a,o=i[e];delete i[e],"object"===typeof o&&null!=o?(t=o.span,r=o.offset,a=o.order):t=o;var c=e!==s?"-".concat(e):"";t&&u.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=a&&l.push("order".concat(c,"-").concat(a)),null!=r&&l.push("offset".concat(c,"-").concat(r))})),[o(o({},i),{},{className:p().apply(void 0,[r].concat(u,l))}),{as:t,bsPrefix:n,spans:u}]}(e),r=c(n,2),i=r[0],a=i.className,s=f(i,Di),u=r[1],l=u.as,d=void 0===l?"div":l,h=u.bsPrefix,m=u.spans;return(0,v.jsx)(d,o(o({},s),{},{ref:t,className:p()(a,!m.length&&h)}))}));Ai.displayName="Col";var Mi=Ai,zi=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],Fi=e.forwardRef((function(t,n){var r=t.as,i=void 0===r?"label":r,a=t.bsPrefix,s=t.column,u=t.visuallyHidden,l=t.className,c=t.htmlFor,d=f(t,zi),h=(0,e.useContext)(yi).controlId;a=w(a,"form-label");var m="col-form-label";"string"===typeof s&&(m="".concat(m," ").concat(m,"-").concat(s));var y=p()(l,a,u&&"visually-hidden",s&&m);return c=c||h,s?(0,v.jsx)(Mi,o({ref:n,as:"label",className:y,htmlFor:c},d)):(0,v.jsx)(i,o({ref:n,className:y,htmlFor:c},d))}));Fi.displayName="FormLabel",Fi.defaultProps={column:!1,visuallyHidden:!1};var Ui=Fi,Wi=["bsPrefix","className","id"],Vi=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,a=t.id,s=f(t,Wi),u=(0,e.useContext)(yi).controlId;return r=w(r,"form-range"),(0,v.jsx)("input",o(o({},s),{},{type:"range",ref:n,className:p()(i,r),id:a||u}))}));Vi.displayName="FormRange";var qi=Vi,Hi=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],Bi=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.size,a=t.htmlSize,s=t.className,u=t.isValid,l=void 0!==u&&u,c=t.isInvalid,d=void 0!==c&&c,h=t.id,m=f(t,Hi),y=(0,e.useContext)(yi).controlId;return r=w(r,"form-select"),(0,v.jsx)("select",o(o({},m),{},{size:a,ref:n,className:p()(s,r,i&&"".concat(r,"-").concat(i),l&&"is-valid",d&&"is-invalid"),id:h||y}))}));Bi.displayName="FormSelect";var Ki=Bi,$i=["bsPrefix","className","as","muted"],Gi=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,s=e.muted,u=f(e,$i);return n=w(n,"form-text"),(0,v.jsx)(a,o(o({},u),{},{ref:t,className:p()(r,n,s&&"text-muted")}))}));Gi.displayName="FormText";var Qi=Gi,Yi=e.forwardRef((function(e,t){return(0,v.jsx)(Si,o(o({},e),{},{ref:t,type:"switch"}))}));Yi.displayName="Switch";var Ji=Object.assign(Yi,{Input:Si.Input,Label:Si.Label}),Xi=["bsPrefix","className","children","controlId","label"],Zi=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,s=e.label,u=f(e,Xi);return n=w(n,"form-floating"),(0,v.jsxs)(Oi,o(o({ref:t,className:p()(r,n),controlId:a},u),{},{children:[i,(0,v.jsx)("label",{htmlFor:a,children:s})]}))}));Zi.displayName="FloatingLabel";var ea=Zi,ta=["className","validated","as"],na={_ref:an().any,validated:an().bool,as:an().elementType},ra=e.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,s=f(e,ta);return(0,v.jsx)(a,o(o({},s),{},{ref:t,className:p()(n,r&&"was-validated")}))}));ra.displayName="Form",ra.propTypes=na;var ia=Object.assign(ra,{Group:Oi,Control:Ti,Floating:Pi,Check:Si,Switch:Ji,Label:Ui,Text:Qi,Range:qi,Select:Ki,FloatingLabel:ea}),aa=function(t){var n=t.onRegister,r=c((0,e.useState)(""),2),i=r[0],a=r[1],o=c((0,e.useState)(""),2),s=o[0],u=o[1],l=c((0,e.useState)(""),2),d=l[0],f=l[1];return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:"d-flex justify-content-center",children:(0,v.jsxs)(ia,{onSubmit:function(e){e.preventDefault(),d.length<6?alert("Password must be at least 6 characters long"):11!==s.length?alert("Invalid PESEL"):n({email:i,pesel:s,password:d})},className:"RegisterForm w-50",children:[(0,v.jsx)(ia.Label,{className:"p-3",children:(0,v.jsx)("h2",{children:"Utw\xf3rz konto kandydata"})}),(0,v.jsx)(ia.Group,{className:"mb-3",controlId:"RegisterForm_Email",children:(0,v.jsx)(ia.Control,{type:"email",placeholder:"Wprowad\u017a adres email (login)",value:i,onChange:function(e){a(e.target.value)},required:!0})}),(0,v.jsx)(ia.Group,{className:"mb-3",controlId:"RegisterForm_PESEL",children:(0,v.jsx)(ia.Control,{type:"text",placeholder:"Wprowad\u017a PESEL",value:s,onChange:function(e){u(e.target.value)},required:!0})}),(0,v.jsx)(ia.Group,{className:"mb-3",controlId:"RegisterForm_Password",children:(0,v.jsx)(ia.Control,{type:"password",placeholder:"Wprowad\u017a has\u0142o do konta",value:d,onChange:function(e){f(e.target.value)},required:!0})}),(0,v.jsx)(ia.Group,{className:"mb-3",controlId:"RegisterForm_Label",children:(0,v.jsx)(ia.Text,{className:"text-muted",children:"Nie udost\u0119pniamy nikomu Twoich danych"})}),(0,v.jsx)(N,{variant:"primary",type:"submit",children:"Zarejestruj"})]})})})},oa=function(t){var n=t.onLogin,r=c((0,e.useState)(""),2),i=r[0],a=r[1],o=c((0,e.useState)(""),2),s=o[0],u=o[1];return(0,v.jsx)("div",{children:(0,v.jsx)("div",{className:"d-flex justify-content-center",children:(0,v.jsxs)(ia,{onSubmit:function(e){e.preventDefault(),s.length<6?alert("Password must be at least 6 characters"):n({email:i,password:s})},className:"LoginForm w-50",children:[(0,v.jsx)(ia.Label,{className:"p-3",children:(0,v.jsx)("h2",{children:"Logowanie kandydat\xf3w"})}),(0,v.jsx)(ia.Group,{className:"mb-3",controlId:"LoginForm_Email",children:(0,v.jsx)(ia.Control,{type:"email",placeholder:"Wprowad\u017a email",value:i,onChange:function(e){a(e.target.value)},required:!0})}),(0,v.jsx)(ia.Group,{className:"mb-3",controlId:"LoginForm_Password",children:(0,v.jsx)(ia.Control,{type:"password",placeholder:"Wprowad\u017a Password",value:s,onChange:function(e){u(e.target.value)},required:!0})}),(0,v.jsx)(N,{variant:"primary",type:"submit",children:"Zaloguj"})]})})})},sa=["bsPrefix","className","as"],ua=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,s=f(e,sa),u=w(n,"row"),l=x(),c=C(),d="".concat(u,"-cols"),h=[];return l.forEach((function(e){var t,n=s[e];delete s[e],t=null!=n&&"object"===typeof n?n.cols:n;var r=e!==c?"-".concat(e):"";null!=t&&h.push("".concat(d).concat(r,"-").concat(t))})),(0,v.jsx)(a,o(o({ref:t},s),{},{className:p().apply(void 0,[r,u].concat(h))}))}));ua.displayName="Row";var la=ua,ca=function(t){var n=t.subjects,r=t.onSubmit,i=c((0,e.useState)(""),2),a=i[0],o=i[1],s=c((0,e.useState)(0),2),u=s[0],l=s[1],d=c((0,e.useState)(0),2),f=d[0],h=d[1],p=c((0,e.useState)(0),2),m=p[0],y=p[1];return(0,v.jsx)(ia,{onSubmit:function(e){e.preventDefault(),""===a?alert("Nie wybrano przedmiotu"):Number.isNaN(f)||Number.isNaN(m)?alert("Wynik musi by\u0107 liczb\u0105"):(r({id:u,name:a,basic:f,advanced:m}),o(""),l(0),h(0),y(0))},className:"px-3 text-center",children:(0,v.jsxs)(la,{children:[(0,v.jsx)(Mi,{xs:6,children:(0,v.jsxs)(ia.Select,{value:a,onChange:function(e){o(e.target.value);var t=e.target.options.selectedIndex,n=e.target.options[t].getAttribute("data-key");l(n)},children:[(0,v.jsx)("option",{"data-key":0},0),n.map((function(e){return(0,v.jsx)("option",{"data-key":e.id,children:e.name},e.id)}))]})}),(0,v.jsx)(Mi,{xs:2,children:(0,v.jsx)(ia.Control,{placeholder:"Podstawa",type:"number",value:f,onChange:function(e){var t=Math.max(0,Math.min(100,Number(e.target.value)));h(t)}})}),(0,v.jsx)(Mi,{xs:2,children:(0,v.jsx)(ia.Control,{placeholder:"Rozszerzenie",type:"number",value:m,onChange:function(e){var t=Math.max(0,Math.min(100,Number(e.target.value)));y(t)}})}),(0,v.jsx)(Mi,{xs:2,children:(0,v.jsx)(N,{className:"px-5",variant:"primary",type:"submit",children:"Aktualizuj"})})]})})},da=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],fa=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.striped,a=e.bordered,s=e.borderless,u=e.hover,l=e.size,c=e.variant,d=e.responsive,h=f(e,da),m=w(n,"table"),y=p()(r,m,c&&"".concat(m,"-").concat(c),l&&"".concat(m,"-").concat(l),i&&"".concat(m,"-").concat("string"===typeof i?"striped-".concat(i):"striped"),a&&"".concat(m,"-bordered"),s&&"".concat(m,"-borderless"),u&&"".concat(m,"-hover")),g=(0,v.jsx)("table",o(o({},h),{},{className:y,ref:t}));if(d){var k="".concat(m,"-responsive");return"string"===typeof d&&(k="".concat(k,"-").concat(d)),(0,v.jsx)("div",{className:k,children:g})}return g})),ha=fa,pa={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},va=e.createContext&&e.createContext(pa),ma=function(){return ma=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ma.apply(this,arguments)},ya=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ga(t){return t&&t.map((function(t,n){return e.createElement(t.tag,ma({key:n},t.attr),ga(t.child))}))}function ka(t){return function(n){return e.createElement(ba,ma({attr:ma({},t.attr)},n),ga(t.child))}}function ba(t){var n=function(n){var r,i=t.attr,a=t.size,o=t.title,s=ya(t,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",ma({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:ma(ma({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&e.createElement("title",null,o),t.children)};return void 0!==va?e.createElement(va.Consumer,null,(function(e){return n(e)})):n(pa)}function _a(e){return ka({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}}]})(e)}var wa=function(e){var t=e.score,n=e.onRemove,r=e.id;return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:r}),(0,v.jsx)("td",{children:t.name}),(0,v.jsx)("td",{children:t.basic}),(0,v.jsx)("td",{children:t.advanced}),void 0!==n&&(0,v.jsx)("td",{children:(0,v.jsx)("span",{className:"text-danger p-1",onClick:function(){console.log("DELETE",t.id),void 0!==n&&n(t.id)},children:(0,v.jsx)(_a,{size:21})})})]})},xa=function(e){var t=e.scores,n=e.onRemove;return 0==t.length?(0,v.jsx)("p",{className:"text-secondary",children:"Dodaj swoje wyniki"}):(0,v.jsxs)(ha,{striped:!0,children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"#"}),(0,v.jsx)("th",{children:"Przedmiot"}),(0,v.jsx)("th",{children:"Podstawa"}),(0,v.jsx)("th",{children:"Rozszerzenie"})]})}),(0,v.jsx)("tbody",{children:t.map((function(e,t){return(0,v.jsx)(wa,{score:e,onRemove:n,id:t+1},t)}))})]})},Ca=function(e){var t=e.sscores,n=e.ssubjects,r=e.onFormSubmit,i=e.onScoreRemove;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h2",{className:"p-3",children:"Moje wyniki matur"}),(0,v.jsx)(xa,{scores:t,onRemove:i}),(0,v.jsxs)("div",{className:"mx-5",children:[(0,v.jsx)("h4",{className:"p-3 mt-5 mb-2",children:"Edytuj swoje wyniki"}),(0,v.jsx)(ca,{subjects:n.filter((function(e){return void 0===t.find((function(t){return t.id==e.id}))})),onSubmit:r})]})]})},Ea=function(e){var t=e.major,n=e.onAddAsPref;return(0,v.jsxs)("div",{className:"border rounded mb-5 mt-3",children:[(0,v.jsxs)("div",{className:"p-3 mx-5 text-start",children:[(0,v.jsx)("h4",{children:t.name}),(0,v.jsx)("p",{children:t.desc})]}),(0,v.jsx)("h5",{children:"Mno\u017cniki"}),(0,v.jsxs)(ha,{striped:!0,children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"#"}),(0,v.jsx)("th",{children:"Przedmiot"}),(0,v.jsx)("th",{children:"Podstawa"}),(0,v.jsx)("th",{children:"Rozszerzenie"})]})}),(0,v.jsx)("tbody",{children:t.multipliers&&t.multipliers.map((function(e,t){return(0,v.jsx)(wa,{id:t+1,score:e,onRemove:void 0},t)}))})]}),(0,v.jsxs)("h5",{children:["Maksymalna liczba os\xf3b: ",t.capacity]}),(0,v.jsx)(N,{className:"m-3",onClick:function(e){e.preventDefault(),n({courseId:t.id})},children:"Zapisz na kierunek"})]})},Sa=function(t){var n=t.colleges,r=t.onAddAsPref,i=c((0,e.useState)({id:"",name:""}),2),a=i[0],o=i[1],s=c((0,e.useState)(""),2),u=s[0],l=s[1],d=c((0,e.useState)(),2),f=d[0],h=d[1],p=c((0,e.useState)(!1),2),m=p[0],y=p[1],g=c((0,e.useState)(!1),2),k=g[0],b=g[1],_=c((0,e.useState)(),2),w=_[0],x=_[1];(0,e.useEffect)((function(){if(n&&""!==a.name){var e=n.find((function(e){return e.id===a.id}));e&&x(e.courses)}}),[n,a]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h2",{className:"p-3",children:"Wyszukiwarka kierunk\xf3w"}),(0,v.jsx)("div",{className:"d-flex justify-content-center",children:(0,v.jsxs)(ia,{className:"w-50",children:[(0,v.jsxs)(ia.Group,{className:"mb-3",children:[(0,v.jsx)(ia.Label,{children:"Wybierz uczelni\u0119"}),(0,v.jsxs)(ia.Select,{id:"selectUniversity",value:a.name,onChange:function(e){var t=e.target.options.selectedIndex,n=e.target.options[t].getAttribute("data-key");o({id:n,name:e.target.value}),y(""!==e.target.value),b(!1),l("")},children:[(0,v.jsx)("option",{"data-key":0},0),n.map((function(e){return(0,v.jsx)("option",{"data-key":e.id,children:e.name},e.id)}))]})]}),m&&(0,v.jsxs)(ia.Group,{className:"mb-3",children:[(0,v.jsx)(ia.Label,{children:"Wybierz kierunek"}),(0,v.jsxs)(ia.Select,{id:"selectCourse",value:u,onChange:function(e){l(e.target.value);var t=e.target.options.selectedIndex,n=e.target.options[t].getAttribute("data-key");if(""!==e.target.value&&w){console.log(n,e.target.value);var r=w.filter((function(e){return e.id==n}))[0];h(r),b(!0)}else b(!1)},children:[(0,v.jsx)("option",{"data-key":0},0),w&&w.map((function(e){return(0,v.jsx)("option",{"data-key":e.id,children:e.name},e.id)}))]})]}),k&&f&&(0,v.jsx)(Ea,{major:f,onAddAsPref:function(e){var t=e.courseId;r({courseId:t,universityId:a.id})}})]})})]})};function Na(e){return ka({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"}}]})(e)}function Ia(e){return ka({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"}}]})(e)}var Ta,Pa,ja=function(e){var t=e.pref,n=e.onPrefUp,r=e.onPrefDown;return(0,v.jsxs)("tr",{className:"",children:[(0,v.jsx)("td",{children:(0,v.jsx)("span",{children:t.university})}),(0,v.jsx)("td",{className:"align-middle",children:(0,v.jsx)("span",{children:t.course})}),(0,v.jsx)("td",{className:"align-middle",children:(0,v.jsxs)("span",{className:"",children:[t.rank&&t.rank>0?t.rank:t.enrolled,"/",t.capacity]})}),(0,v.jsxs)("td",{className:"align-middle",children:[(0,v.jsx)("span",{className:"text-success p-1",onClick:function(){n(t.id)},children:(0,v.jsx)(Ia,{size:24})}),(0,v.jsx)("span",{className:"text-danger p-1",onClick:function(){r(t.id)},children:(0,v.jsx)(Na,{size:24})})]})]})},Ra=function(e){var t=e.prefs,n=e.onPrefUp,r=e.onPrefDown;return(0,v.jsxs)("section",{className:"p-3",children:[(0,v.jsx)("h2",{children:"Moje kierunki"}),(0,v.jsx)("p",{children:"Lista kierunk\xf3w na kt\xf3re kandydat jest zapisany. Mo\u017cesz uszeregowa\u0107 kierunki od najbardziej do najmniej preferowanych."}),(0,v.jsx)("div",{className:"container p-3",children:(0,v.jsx)("div",{className:"row d-flex justify-content-center align-items-center",children:(0,v.jsx)("div",{className:"col-md-12 col-xl-10",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsx)("div",{className:"card-body",children:(0,v.jsxs)("table",{className:"table mb-0",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{scope:"col",children:"Uczelnia"}),(0,v.jsx)("th",{scope:"col",children:"Kierunek"}),(0,v.jsx)("th",{scope:"col",children:"Pozycja/Pojemno\u015b\u0107"}),(0,v.jsx)("th",{scope:"col",children:"Akcja"})]})}),(0,v.jsx)("tbody",{children:l(t).sort((function(e,t){return e.pos-t.pos})).map((function(e){return(0,v.jsx)(ja,{pref:e,onPrefUp:n,onPrefDown:r},e.id)}))})]})})})})})})]})};!function(e){e[e.NotReady=0]="NotReady",e[e.Success=1]="Success",e[e.Fail=2]="Fail"}(Ta||(Ta={})),function(e){e[e.None=0]="None",e[e.Student=1]="Student",e[e.College=2]="College"}(Pa||(Pa={}));var Oa=function(t){var n=t.results,r=t.role,i=c((0,e.useState)([]),2),a=i[0],o=i[1];if((0,e.useEffect)((function(){var e;o((null===(e=n.courses)||void 0===e?void 0:e.map((function(){return!1})))||[])}),[n.courses]),n.status===Ta.NotReady)return(0,v.jsxs)("div",{className:"container p-3",children:[(0,v.jsx)("h2",{children:"Wyniki rekrutacji"}),(0,v.jsx)("h5",{className:"text-muted",children:"Proces rekrutacji jeszcze si\u0119 nie rozpocz\u0105\u0142"})]});if(r===Pa.Student){if(n.status===Ta.Success)return(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"container p-3",children:[(0,v.jsx)("h2",{children:"Wyniki rekrutacji"}),(0,v.jsx)("div",{className:"d-flex justify-content-center p-3",children:(0,v.jsxs)("div",{className:"p-3 mx-5 text-start  border rounded border-success",children:[(0,v.jsx)("h3",{className:"p-3",children:"Gratulacje! Uda\u0142o ci si\u0119 zakwalifikowa\u0107"}),(0,v.jsxs)("h4",{children:["Uczelnia: ",n.university]}),(0,v.jsxs)("h4",{children:["Kierunek: ",n.course]})]})})]}),(0,v.jsx)("h5",{className:"text-muted",children:"Proces rekrutacji dobieg\u0142 ko\u0144ca. Odwied\u017a stron\u0119 uczelni aby dowiedzie\u0107 si\u0119 o kolejnych krokach."})]});if(n.status===Ta.Fail)return(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"container p-3",children:[(0,v.jsx)("h2",{children:"Wyniki rekrutacji"}),(0,v.jsx)("div",{className:"d-flex justify-content-center p-3",children:(0,v.jsx)("div",{className:"w-50 p-3 mx-5 text-center border rounded border-danger",children:(0,v.jsx)("h5",{children:"Twoje wyniki matur okaza\u0142y si\u0119 niewystarczaj\u0105ce, aby zapisa\u0107 ci\u0119 na jakikolwiek z wybranych kierunk\xf3w. Wiele uczelni prowadzi dodatkowe terminy zapis\xf3w, odwied\u017a ich strony aby dowiedzie\u0107 si\u0119 wi\u0119cej."})})})]}),(0,v.jsx)("h5",{className:"text-muted",children:"Proces rekrutacji dobieg\u0142 ko\u0144ca."})]})}else if(r===Pa.College){var s;if(n.status===Ta.Success)return(0,v.jsxs)("div",{className:"container py-3",children:[(0,v.jsx)("h2",{className:"mb-3",children:"Wyniki rekrutacji"}),(0,v.jsx)("div",{className:"row justify-content-center",children:null===(s=n.courses)||void 0===s?void 0:s.map((function(e,t){var n,r;return(0,v.jsx)("div",{className:"col-md-8 mb-4",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsxs)("div",{className:"card-body",children:[(0,v.jsx)("h5",{className:"card-title",children:e.name}),(0,v.jsxs)("p",{className:"card-text",children:["Zarejestrowano: ",e.enrolled,"/",e.capacity]}),((null===(n=e.candidates)||void 0===n?void 0:n.size)||0)>0&&(0,v.jsxs)("button",{className:"btn ".concat(a[t]?"btn-secondary":"btn-primary"),onClick:function(){o((function(e){var n=l(e);return n[t]=!n[t],n}))},children:[a[t]?"Schowaj":"Poka\u017c"," list\u0119 student\xf3w"]}),a[t]&&(0,v.jsxs)("ul",{className:"list-group mt-3",children:[(0,v.jsx)("li",{className:"list-group-item",children:(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col",children:(0,v.jsx)("span",{className:"fw-bold",children:"ID"})}),(0,v.jsx)("div",{className:"col",children:(0,v.jsx)("span",{className:"fw-bold",children:"Wynik"})})]})},0),Array.from((null===(r=e.candidates)||void 0===r?void 0:r.entries())||[]).map((function(e,t){var n=c(e,2),r=n[0],i=n[1];return(0,v.jsx)("li",{className:"list-group-item",children:(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col",children:r}),(0,v.jsx)("div",{className:"col",children:i})]})},t+1)}))]})]})})},t)}))}),(0,v.jsx)("h5",{className:"text-muted mt-3",children:"Proces rekrutacji dobieg\u0142 ko\u0144ca."})]});if(n.status===Ta.Fail)return(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"container p-3",children:[(0,v.jsx)("h2",{children:"Wyniki rekrutacji"}),(0,v.jsx)("div",{className:"d-flex justify-content-center p-3",children:(0,v.jsx)("div",{className:"w-50 p-3 mx-5 text-center border rounded border-danger",children:(0,v.jsx)("h5",{children:"Brak kandydat\xf3w, kt\xf3rzy zakwalifikowali si\u0119 poprzez proces rekrutacji do tej uczelni. Najprawdopodobniej wyst\u0105pi\u0142 b\u0142\u0105d i konieczny b\u0119dzie kontakt z administratorem strony."})})})]}),(0,v.jsx)("h5",{className:"text-muted",children:"Proces rekrutacji dobieg\u0142 ko\u0144ca."})]})}return(0,v.jsx)(v.Fragment,{})},La=function(){return(0,v.jsx)("footer",{id:"sticky-footer",className:" mt-auto p-3 bg-dark text-white-50",children:(0,v.jsx)("div",{className:"container text-center",children:(0,v.jsx)("span",{children:"Copyright \xa9 Mateusz O\u0107wieja"})})})},Da=function(){var t=qr();return(0,e.useEffect)((function(){setTimeout((function(){t("/auth/login")}),1500)})),(0,v.jsx)("div",{className:"alert alert-secondary",children:(0,v.jsx)("h4",{children:"Wylogowano pomy\u015blnie!"})})},Aa=function(e){var t=e.children,n=e.auth,r=e.role,i=Vr();if(!n&&!i.pathname.startsWith("/auth"))return(0,v.jsx)(Zr,{to:"/auth/login",state:{from:i}});if(n){if(r===Pa.None)return(0,v.jsx)("h4",{children:"Invalid path for assigned role"});if(r===Pa.Student&&!i.pathname.startsWith("/student"))return(0,v.jsx)(Zr,{to:"/student",state:{from:i}});if(r===Pa.College&&!i.pathname.startsWith("/college"))return(0,v.jsx)(Zr,{to:"/college",state:{from:i}})}return t};function Ma(){Ma=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(I){u=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),s=new E(i||[]);return r(o,"_invoke",{value:_(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=l;var d={};function f(){}function h(){}function p(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(S([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=f.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var u=c(e[r],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==Cn(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),u(g,s,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function za(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(bf){return void n(bf)}s.done?t(u):Promise.resolve(u).then(r,i)}function Fa(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){za(a,r,i,o,s,"next",e)}function s(e){za(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Ua(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var Wa=!1,Va=!1,qa="${JSCORE_VERSION}",Ha=function(e,t){if(!e)throw Ba(t)},Ba=function(e){return new Error("Firebase Database ("+qa+") INTERNAL ASSERT FAILED: "+e)},Ka=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},$a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,d=(3&a)<<4|s>>4,f=(15&s)<<2|l>>6,h=63&l;u||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ka(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var d=s<<6&192|u;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ga=function(e){var t=Ka(e);return $a.encodeByteArray(t,!0)},Qa=function(e){return Ga(e).replace(/\./g,"")},Ya=function(e){try{return $a.decodeString(e,!0)}catch(bg){console.error("base64Decode failed: ",bg)}return null};function Ja(e){return Xa(void 0,e)}function Xa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Xa(e[n],t[n]));return e}function Za(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function eo(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Za())}function to(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function no(){return!0===Wa||!0===Va}var ro=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},io=function(){try{return ro()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(bg){return}var t=e&&Ya(e[1]);return t&&JSON.parse(t)}}()}catch(bg){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(bg))}},ao=function(e){var t,n;return null===(n=null===(t=io())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},oo=function(e){var t=ao(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},so=function(){var e;return null===(e=io())||void 0===e?void 0:e.config},uo=function(e){var t;return null===(t=io())||void 0===t?void 0:t["_".concat(e)]},lo=function(){function e(){var t=this;jt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ot(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function co(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Qa(JSON.stringify({alg:"none",type:"JWT"})),Qa(JSON.stringify(a)),""].join(".")}var fo=function(e){wn(n,e);var t=Nn(n);function n(e,r,i){var a;return jt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(En(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(En(a),ho.prototype.create),a}return Ot(n)}(Gn(Error)),ho=function(){function e(t,n,r){jt(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ot(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?po(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new fo(n,a,t);return o}}]),e}();function po(e,t){return e.replace(vo,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var vo=/\{\$([^}]+)}/g;function mo(e){return JSON.parse(e)}function yo(e){return JSON.stringify(e)}var go=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=mo(Ya(a[0])||""),n=mo(Ya(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(bg){}return{header:t,claims:n,data:r,signature:i}};function ko(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function bo(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function _o(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function wo(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function xo(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Co(s)&&Co(u)){if(!xo(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var d=c[l];if(!n.includes(d))return!1}return!0}function Co(e){return null!==e&&"object"===typeof e}function Eo(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function So(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function No(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Io=function(){function e(){jt(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Ot(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],d=this.chain_[2],f=this.chain_[3],h=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^c&(d^f),u=1518500249):(s=c^d^f,u=1859775393):p<60?(s=c&d|f&(c|d),u=2400959708):(s=c^d^f,u=3395469782);var v=(l<<5|l>>>27)+s+h+u+n[p]&4294967295;h=f,f=d,d=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var To=function(){function e(t,n){var r=this;jt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ot(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ua(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Po),void 0===r.error&&(r.error=Po),void 0===r.complete&&(r.complete=Po);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(bg){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(bg){"undefined"!==typeof console&&console.error&&console.error(bg)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Po(){}function jo(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Ro=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Oo(e){return e&&e._delegate?e._delegate:e}var Lo=function(){function e(t,n,r){jt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ot(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Do="[DEFAULT]",Ao=function(){function e(t,n){jt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ot(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new lo;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(bg){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(bg){if(r)return null;throw bg}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch(bg){}var t,n=Ua(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(bg){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Fa(Ma().mark((function e(){var t;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(l(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),l(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ua(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1],d=this.normalizeInstanceIdentifier(u);r===d&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ua(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Do?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do;return this.component?this.component.multipleInstances?e:Do:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Mo,zo,Fo=function(){function e(t){jt(this,e),this.name=t,this.providers=new Map}return Ot(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ao(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Uo=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(zo||(zo={}));var Wo={debug:zo.DEBUG,verbose:zo.VERBOSE,info:zo.INFO,warn:zo.WARN,error:zo.ERROR,silent:zo.SILENT},Vo=zo.INFO,qo=(i(Mo={},zo.DEBUG,"log"),i(Mo,zo.VERBOSE,"log"),i(Mo,zo.INFO,"info"),i(Mo,zo.WARN,"warn"),i(Mo,zo.ERROR,"error"),Mo),Ho=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=qo[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Bo=function(){function e(t){jt(this,e),this.name=t,this._logLevel=Vo,this._logHandler=Ho,this._userLogHandler=null,Uo.push(this)}return Ot(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in zo))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Wo[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zo.DEBUG].concat(t)),this._logHandler.apply(this,[this,zo.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zo.VERBOSE].concat(t)),this._logHandler.apply(this,[this,zo.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zo.INFO].concat(t)),this._logHandler.apply(this,[this,zo.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zo.WARN].concat(t)),this._logHandler.apply(this,[this,zo.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zo.ERROR].concat(t)),this._logHandler.apply(this,[this,zo.ERROR].concat(t))}}]),e}();var Ko,$o;var Go=new WeakMap,Qo=new WeakMap,Yo=new WeakMap,Jo=new WeakMap,Xo=new WeakMap;var Zo={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qo.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Yo.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function es(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?($o||($o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(rs(this),n),ns(Go.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ns(e.apply(rs(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[rs(this),t].concat(r));return Yo.set(a,t.sort?t.sort():[t]),ns(a)}}function ts(e){return"function"===typeof e?es(e):(e instanceof IDBTransaction&&function(e){if(!Qo.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Qo.set(e,t)}}(e),t=e,(Ko||(Ko=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Zo):e);var t}function ns(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ns(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Go.set(t,e)})).catch((function(){})),Xo.set(t,e),t}(e);if(Jo.has(e))return Jo.get(e);var t=ts(e);return t!==e&&(Jo.set(e,t),Xo.set(t,e)),t}var rs=function(e){return Xo.get(e)};var is,as,os=["get","getKey","getAll","getAllKeys","count"],ss=["put","add","delete","clear"],us=new Map;function ls(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(us.get(t))return us.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ss.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||os.includes(n))){var a=function(){var e=Fa(Ma().mark((function e(t){var a,o,s,u,l,c,d=arguments;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=d.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=d[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return us.set(t,a),a}}}Zo=function(e){return o(o({},e),{},{get:function(t,n,r){return ls(t,n)||e.get(t,n,r)},has:function(t,n){return!!ls(t,n)||e.has(t,n)}})}(Zo);var cs=function(){function e(t){jt(this,e),this.container=t}return Ot(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ds="@firebase/app",fs="0.8.4",hs=new Bo("@firebase/app"),ps="[DEFAULT]",vs=(i(is={},ds,"fire-core"),i(is,"@firebase/app-compat","fire-core-compat"),i(is,"@firebase/analytics","fire-analytics"),i(is,"@firebase/analytics-compat","fire-analytics-compat"),i(is,"@firebase/app-check","fire-app-check"),i(is,"@firebase/app-check-compat","fire-app-check-compat"),i(is,"@firebase/auth","fire-auth"),i(is,"@firebase/auth-compat","fire-auth-compat"),i(is,"@firebase/database","fire-rtdb"),i(is,"@firebase/database-compat","fire-rtdb-compat"),i(is,"@firebase/functions","fire-fn"),i(is,"@firebase/functions-compat","fire-fn-compat"),i(is,"@firebase/installations","fire-iid"),i(is,"@firebase/installations-compat","fire-iid-compat"),i(is,"@firebase/messaging","fire-fcm"),i(is,"@firebase/messaging-compat","fire-fcm-compat"),i(is,"@firebase/performance","fire-perf"),i(is,"@firebase/performance-compat","fire-perf-compat"),i(is,"@firebase/remote-config","fire-rc"),i(is,"@firebase/remote-config-compat","fire-rc-compat"),i(is,"@firebase/storage","fire-gcs"),i(is,"@firebase/storage-compat","fire-gcs-compat"),i(is,"@firebase/firestore","fire-fst"),i(is,"@firebase/firestore-compat","fire-fst-compat"),i(is,"fire-js","fire-js"),i(is,"firebase","fire-js-all"),is),ms=new Map,ys=new Map;function gs(e,t){try{e.container.addComponent(t)}catch(bg){hs.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),bg)}}function ks(e){var t=e.name;if(ys.has(t))return hs.debug("There were multiple attempts to register component ".concat(t,".")),!1;ys.set(t,e);var n,r=Ua(ms.values());try{for(r.s();!(n=r.n()).done;){gs(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function bs(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var _s=(i(as={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),i(as,"bad-app-name","Illegal App name: '{$appName}"),i(as,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),i(as,"app-deleted","Firebase App named '{$appName}' already deleted"),i(as,"no-options","Need to provide options, when not being deployed to hosting via source."),i(as,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),i(as,"invalid-log-argument","First argument to `onLog` must be null or a function."),i(as,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),i(as,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),i(as,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),i(as,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),as),ws=new ho("app","Firebase",_s),xs=function(){function e(t,n,r){var i=this;jt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lo("app",(function(){return i}),"PUBLIC"))}return Ot(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}]),e}(),Cs="9.14.0";function Es(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:ps,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw ws.create("bad-app-name",{appName:String(a)});if(n||(n=so()),!n)throw ws.create("no-options");var o=ms.get(a);if(o){if(xo(n,o.options)&&xo(i,o.config))return o;throw ws.create("duplicate-app",{appName:a})}var s,u=new Fo(a),l=Ua(ys.values());try{for(l.s();!(s=l.n()).done;){var c=s.value;u.addComponent(c)}}catch(f){l.e(f)}finally{l.f()}var d=new xs(n,i,u);return ms.set(a,d),d}function Ss(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ps,t=ms.get(e);if(!t&&e===ps)return Es();if(!t)throw ws.create("no-app",{appName:e});return t}function Ns(e,t,n){var r,i=null!==(r=vs[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void hs.warn(s.join(" "))}ks(new Lo("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Is="firebase-heartbeat-store",Ts=null;function Ps(){return Ts||(Ts=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=ns(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(ns(s.result),e.oldVersion,e.newVersion,ns(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Is)}}).catch((function(e){throw ws.create("idb-open",{originalErrorMessage:e.message})}))),Ts}function js(e){return Rs.apply(this,arguments)}function Rs(){return Rs=Fa(Ma().mark((function e(t){var n,r,i;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ps();case 3:return r=e.sent,e.abrupt("return",r.transaction(Is).objectStore(Is).get(Ds(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof fo?hs.warn(e.t0.message):(i=ws.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),hs.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Rs.apply(this,arguments)}function Os(e,t){return Ls.apply(this,arguments)}function Ls(){return Ls=Fa(Ma().mark((function e(t,n){var r,i,a,o,s;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ps();case 3:return i=e.sent,a=i.transaction(Is,"readwrite"),o=a.objectStore(Is),e.next=8,o.put(n,Ds(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof fo?hs.warn(e.t0.message):(s=ws.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),hs.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ls.apply(this,arguments)}function Ds(e){return"".concat(e.name,"!").concat(e.options.appId)}var As=function(){function e(t){var n=this;jt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Us(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Ot(e,[{key:"triggerHeartbeat",value:function(){var e=Fa(Ma().mark((function e(){var t,n,r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ms(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Fa(Ma().mark((function e(){var t,n,r,i,a;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ms(),n=zs(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Qa(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ms(){return(new Date).toISOString().substring(0,10)}function zs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Ua(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ws(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ws(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Fs,Us=function(){function e(t){jt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Ot(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Fa(Ma().mark((function e(){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(bf){t(bf)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Fa(Ma().mark((function e(){var t;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,js(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Fa(Ma().mark((function e(t){var n,r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Os(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Fa(Ma().mark((function e(t){var n,r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Os(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(l(r.heartbeats),l(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ws(e){return Qa(JSON.stringify({version:2,heartbeats:e})).length}Fs="",ks(new Lo("platform-logger",(function(e){return new cs(e)}),"PRIVATE")),ks(new Lo("heartbeat",(function(e){return new As(e)}),"PRIVATE")),Ns(ds,fs,Fs),Ns(ds,fs,"esm2017"),Ns("fire-js","");Ns("firebase","9.14.0","app");function Vs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var qs;Object.create;function Hs(){return i({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Bs=Hs,Ks=new ho("auth","Firebase",Hs()),$s=new Bo("@firebase/auth");function Gs(e){if($s.logLevel<=zo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];$s.error.apply($s,["Auth (".concat(Cs,"): ").concat(e)].concat(n))}}function Qs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Xs.apply(void 0,[e].concat(n))}function Ys(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Xs.apply(void 0,[e].concat(n))}function Js(e,t,n){var r=Object.assign(Object.assign({},Bs()),i({},t,n));return new ho("auth","Firebase",r).create(t,{appName:e.name})}function Xs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=l(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(l(o)))}return Ks.create.apply(Ks,[e].concat(n))}function Zs(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Xs.apply(void 0,[t].concat(r))}}function eu(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Gs(t),new Error(t)}function tu(e,t){e||eu(t)}var nu=new Map;function ru(e){tu(e instanceof Function,"Expected a class definition");var t=nu.get(e);return t?(tu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,nu.set(e,t),t)}function iu(e,t){var n=bs(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(xo(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Qs(r,"already-initialized")}return n.initialize({options:t})}function au(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ou(){return"http:"===su()||"https:"===su()}function su(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function uu(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ou()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var lu=function(){function e(t,n){jt(this,e),this.shortDelay=t,this.longDelay=n,tu(n>t,"Short delay should be less than long delay!"),this.isMobile=eo()||to()}return Ot(e,[{key:"get",value:function(){return uu()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function cu(e,t){tu(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var du=function(){function e(){jt(this,e)}return Ot(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void eu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void eu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void eu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),fu=(i(qs={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),i(qs,"MISSING_CUSTOM_TOKEN","internal-error"),i(qs,"INVALID_IDENTIFIER","invalid-email"),i(qs,"MISSING_CONTINUE_URI","internal-error"),i(qs,"INVALID_PASSWORD","wrong-password"),i(qs,"MISSING_PASSWORD","internal-error"),i(qs,"EMAIL_EXISTS","email-already-in-use"),i(qs,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),i(qs,"INVALID_IDP_RESPONSE","invalid-credential"),i(qs,"INVALID_PENDING_TOKEN","invalid-credential"),i(qs,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),i(qs,"MISSING_REQ_TYPE","internal-error"),i(qs,"EMAIL_NOT_FOUND","user-not-found"),i(qs,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),i(qs,"EXPIRED_OOB_CODE","expired-action-code"),i(qs,"INVALID_OOB_CODE","invalid-action-code"),i(qs,"MISSING_OOB_CODE","internal-error"),i(qs,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),i(qs,"INVALID_ID_TOKEN","invalid-user-token"),i(qs,"TOKEN_EXPIRED","user-token-expired"),i(qs,"USER_NOT_FOUND","user-token-expired"),i(qs,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),i(qs,"INVALID_CODE","invalid-verification-code"),i(qs,"INVALID_SESSION_INFO","invalid-verification-id"),i(qs,"INVALID_TEMPORARY_PROOF","invalid-credential"),i(qs,"MISSING_SESSION_INFO","missing-verification-id"),i(qs,"SESSION_EXPIRED","code-expired"),i(qs,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),i(qs,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),i(qs,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),i(qs,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),i(qs,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),i(qs,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),i(qs,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),i(qs,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),i(qs,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),i(qs,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),i(qs,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),qs),hu=new lu(3e4,6e4);function pu(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function vu(e,t,n,r){return mu.apply(this,arguments)}function mu(){return mu=Fa(Ma().mark((function e(t,n,r,i){var a,o=arguments;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",yu(t,a,Fa(Ma().mark((function e(){var a,o,s,u;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Eo(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",du.fetch()(_u(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}function yu(e,t,n){return gu.apply(this,arguments)}function gu(){return gu=Fa(Ma().mark((function e(t,n,r){var i,a,o,s,u,l,d,f,h,p;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},fu),n),e.prev=2,a=new wu(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw xu(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),d=c(l,2),f=d[0],h=d[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw xu(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw xu(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw xu(t,"user-disabled",s);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Js(t,p,h);case 34:Qs(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof fo)){e.next=41;break}throw e.t0;case 41:Qs(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),gu.apply(this,arguments)}function ku(e,t,n,r){return bu.apply(this,arguments)}function bu(){return bu=Fa(Ma().mark((function e(t,n,r,i){var a,o,s=arguments;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,vu(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Qs(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),bu.apply(this,arguments)}function _u(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?cu(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var wu=function(){function e(t){var n=this;jt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ys(n.auth,"network-request-failed"))}),hu.get())}))}return Ot(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function xu(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ys(e,t,r);return i.customData._tokenResponse=n,i}function Cu(e,t){return Eu.apply(this,arguments)}function Eu(){return Eu=Fa(Ma().mark((function e(t,n){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function Su(e,t){return Nu.apply(this,arguments)}function Nu(){return Nu=Fa(Ma().mark((function e(t,n){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Nu.apply(this,arguments)}function Iu(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(bg){}}function Tu(){return Tu=Fa(Ma().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Oo(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Zs((a=ju(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Iu(Pu(a.auth_time)),issuedAtTime:Iu(Pu(a.iat)),expirationTime:Iu(Pu(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}function Pu(e){return 1e3*Number(e)}function ju(e){var t,n=c(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Gs("JWT malformed, contained fewer than 3 sections"),null;try{var o=Ya(i);return o?JSON.parse(o):(Gs("Failed to decode base64 JWT payload"),null)}catch(bg){return Gs("Caught error parsing JWT payload as JSON",null===(t=bg)||void 0===t?void 0:t.toString()),null}}function Ru(e,t){return Ou.apply(this,arguments)}function Ou(){return Ou=Fa(Ma().mark((function e(t,n){var r=arguments;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof fo&&Lu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ou.apply(this,arguments)}function Lu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Du=function(){function e(t){jt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ot(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Fa(Ma().mark((function t(){return Ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Fa(Ma().mark((function e(){var t;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Au=function(){function e(t,n){jt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ot(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Mu(e){return zu.apply(this,arguments)}function zu(){return zu=Fa(Ma().mark((function e(t){var n,r,i,a,o,s,u,l,c,d,f;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ru(t,Su(r,{idToken:i}));case 6:Zs(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Wu(o.providerUserInfo):[],u=Uu(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),d=!!l&&c,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Au(o.createdAt,o.lastLoginAt),isAnonymous:d},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),zu.apply(this,arguments)}function Fu(){return(Fu=Fa(Ma().mark((function e(t){var n;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Oo(t),e.next=3,Mu(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(l(n),l(t))}function Wu(e){return e.map((function(e){var t=e.providerId,n=Vs(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Vu(e,t){return qu.apply(this,arguments)}function qu(){return qu=Fa(Ma().mark((function e(t,n){var r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yu(t,{},Fa(Ma().mark((function e(){var r,i,a,o,s,u;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Eo({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=_u(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",du.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),qu.apply(this,arguments)}var Hu=function(){function e(){jt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ot(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Zs(e.idToken,"internal-error"),Zs("undefined"!==typeof e.idToken,"internal-error"),Zs("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ju(e);return Zs(t,"internal-error"),Zs("undefined"!==typeof t.exp,"internal-error"),Zs("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Fa(Ma().mark((function e(t){var n,r=arguments;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Zs(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Fa(Ma().mark((function e(t,n){var r,i,a,o;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vu(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return eu("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Zs("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Zs("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Zs("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Bu(e,t){Zs("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ku=function(){function e(t){jt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Vs(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Du(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?l(a.providerData):[],this.metadata=new Au(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ot(e,[{key:"getIdToken",value:function(){var e=Fa(Ma().mark((function e(t){var n;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ru(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Zs(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Tu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Fu.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Zs(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Zs(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Fa(Ma().mark((function e(t){var n,r,i=arguments;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Mu(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Fa(Ma().mark((function e(){var t;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ru(this,Cu(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,l,c,d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,k=n.uid,b=n.emailVerified,_=n.isAnonymous,w=n.providerData,x=n.stsTokenManager;Zs(k&&x,t,"internal-error");var C=Hu.fromJSON(this.name,x);Zs("string"===typeof k,t,"internal-error"),Bu(d,t.name),Bu(f,t.name),Zs("boolean"===typeof b,t,"internal-error"),Zs("boolean"===typeof _,t,"internal-error"),Bu(h,t.name),Bu(p,t.name),Bu(v,t.name),Bu(m,t.name),Bu(y,t.name),Bu(g,t.name);var E=new e({uid:k,auth:t,email:f,emailVerified:b,displayName:d,isAnonymous:_,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:C,createdAt:y,lastLoginAt:g});return w&&Array.isArray(w)&&(E.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Fa(Ma().mark((function t(n,r){var i,a,o,s=arguments;return Ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Hu).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Mu(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),$u=function(){function e(){jt(this,e),this.type="NONE",this.storage={}}return Ot(e,[{key:"_isAvailable",value:function(){var e=Fa(Ma().mark((function e(){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Fa(Ma().mark((function e(t,n){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fa(Ma().mark((function e(t){var n;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fa(Ma().mark((function e(t){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();$u.type="NONE";var Gu=$u;function Qu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Yu=function(){function e(t,n,r){jt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Qu(this.userKey,a.apiKey,o),this.fullPersistenceKey=Qu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ot(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Fa(Ma().mark((function e(){var t;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ku._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Fa(Ma().mark((function e(t){var n;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Fa(Ma().mark((function t(n,r){var i,a,o,s,u,l,c,d,f,h,p,v=arguments;return Ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ru(Gu),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Fa(Ma().mark((function e(t){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ru(Gu),s=Qu(i,n.config.apiKey,n.name),u=null,l=Ua(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return d=c.value,t.prev=14,t.next=17,d._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return h=Ku._fromJSON(n,f),d!==o&&(u=h),o=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Fa(Ma().mark((function e(t){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ju(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rl(t))return"Blackberry";if(il(t))return"Webos";if(Zu(t))return"Safari";if((t.includes("chrome/")||el(t))&&!t.includes("edge/"))return"Chrome";if(nl(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Xu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za();return/firefox\//i.test(e)}function Zu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function el(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za();return/crios\//i.test(e)}function tl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za();return/iemobile/i.test(e)}function nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za();return/android/i.test(e)}function rl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za();return/blackberry/i.test(e)}function il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za();return/webos/i.test(e)}function al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ol(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za();return al(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function sl(){return function(){var e=Za();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ul(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za();return al(e)||nl(e)||il(e)||rl(e)||/windows phone/i.test(e)||tl(e)}function ll(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ju(Za());break;case"Worker":t="".concat(Ju(Za()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Cs,"/").concat(r)}var cl=function(){function e(t){jt(this,e),this.auth=t,this.queue=[]}return Ot(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(bg){r(bg)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Fa(Ma().mark((function e(t){var n,r,i,a,o,s,u,l;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Ua(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=Ua(r);try{for(s.s();!(u=s.n()).done;){l=u.value;try{l()}catch(c){}}}catch(d){s.e(d)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),dl=function(){function e(t,n,r){jt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hl(this),this.idTokenSubscription=new hl(this),this.beforeStateQueue=new cl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ks,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Ot(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ru(t)),this._initializationPromise=this.queue(Fa(Ma().mark((function r(){var i,a;return Ma().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Yu.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Fa(Ma().mark((function e(){var t;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Fa(Ma().mark((function e(t){var n,r,i,a,o,s,u;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Zs(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Fa(Ma().mark((function e(t){var n;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Fa(Ma().mark((function e(t){var n;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mu(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Fa(Ma().mark((function e(){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Fa(Ma().mark((function e(t){var n;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Oo(t):null)&&Zs(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Fa(Ma().mark((function e(t){var n,r=this,i=arguments;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Zs(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Fa(Ma().mark((function e(){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Fa(Ma().mark((function e(){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Fa(Ma().mark((function n(){return Ma().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ru(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ho("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Fa(Ma().mark((function e(t,n){var r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Fa(Ma().mark((function e(t){var n;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Zs(n=t&&ru(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Yu.create(this,[ru(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Fa(Ma().mark((function e(t){var n,r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Fa(Ma().mark((function e(){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Fa(Ma().mark((function e(t){var n=this;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Fa(Ma().mark((function e(){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Zs(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Fa(Ma().mark((function e(t){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Zs(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ll(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Fa(Ma().mark((function e(){var t,n,r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fl(e){return Oo(e)}var hl=function(){function e(t){var n=this;jt(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new To(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return Ot(e,[{key:"next",get:function(){return Zs(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function pl(e,t,n){var r=fl(e);Zs(r._canInitEmulator,r,"emulator-config-failed"),Zs(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=vl(t),o=function(e){var t=vl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ml(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:ml(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function vl(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ml(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var yl=function(){function e(t,n){jt(this,e),this.providerId=t,this.signInMethod=n}return Ot(e,[{key:"toJSON",value:function(){return eu("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return eu("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return eu("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return eu("not implemented")}}]),e}();function gl(e,t){return kl.apply(this,arguments)}function kl(){return kl=Fa(Ma().mark((function e(t,n){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),kl.apply(this,arguments)}function bl(e,t){return _l.apply(this,arguments)}function _l(){return _l=Fa(Ma().mark((function e(t,n){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ku(t,"POST","/v1/accounts:signInWithPassword",pu(t,n)));case 1:case"end":return e.stop()}}),e)}))),_l.apply(this,arguments)}function wl(e,t){return xl.apply(this,arguments)}function xl(){return xl=Fa(Ma().mark((function e(t,n){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:sendOobCode",pu(t,n)));case 1:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}function Cl(e,t){return El.apply(this,arguments)}function El(){return El=Fa(Ma().mark((function e(t,n){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wl(t,n));case 1:case"end":return e.stop()}}),e)}))),El.apply(this,arguments)}function Sl(e,t){return Nl.apply(this,arguments)}function Nl(){return Nl=Fa(Ma().mark((function e(t,n){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ku(t,"POST","/v1/accounts:signInWithEmailLink",pu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Nl.apply(this,arguments)}function Il(e,t){return Tl.apply(this,arguments)}function Tl(){return Tl=Fa(Ma().mark((function e(t,n){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ku(t,"POST","/v1/accounts:signInWithEmailLink",pu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}var Pl=function(e){wn(n,e);var t=Nn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return jt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ot(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Fa(Ma().mark((function e(t){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",bl(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Sl(t,{email:this._email,oobCode:this._password}));case 5:Qs(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Fa(Ma().mark((function e(t,n){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",gl(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Il(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Qs(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(yl);function jl(e,t){return Rl.apply(this,arguments)}function Rl(){return Rl=Fa(Ma().mark((function e(t,n){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ku(t,"POST","/v1/accounts:signInWithIdp",pu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rl.apply(this,arguments)}var Ol=function(e){wn(n,e);var t=Nn(n);function n(){var e;return jt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ot(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return jl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,jl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,jl(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Eo(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qs("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Vs(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(yl);function Ll(e,t){return Dl.apply(this,arguments)}function Dl(){return Dl=Fa(Ma().mark((function e(t,n){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:sendVerificationCode",pu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Al(){return Al=Fa(Ma().mark((function e(t,n){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ku(t,"POST","/v1/accounts:signInWithPhoneNumber",pu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Al.apply(this,arguments)}function Ml(){return Ml=Fa(Ma().mark((function e(t,n){var r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ku(t,"POST","/v1/accounts:signInWithPhoneNumber",pu(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw xu(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ml.apply(this,arguments)}var zl=i({},"USER_NOT_FOUND","user-not-found");function Fl(){return Fl=Fa(Ma().mark((function e(t,n){var r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ku(t,"POST","/v1/accounts:signInWithPhoneNumber",pu(t,r),zl));case 2:case"end":return e.stop()}}),e)}))),Fl.apply(this,arguments)}var Ul=function(e){wn(n,e);var t=Nn(n);function n(e){var r;return jt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ot(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Al.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ml.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Fl.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(yl);var Wl=function(){function e(t){var n,r,i,a,o,s;jt(this,e);var u=So(No(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Zs(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Ot(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=So(No(e)).link,n=t?So(No(t)).deep_link_id:null,r=So(No(e)).deep_link_id;return(r?So(No(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Vl=function(){function e(){jt(this,e),this.providerId=e.PROVIDER_ID}return Ot(e,null,[{key:"credential",value:function(e,t){return Pl._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Wl.parseLink(t);return Zs(n,"argument-error"),Pl._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Vl.PROVIDER_ID="password",Vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ql=function(){function e(t){jt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ot(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Hl=function(e){wn(n,e);var t=Nn(n);function n(){var e;return jt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ot(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return l(this.scopes)}}]),n}(ql),Bl=function(e){wn(n,e);var t=Nn(n);function n(){return jt(this,n),t.call(this,"facebook.com")}return Ot(n,null,[{key:"credential",value:function(e){return Ol._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Hl);Bl.FACEBOOK_SIGN_IN_METHOD="facebook.com",Bl.PROVIDER_ID="facebook.com";var Kl=function(e){wn(n,e);var t=Nn(n);function n(){var e;return jt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ot(n,null,[{key:"credential",value:function(e,t){return Ol._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Hl);Kl.GOOGLE_SIGN_IN_METHOD="google.com",Kl.PROVIDER_ID="google.com";var $l=function(e){wn(n,e);var t=Nn(n);function n(){return jt(this,n),t.call(this,"github.com")}return Ot(n,null,[{key:"credential",value:function(e){return Ol._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Hl);$l.GITHUB_SIGN_IN_METHOD="github.com",$l.PROVIDER_ID="github.com";var Gl=function(e){wn(n,e);var t=Nn(n);function n(){return jt(this,n),t.call(this,"twitter.com")}return Ot(n,null,[{key:"credential",value:function(e,t){return Ol._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Hl);function Ql(e,t){return Yl.apply(this,arguments)}function Yl(){return Yl=Fa(Ma().mark((function e(t,n){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ku(t,"POST","/v1/accounts:signUp",pu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yl.apply(this,arguments)}Gl.TWITTER_SIGN_IN_METHOD="twitter.com",Gl.PROVIDER_ID="twitter.com";var Jl=function(){function e(t){jt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ot(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Fa(Ma().mark((function t(n,r,i){var a,o,s,u,l=arguments;return Ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Ku._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Xl(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Fa(Ma().mark((function t(n,r,i){var a;return Ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Xl(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Xl(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Zl=function(e){wn(n,e);var t=Nn(n);function n(e,r,i,a){var o,s;return jt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(En(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ot(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(fo);function ec(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Zl._fromErrorAndOperation(e,n,t,r);throw n}))}function tc(e,t){return nc.apply(this,arguments)}function nc(){return nc=Fa(Ma().mark((function e(t,n){var r,i,a=arguments;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ru,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Jl._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),nc.apply(this,arguments)}function rc(e,t){return ic.apply(this,arguments)}function ic(){return ic=Fa(Ma().mark((function e(t,n){var r,i,a,o,s,u,l,c=arguments;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Ru(t,ec(a,o,n,t),r);case 6:return Zs((s=e.sent).idToken,a,"internal-error"),Zs(u=ju(s.idToken),a,"internal-error"),l=u.sub,Zs(t.uid===l,a,"user-mismatch"),e.abrupt("return",Jl._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Qs(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ic.apply(this,arguments)}function ac(e,t){return oc.apply(this,arguments)}function oc(){return oc=Fa(Ma().mark((function e(t,n){var r,i,a,o,s=arguments;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,ec(t,i,n);case 4:return a=e.sent,e.next=7,Jl._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),oc.apply(this,arguments)}function sc(e,t){return uc.apply(this,arguments)}function uc(){return uc=Fa(Ma().mark((function e(t,n){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(fl(t),n));case 1:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function lc(e,t,n){var r;Zs((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Zs("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Zs(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Zs(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function cc(){return cc=Fa(Ma().mark((function e(t,n,r){var i,a,o;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fl(t),e.next=3,Ql(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Jl._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}function dc(){return dc=Fa(Ma().mark((function e(t,n,r){var i,a;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oo(t),a={requestType:"EMAIL_SIGNIN",email:n},Zs(r.handleCodeInApp,i,"argument-error"),r&&lc(i,a,r),e.next=6,Cl(i,a);case 6:case"end":return e.stop()}}),e)}))),dc.apply(this,arguments)}function fc(){return fc=Fa(Ma().mark((function e(t,n,r){var i,a;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oo(t),Zs((a=Vl.credentialWithLink(n,r||au()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",sc(i,a));case 4:case"end":return e.stop()}}),e)}))),fc.apply(this,arguments)}function hc(e,t,n,r){return Oo(e).onIdTokenChanged(t,n,r)}function pc(e,t,n){return Oo(e).beforeAuthStateChanged(t,n)}function vc(e,t){return vu(e,"POST","/v2/accounts/mfaEnrollment:start",pu(e,t))}new WeakMap;var mc="__sak",yc=function(){function e(t,n){jt(this,e),this.storageRetriever=t,this.type=n}return Ot(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(mc,"1"),this.storage.removeItem(mc),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var gc=function(e){wn(n,e);var t=Nn(n);function n(){var e;return jt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Za();return Zu(e)||al(e)}()&&function(){try{return!(!window||window===window.top)}catch(bg){return!1}}(),e.fallbackToPolling=ul(),e._shouldAllowMigration=!0,e}return Ot(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);sl()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Fa(Ma().mark((function e(t,r){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n(kn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fa(Ma().mark((function e(t){var r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n(kn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fa(Ma().mark((function e(t){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n(kn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(yc);gc.type="LOCAL";var kc=gc,bc=function(e){wn(n,e);var t=Nn(n);function n(){return jt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ot(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(yc);bc.type="SESSION";var _c=bc;function wc(e){return Promise.all(e.map(function(){var e=Fa(Ma().mark((function e(t){var n;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var xc=function(){function e(t){jt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ot(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Fa(Ma().mark((function e(t){var n,r,i,a,o,s,u,l;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Fa(Ma().mark((function e(t){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,wc(u);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Cc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}xc.receivers=[];var Ec=function(){function e(t){jt(this,e),this.target=t,this.handlers=new Set}return Ot(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Fa(Ma().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var l=Cc("",20);i.port1.start();var c=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Sc(){return window}function Nc(){return"undefined"!==typeof Sc().WorkerGlobalScope&&"function"===typeof Sc().importScripts}function Ic(){return Tc.apply(this,arguments)}function Tc(){return(Tc=Fa(Ma().mark((function e(){var t;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Pc(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var jc="firebaseLocalStorageDb",Rc="firebaseLocalStorage",Oc="fbase_key",Lc=function(){function e(t){jt(this,e),this.request=t}return Ot(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Dc(e,t){return e.transaction([Rc],t?"readwrite":"readonly").objectStore(Rc)}function Ac(){var e=indexedDB.deleteDatabase(jc);return new Lc(e).toPromise()}function Mc(){var e=indexedDB.open(jc,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Rc,{keyPath:Oc})}catch(bg){n(bg)}})),e.addEventListener("success",Fa(Ma().mark((function n(){var r;return Ma().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Rc)){n.next=12;break}return r.close(),n.next=5,Ac();case 5:return n.t0=t,n.next=8,Mc();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function zc(e,t,n){return Fc.apply(this,arguments)}function Fc(){return Fc=Fa(Ma().mark((function e(t,n,r){var a,o;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Dc(t,!0).put((i(a={},Oc,n),i(a,"value",r),a)),e.abrupt("return",new Lc(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}function Uc(e,t){return Wc.apply(this,arguments)}function Wc(){return Wc=Fa(Ma().mark((function e(t,n){var r,i;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dc(t,!1).get(n),e.next=3,new Lc(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}function Vc(e,t){var n=Dc(e,!0).delete(t);return new Lc(n).toPromise()}var qc=function(){function e(){jt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ot(e,[{key:"_openDb",value:function(){var e=Fa(Ma().mark((function e(){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Mc();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Fa(Ma().mark((function e(t){var n,r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Fa(Ma().mark((function e(){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Fa(Ma().mark((function e(){var t=this;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=xc._getInstance(Nc()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Fa(Ma().mark((function e(n,r){var i;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Fa(Ma().mark((function e(t,n){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Fa(Ma().mark((function e(){var t,n,r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ic();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ec(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Fa(Ma().mark((function e(t){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Pc()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Fa(Ma().mark((function e(){var t;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Mc();case 5:return t=e.sent,e.next=8,zc(t,mc,"1");case 8:return e.next=10,Vc(t,mc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Fa(Ma().mark((function e(t){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Fa(Ma().mark((function e(t,n){var r=this;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Fa(Ma().mark((function e(){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return zc(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fa(Ma().mark((function e(t){var n;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Uc(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fa(Ma().mark((function e(t){var n=this;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Fa(Ma().mark((function e(){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Vc(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Fa(Ma().mark((function e(){var t,n,r,i,a,o,s,u,l,c,d;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Dc(e,!1).getAll();return new Lc(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ua(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)d=c[l],this.localCache[d]&&!r.has(d)&&(this.notifyListeners(d,null),n.push(d));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Fa(Ma().mark((function t(){return Ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();qc.type="LOCAL";var Hc=qc;function Bc(e,t){return vu(e,"POST","/v2/accounts/mfaSignIn:start",pu(e,t))}function Kc(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ys("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function $c(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}$c("rcb"),new lu(3e4,6e4);var Gc="recaptcha";function Qc(e,t,n){return Yc.apply(this,arguments)}function Yc(){return Yc=Fa(Ma().mark((function e(t,n,r){var i,a,o,s,u,l,c,d,f;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Zs("string"===typeof a,t,"argument-error"),Zs(r.type===Gc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Zs("enroll"===s.type,t,"internal-error"),e.next=13,vc(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Zs("signin"===s.type,t,"internal-error"),Zs(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Bc(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ll(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return d=e.sent,f=d.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Yc.apply(this,arguments)}var Jc=function(){function e(t){jt(this,e),this.providerId=e.PROVIDER_ID,this.auth=fl(t)}return Ot(e,[{key:"verifyPhoneNumber",value:function(e,t){return Qc(this.auth,e,Oo(t))}}],[{key:"credential",value:function(e,t){return Ul._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ul._fromTokenResponse(n,r):null}}]),e}();function Xc(e,t){return t?ru(t):(Zs(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Jc.PROVIDER_ID="phone",Jc.PHONE_SIGN_IN_METHOD="phone";var Zc=function(e){wn(n,e);var t=Nn(n);function n(e){var r;return jt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ot(n,[{key:"_getIdTokenResponse",value:function(e){return jl(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return jl(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return jl(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(yl);function ed(e){return ac(e.auth,new Zc(e),e.bypassAuthState)}function td(e){var t=e.auth,n=e.user;return Zs(n,t,"internal-error"),rc(n,new Zc(e),e.bypassAuthState)}function nd(e){return rd.apply(this,arguments)}function rd(){return rd=Fa(Ma().mark((function e(t){var n,r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Zs(r=t.user,n,"internal-error"),e.abrupt("return",tc(r,new Zc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}var id=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];jt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ot(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Fa(Ma().mark((function t(n,r){return Ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Fa(Ma().mark((function e(t){var n,r,i,a,o,s,u;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ed;case"linkViaPopup":case"linkViaRedirect":return nd;case"reauthViaPopup":case"reauthViaRedirect":return td;default:Qs(this.auth,"internal-error")}}},{key:"resolve",value:function(e){tu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){tu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ad=new lu(2e3,1e4);var od=function(e){wn(n,e);var t=Nn(n);function n(e,r,i,a,o){var s;return jt(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=En(s),s}return Ot(n,[{key:"executeNotNull",value:function(){var e=Fa(Ma().mark((function e(){var t;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Zs(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Fa(Ma().mark((function e(){var t,n=this;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tu(1===this.filter.length,"Popup operations only handle one event"),t=Cc(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ys(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ys(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ys(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ad.get())}()}}]),n}(id);od.currentPopupAction=null;var sd=new Map,ud=function(e){wn(n,e);var t=Nn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return jt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ot(n,[{key:"execute",value:function(){var e=Fa(Ma().mark((function e(){var t,r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=sd.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,ld(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,_n(kn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:sd.set(this.auth._key(),t);case 21:return this.bypassAuthState||sd.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Fa(Ma().mark((function e(t){var r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",_n(kn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",_n(kn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Fa(Ma().mark((function e(){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(id);function ld(e,t){return cd.apply(this,arguments)}function cd(){return cd=Fa(Ma().mark((function e(t,n){var r,i,a;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hd(n),i=fd(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),cd.apply(this,arguments)}function dd(e,t){sd.set(e._key(),t)}function fd(e){return ru(e._redirectPersistence)}function hd(e){return Qu("pendingRedirect",e.config.apiKey,e.name)}function pd(e,t){return vd.apply(this,arguments)}function vd(){return vd=Fa(Ma().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=fl(t),a=Xc(i,n),o=new ud(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),vd.apply(this,arguments)}var md=function(){function e(t){jt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ot(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gd(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!gd(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ys(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yd(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(yd(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function yd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function gd(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function kd(e){return bd.apply(this,arguments)}function bd(){return bd=Fa(Ma().mark((function e(t){var n,r=arguments;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",vu(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),bd.apply(this,arguments)}var _d=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wd=/^https?/;function xd(){return xd=Fa(Ma().mark((function e(t){var n,r,i,a,o;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,kd(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ua(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Cd(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Qs(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),xd.apply(this,arguments)}function Cd(e){var t=au(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!wd.test(r))return!1;if(_d.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Ed=new lu(3e4,6e4);function Sd(){var e=Sc().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=l(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Nd=null;function Id(e){return Nd=Nd||function(e){return new Promise((function(t,n){var r,i,a;function o(){Sd(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Sd(),n(Ys(e,"network-request-failed"))},timeout:Ed.get()})}if(null===(i=null===(r=Sc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Sc().gapi)||void 0===a?void 0:a.load)){var s=$c("iframefcb");return Sc()[s]=function(){gapi.load?o():n(Ys(e,"network-request-failed"))},Kc("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Nd=null,e}))}(e),Nd}var Td=new lu(5e3,15e3),Pd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rd(e){var t=e.config;Zs(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?cu(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Cs},i=jd.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Eo(r).slice(1))}function Od(e){return Ld.apply(this,arguments)}function Ld(){return Ld=Fa(Ma().mark((function e(t){var n,r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Id(t);case 2:return n=e.sent,Zs(r=Sc().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Rd(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pd,dontclear:!0},(function(e){return new Promise(function(){var n=Fa(Ma().mark((function n(r,i){var a,o,s;return Ma().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Sc().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ys(t,"network-request-failed"),o=Sc().setTimeout((function(){i(a)}),Td.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ld.apply(this,arguments)}var Dd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ad="_blank",Md="http://localhost",zd=function(){function e(t){jt(this,e),this.window=t,this.associatedEvent=null}return Ot(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(bg){}}}]),e}();function Fd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Dd),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Za().toLowerCase();n&&(s=el(l)?Ad:n),Xu(l)&&(t=t||Md,u.scrollbars="yes");var d=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(ol(l)&&"_self"!==s)return Ud(t||"",s),new zd(null);var f=window.open(t||"",s,d);Zs(f,e,"popup-blocked");try{f.focus()}catch(bg){}return new zd(f)}function Ud(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Wd="__/auth/handler",Vd="emulator/auth/handler";function qd(e,t,n,r,i,a){Zs(e.config.authDomain,e,"auth-domain-config-required"),Zs(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Cs,eventId:i};if(t instanceof ql){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",_o(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var l=c(u[s],2),d=l[0],f=l[1];o[d]=f}}if(t instanceof Hl){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Wd);return cu(t,Vd)}(e),"?").concat(Eo(p).slice(1))}var Hd="webStorageSupport",Bd=function(){function e(){jt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_c,this._completeRedirectFn=pd,this._overrideRedirectResult=dd}return Ot(e,[{key:"_openPopup",value:function(){var e=Fa(Ma().mark((function e(t,n,r,i){var a,o;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tu(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=qd(t,n,r,au(),i),e.abrupt("return",Fd(t,o,Cc()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Fa(Ma().mark((function e(t,n,r,i){return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=qd(t,n,r,au(),i),Sc().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(tu(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Fa(Ma().mark((function e(t){var n,r;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Od(t);case 2:return n=e.sent,r=new md(t),n.register("authEvent",(function(e){return Zs(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Hd,{type:Hd},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Qs(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return xd.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ul()||Zu()||al()}}]),e}(),Kd=Bd,$d=function(){function e(t){jt(this,e),this.factorId=t}return Ot(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return eu("unexpected MultiFactorSessionType")}}}]),e}(),Gd=function(e){wn(n,e);var t=Nn(n);function n(e){var r;return jt(this,n),(r=t.call(this,"phone")).credential=e,r}return Ot(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return vu(e,"POST","/v2/accounts/mfaEnrollment:finalize",pu(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return vu(e,"POST","/v2/accounts/mfaSignIn:finalize",pu(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}($d);(function(){function e(){jt(this,e)}return Ot(e,null,[{key:"assertion",value:function(e){return Gd._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Qd="@firebase/auth",Yd="0.20.11",Jd=function(){function e(t){jt(this,e),this.auth=t,this.internalListeners=new Map}return Ot(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Fa(Ma().mark((function e(t){var n;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Zs(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Xd,Zd=uo("authIdTokenMaxAge")||300,ef=null,tf=function(e){return function(){var t=Fa(Ma().mark((function t(n){var r,i,a;return Ma().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>Zd)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,ef!==a){t.next=12;break}return t.abrupt("return");case 12:return ef=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};Xd="Browser",ks(new Lo("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Zs(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Zs(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Xd,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ll(Xd)},i=new dl(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ru);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ks(new Lo("auth-internal",(function(e){return function(e){return new Jd(e)}(fl(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(Qd,Yd,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Xd)),Ns(Qd,Yd,"esm2017");var nf="@firebase/database",rf="0.13.10",af="";var of=function(){function e(t){jt(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Ot(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),yo(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:mo(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),sf=function(){function e(){jt(this,e),this.cache_={},this.isInMemoryStorage=!0}return Ot(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return ko(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),uf=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new of(t)}}catch(bg){}return new sf},lf=uf("localStorage"),cf=uf("sessionStorage"),df=new Bo("@firebase/database"),ff=function(){var e=1;return function(){return e++}}(),hf=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,Ha(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Io;n.update(t);var r=n.digest();return $a.encodeByteArray(r)},pf=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?yo(r):r,t+=" "}return t},vf=null,mf=!0,yf=function(e,t){Ha(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(df.logLevel=zo.VERBOSE,vf=df.log.bind(df),t&&cf.set("logging_enabled",!0)):"function"===typeof e?vf=e:(vf=null,cf.remove("logging_enabled"))},gf=function(){if(!0===mf&&(mf=!1,null===vf&&!0===cf.get("logging_enabled")&&yf(!0)),vf){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=pf.apply(null,t);vf(r)}},kf=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];gf.apply(void 0,[e].concat(n))}},bf=function(){var e="FIREBASE INTERNAL ERROR: "+pf.apply(void 0,arguments);df.error(e)},_f=function(){var e="FIREBASE FATAL ERROR: ".concat(pf.apply(void 0,arguments));throw df.error(e),new Error(e)},wf=function(){var e="FIREBASE WARNING: "+pf.apply(void 0,arguments);df.warn(e)},xf=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Cf="[MIN_NAME]",Ef="[MAX_NAME]",Sf=function(e,t){if(e===t)return 0;if(e===Cf||t===Ef)return-1;if(t===Cf||e===Ef)return 1;var n=Af(e),r=Af(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Nf=function(e,t){return e===t?0:e<t?-1:1},If=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+yo(t))},Tf=function e(t){if("object"!==typeof t||null===t)return yo(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=yo(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Pf=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function jf(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Rf=function(e){Ha(!xf(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var Of=new RegExp("^-?(0*)\\d{1,10}$"),Lf=-2147483648,Df=2147483647,Af=function(e){if(Of.test(e)){var t=Number(e);if(t>=Lf&&t<=Df)return t}return null},Mf=function(e){try{e()}catch(bg){setTimeout((function(){var t=bg.stack||"";throw wf("Exception was thrown by user callback.",t),bg}),Math.floor(0))}},zf=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},Ff=function(){function e(t,n){var r=this;jt(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Ot(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){wf('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Uf=function(){function e(t,n,r){var i=this;jt(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Ot(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(gf("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wf(e)}}]),e}(),Wf=function(){function e(t){jt(this,e),this.accessToken=t}return Ot(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Wf.OWNER="owner";var Vf="5",qf=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Hf="websocket",Bf="long_polling",Kf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];jt(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=lf.get("host:"+t)||this._host}return Ot(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&lf.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function $f(e,t,n){var r;if(Ha("string"===typeof t,"typeof type must == string"),Ha("object"===typeof n,"typeof params must == object"),t===Hf)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Bf)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return jf(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Gf=function(){function e(){jt(this,e),this.counters_={}}return Ot(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;ko(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Ja(this.counters_)}}]),e}(),Qf={},Yf={};function Jf(e){var t=e.toString();return Qf[t]||(Qf[t]=new Gf),Qf[t]}var Xf=function(){function e(t){jt(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Ot(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Mf((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Zf="start",eh="close",th=function(){function e(t,n,r,i,a,o,s){var u=this;jt(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=kf(t),this.stats_=Jf(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),$f(n,Bf,e)}}return Ot(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Xf(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(no()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new nh((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Zf)n.id=a,n.password=o;else{if(i!==eh)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Vf,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&qf.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=yo(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Ga(t),r=Pf(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!no()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=yo(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!no()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),nh=function(){function e(t,n,r,i){if(jt(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,no())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=ff(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(bg){gf("frame writing exception"),bg.stack&&gf(bg.stack),gf(bg)}}}return Ot(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;no()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){gf("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(bg){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||gf("No IE domain setting required")}catch(bg){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),rh=null;"undefined"!==typeof MozWebSocket?rh=MozWebSocket:"undefined"!==typeof WebSocket&&(rh=WebSocket);var ih=function(){function e(t,n,r,i,a,o,s){jt(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=kf(this.connId),this.stats_=Jf(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return Ot(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,lf.set("previous_websocket_failure",!0);try{var r;if(no()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(Vf,"/").concat(af,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new rh(this.connURL,[],r)}catch(bg){this.log_("Error instantiating WebSocket.");var s=bg.message||bg.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){lf.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=mo(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Ha(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=yo(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Pf(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(bg){this.log_("Exception thrown from WebSocket.send():",bg.message||bg.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=Vf,!no()&&"undefined"!==typeof location&&location.hostname&&qf.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),$f(e,Hf,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==rh&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return lf.isInMemoryStorage||!0===lf.get("previous_websocket_failure")}}]),e}();ih.responsesRequiredToBeHealthy=2,ih.healthyTimeout=3e4;var ah=function(){function e(t){jt(this,e),this.initTransports_(t)}return Ot(e,[{key:"initTransports_",value:function(t){var n=ih&&ih.isAvailable(),r=n&&!ih.previouslyFailed();if(t.webSocketOnly&&(n||wf("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ih];else{var i,a=this.transports_=[],o=Ua(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[th,ih]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();ah.globalTransportInitialized_=!1;var oh=function(){function e(t,n,r,i,a,o,s,u,l,c){jt(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=kf("c:"+this.id+":"),this.transportManager_=new ah(n),this.log_("Connection created"),this.start_()}return Ot(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=zf((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=If("t",e),n=If("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=If("t",e),n=If("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=If("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?bf("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bf("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Vf!==n&&wf("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),zf((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zf((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(lf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),sh=function(){function e(){jt(this,e)}return Ot(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),uh=function(){function e(t){jt(this,e),this.allowedEvents_=t,this.listeners_={},Ha(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Ot(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=l(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Ha(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),lh=function(e){wn(n,e);var t=Nn(n);function n(){var e;return jt(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||eo()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Ot(n,[{key:"getInitialEvent",value:function(e){return Ha("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(uh),ch=function(){function e(t,n){if(jt(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Ot(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function dh(){return new ch("")}function fh(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function hh(e){return e.pieces_.length-e.pieceNum_}function ph(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ch(e.pieces_,t)}function vh(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function mh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function yh(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ch(t,0)}function gh(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ch)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new ch(n,0)}function kh(e){return e.pieceNum_>=e.pieces_.length}function bh(e,t){var n=fh(e),r=fh(t);if(null===n)return t;if(n===r)return bh(ph(e),ph(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function _h(e,t){for(var n=mh(e,0),r=mh(t,0),i=0;i<n.length&&i<r.length;i++){var a=Sf(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function wh(e,t){if(hh(e)!==hh(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function xh(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(hh(e)>hh(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ch=Ot((function e(t,n){jt(this,e),this.errorPrefix_=n,this.parts_=mh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Ro(this.parts_[r]);Eh(this)}));function Eh(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Sh(e))}function Sh(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Nh=function(e){wn(n,e);var t=Nn(n);function n(){var e,r,i;return jt(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Ot(n,[{key:"getInitialEvent",value:function(e){return Ha("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(uh),Ih=1e3,Th=function(e){wn(n,e);var t=Nn(n);function n(e,r,i,a,o,s,u,l){var c;if(jt(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=kf("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Ih,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!no())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Nh.getInstance().on("visible",c.onVisible_,En(c)),-1===e.host.indexOf("fblocal")&&lh.getInstance().on("online",c.onOnline_,En(c)),c}return Ot(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(yo(i)),Ha(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new lo,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Ha(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ha(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=go(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=go(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Ha(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+yo(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):bf("Unrecognized action received from server: "+yo(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Ha(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ih,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ih,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ih),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Fa(Ma().mark((function e(){var t,r,i,a,o,s,u,l,d,f,h,p,v,m,y=this;return Ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},d=function(e){Ha(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:d},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:h=e.sent,p=c(h,2),v=p[0],m=p[1],s?gf("getToken() completed but was canceled"):(gf("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new oh(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){wf(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&wf(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){gf("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){gf("Resuming connection for reason: "+e),delete this.interruptReasons_[e],_o(this.interruptReasons_)&&(this.reconnectDelay_=Ih,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Tf(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new ch(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){gf("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){gf("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Ua(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=Ua(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";no()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+af.replace(/\./g,"-")]=1,eo()?e["framework.cordova"]=1:to()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=lh.getInstance().currentlyOnline();return _o(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&ko(e,"w")){var n=bo(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();wf("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(sh);Th.nextPersistentConnectionId_=0,Th.nextConnectionId_=0;var Ph,jh=function(){function e(t,n){jt(this,e),this.name=t,this.node=n}return Ot(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Rh=function(){function e(){jt(this,e)}return Ot(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new jh(Cf,e),r=new jh(Cf,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return jh.MIN}}]),e}(),Oh=function(e){wn(n,e);var t=Nn(n);function n(){return jt(this,n),t.apply(this,arguments)}return Ot(n,[{key:"compare",value:function(e,t){return Sf(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Ba("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return jh.MIN}},{key:"maxPost",value:function(){return new jh(Ef,Ph)}},{key:"makePost",value:function(e,t){return Ha("string"===typeof e,"KeyIndex indexValue must always be a string."),new jh(e,Ph)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Ph},set:function(e){Ph=e}}]),n}(Rh),Lh=new Oh,Dh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;jt(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Ot(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Ah=function(){function e(t,n,r,i,a){jt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Fh.EMPTY_NODE,this.right=null!=a?a:Fh.EMPTY_NODE}return Ot(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Fh.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Fh.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Ah.RED=!0,Ah.BLACK=!1;var Mh,zh=function(){function e(){jt(this,e)}return Ot(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ah(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Fh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;jt(this,e),this.comparator_=t,this.root_=n}return Ot(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ah.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ah.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Dh(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Dh(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Dh(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Dh(this.root_,null,this.comparator_,!0,e)}}]),e}();function Uh(e,t){return Sf(e.name,t.name)}function Wh(e,t){return Sf(e,t)}Fh.EMPTY_NODE=new zh;var Vh,qh,Hh,Bh=function(e){return"number"===typeof e?"number:"+Rf(e):"string:"+e},Kh=function(e){if(e.isLeafNode()){var t=e.val();Ha("string"===typeof t||"number"===typeof t||"object"===typeof t&&ko(t,".sv"),"Priority must be a string or number.")}else Ha(e===Mh||e.isEmpty(),"priority of unexpected type.");Ha(e===Mh||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},$h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;jt(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Ha(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Kh(this.priorityNode_)}return Ot(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return kh(t)?this:".priority"===fh(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=fh(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Ha(".priority"!==r||1===hh(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ph(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Bh(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Rf(this.value_):this.value_,this.lazyHash_=hf(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Ha(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Ha(i>=0,"Unknown leaf type: "+n),Ha(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Vh},set:function(e){Vh=e}}]),e}();$h.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Gh,Qh,Yh=function(e){wn(n,e);var t=Nn(n);function n(){return jt(this,n),t.apply(this,arguments)}return Ot(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Sf(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return jh.MIN}},{key:"maxPost",value:function(){return new jh(Ef,new $h("[PRIORITY-POST]",Hh))}},{key:"makePost",value:function(e,t){var n=qh(e);return new jh(t,new $h("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Rh),Jh=new Yh,Xh=Math.log(2),Zh=function(){function e(t){jt(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Xh,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Ot(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),ep=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new Ah(o,a.node,Ah.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new Ah(o,a.node,Ah.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var l=i(a+1,s),c=e[a],d=n?n(c):c;u(new Ah(d,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),d=Math.pow(2,t.count-(l+1));c?s(d,Ah.BLACK):(s(d,Ah.BLACK),s(d,Ah.RED))}return a}(new Zh(e.length));return new Fh(r||t,a)},tp={},np=function(){function e(t,n){jt(this,e),this.indexes_=t,this.indexSet_=n}return Ot(e,[{key:"get",value:function(e){var t=bo(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Fh?t:null}},{key:"hasIndex",value:function(e){return ko(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Ha(t!==Lh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(jh.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?ep(i,t.getCompare()):tp;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(wo(this.indexes_,(function(e,i){var a=bo(r.indexSet_,i);if(Ha(a,"Missing index implementation for "+i),e===tp){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(jh.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),ep(o,a.getCompare())}return tp}var l=n.get(t.name),c=e;return l&&(c=c.remove(new jh(t.name,l))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(wo(this.indexes_,(function(e){if(e===tp)return e;var r=n.get(t.name);return r?e.remove(new jh(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Ha(tp&&Jh,"ChildrenNode.ts has not been loaded"),Gh=Gh||new e({".priority":tp},{".priority":Jh})}}]),e}(),rp=function(){function e(t,n,r){jt(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Kh(this.priorityNode_),this.children_.isEmpty()&&Ha(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Ot(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Qh}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Qh:t}},{key:"getChild",value:function(e){var t=fh(e);return null===t?this:this.getImmediateChild(t).getChild(ph(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Ha(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new jh(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?Qh:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=fh(e);if(null===n)return t;Ha(".priority"!==fh(e)||1===hh(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ph(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Jh,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Bh(this.getPriority().val())+":"),this.forEachChild(Jh,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":hf(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new jh(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new jh(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new jh(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,jh.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,jh.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ip?-1:0}},{key:"withIndex",value:function(t){if(t===Lh||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Lh||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Jh),r=t.getIterator(Jh),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Lh?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Qh||(Qh=new e(new Fh(Wh),null,np.Default))}}]),e}();rp.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var ip=new(function(e){wn(n,e);var t=Nn(n);function n(){return jt(this,n),t.call(this,new Fh(Wh),rp.EMPTY_NODE,np.Default)}return Ot(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return rp.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(rp));Object.defineProperties(jh,{MIN:{value:new jh(Cf,rp.EMPTY_NODE)},MAX:{value:new jh(Ef,ip)}}),Oh.__EMPTY_NODE=rp.EMPTY_NODE,$h.__childrenNodeConstructor=rp,Mh=ip,function(e){Hh=e}(ip);function ap(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return rp.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Ha(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new $h(n,ap(t))}if(e instanceof Array){var r=rp.EMPTY_NODE;return jf(e,(function(t,n){if(ko(e,t)&&"."!==t.substring(0,1)){var i=ap(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(ap(t))}var i=[],a=!1,o=e;if(jf(o,(function(e,t){if("."!==e.substring(0,1)){var n=ap(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new jh(e,n)))}})),0===i.length)return rp.EMPTY_NODE;var s=ep(i,Uh,(function(e){return e.name}),Wh);if(a){var u=ep(i,Jh.getCompare());return new rp(s,ap(t),new np({".priority":u},{".priority":Jh}))}return new rp(s,ap(t),np.Default)}!function(e){qh=e}(ap);var op=function(e){wn(n,e);var t=Nn(n);function n(e){var r;return jt(this,n),(r=t.call(this)).indexPath_=e,Ha(!kh(e)&&".priority"!==fh(e),"Can't create PathIndex with empty path or .priority key"),r}return Ot(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Sf(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=ap(e),r=rp.EMPTY_NODE.updateChild(this.indexPath_,n);return new jh(t,r)}},{key:"maxPost",value:function(){var e=rp.EMPTY_NODE.updateChild(this.indexPath_,ip);return new jh(Ef,e)}},{key:"toString",value:function(){return mh(this.indexPath_,0).join("/")}}]),n}(Rh),sp=function(e){wn(n,e);var t=Nn(n);function n(){return jt(this,n),t.apply(this,arguments)}return Ot(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Sf(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return jh.MIN}},{key:"maxPost",value:function(){return jh.MAX}},{key:"makePost",value:function(e,t){var n=ap(e);return new jh(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Rh),up=new sp,lp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function cp(e){return{type:"value",snapshotNode:e}}function dp(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function fp(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function hp(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var pp=function(){function e(t){jt(this,e),this.index_=t}return Ot(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Ha(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(fp(t,o)):Ha(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(dp(t,n)):a.trackChildChange(hp(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Jh,(function(e,r){t.hasChild(e)||n.trackChildChange(fp(e,r))})),t.isLeafNode()||t.forEachChild(Jh,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(hp(t,r,i))}else n.trackChildChange(dp(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?rp.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),vp=function(){function e(t){jt(this,e),this.indexedFilter_=new pp(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return Ot(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new jh(t,n))||(n=rp.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=rp.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(rp.EMPTY_NODE);var i=this;return t.forEachChild(Jh,(function(e,t){i.matches(new jh(e,t))||(r=r.updateImmediateChild(e,rp.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),mp=function(){function e(t){jt(this,e),this.rangedFilter_=new vp(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return Ot(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new jh(t,n))||(n=rp.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=rp.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=rp.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var s,u,l,c;if(r=(r=t.withIndex(this.index_)).updatePriority(rp.EMPTY_NODE),this.reverse_){c=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var d=this.index_.getCompare();l=function(e,t){return d(t,e)}}else c=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();for(var f=0,h=!1;c.hasNext();){var p=c.getNext();!h&&l(s,p)<=0&&(h=!0),h&&f<this.limit_&&l(p,u)<=0?f++:r=r.updateImmediateChild(p.name,rp.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;Ha(s.numChildren()===this.limit_,"");var u=new jh(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var d=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var h=null==f?1:a(f,u);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(hp(t,n,d)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(fp(t,d));var p=s.updateImmediateChild(t,rp.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(dp(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:c&&a(l,u)>=0?(null!=i&&(i.trackChildChange(fp(l.name,l.node)),i.trackChildChange(dp(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,rp.EMPTY_NODE)):e}}]),e}(),yp=function(){function e(){jt(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Jh}return Ot(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Ha(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Ha(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Cf}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Ha(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Ha(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ef}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Ha(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Jh}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function gp(e){var t,n={};return e.isDefault()||(e.index_===Jh?t="$priority":e.index_===up?t="$value":e.index_===Lh?t="$key":(Ha(e.index_ instanceof op,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=yo(t),e.startSet_&&(n.startAt=yo(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+yo(e.indexStartName_))),e.endSet_&&(n.endAt=yo(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+yo(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function kp(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Jh&&(t.i=e.index_.toString()),t}var bp=function(e){wn(n,e);var t=Nn(n);function n(e,r,i,a){var o;return jt(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=kf("p:rest:"),o.listens_={},o}return Ot(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=gp(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),bo(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=gp(e._queryParams),r=e._path.toString(),i=new lo;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=c(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Eo(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=mo(l.responseText)}catch(bg){wf("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&wf("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Ha(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(sh),_p=function(){function e(){jt(this,e),this.rootNode_=rp.EMPTY_NODE}return Ot(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function wp(){return{value:null,children:new Map}}function xp(e,t,n){if(kh(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=fh(t);e.children.has(r)||e.children.set(r,wp()),xp(e.children.get(r),t=ph(t),n)}}function Cp(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Cp(r,new ch(t.toString()+"/"+e),n)}))}var Ep,Sp=function(){function e(t){jt(this,e),this.collection_=t,this.last_=null}return Ot(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&jf(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Np=function(){function e(t,n){jt(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Sp(t);var r=1e4+2e4*Math.random();zf(this.reportStats_.bind(this),Math.floor(r))}return Ot(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;jf(t,(function(t,i){i>0&&ko(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),zf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Ip(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ep||(Ep={}));var Tp,Pp=function(){function e(t,n,r){jt(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Ep.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Ot(e,[{key:"operationForChild",value:function(t){if(kh(this.path)){if(null!=this.affectedTree.value)return Ha(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ch(t));return new e(dh(),n,this.revert)}return Ha(fh(this.path)===t,"operationForChild called for unrelated child."),new e(ph(this.path),this.affectedTree,this.revert)}}]),e}(),jp=function(){function e(t,n){jt(this,e),this.source=t,this.path=n,this.type=Ep.LISTEN_COMPLETE}return Ot(e,[{key:"operationForChild",value:function(t){return kh(this.path)?new e(this.source,dh()):new e(this.source,ph(this.path))}}]),e}(),Rp=function(){function e(t,n,r){jt(this,e),this.source=t,this.path=n,this.snap=r,this.type=Ep.OVERWRITE}return Ot(e,[{key:"operationForChild",value:function(t){return kh(this.path)?new e(this.source,dh(),this.snap.getImmediateChild(t)):new e(this.source,ph(this.path),this.snap)}}]),e}(),Op=function(){function e(t,n,r){jt(this,e),this.source=t,this.path=n,this.children=r,this.type=Ep.MERGE}return Ot(e,[{key:"operationForChild",value:function(t){if(kh(this.path)){var n=this.children.subtree(new ch(t));return n.isEmpty()?null:n.value?new Rp(this.source,dh(),n.value):new e(this.source,dh(),n)}return Ha(fh(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ph(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Lp=function(){function e(t,n,r){jt(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Ot(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(kh(e))return this.isFullyInitialized()&&!this.filtered_;var t=fh(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Dp=Ot((function e(t){jt(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function Ap(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Ba("Should only compare child_ events.");var r=new jh(t.childName,t.snapshotNode),i=new jh(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Mp(e,t){return{eventCache:e,serverCache:t}}function zp(e,t,n,r){return Mp(new Lp(t,n,r),e.serverCache)}function Fp(e,t,n,r){return Mp(e.eventCache,new Lp(t,n,r))}function Up(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Wp(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Vp=function(){return Tp||(Tp=new Fh(Nf)),Tp},qp=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vp();jt(this,e),this.value=t,this.children=n}return Ot(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:dh(),value:this.value};if(kh(e))return null;var n=fh(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ph(e),t);return null!=i?{path:gh(new ch(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(kh(t))return this;var n=fh(t),r=this.children.get(n);return null!==r?r.subtree(ph(t)):new e(null)}},{key:"set",value:function(t,n){if(kh(t))return new e(n,this.children);var r=fh(t),i=(this.children.get(r)||new e(null)).set(ph(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(kh(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=fh(t),r=this.children.get(n);if(r){var i,a=r.remove(ph(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(kh(e))return this.value;var t=fh(e),n=this.children.get(t);return n?n.get(ph(e)):null}},{key:"setTree",value:function(t,n){if(kh(t))return n;var r,i=fh(t),a=(this.children.get(i)||new e(null)).setTree(ph(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(dh(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(gh(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,dh(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(kh(e))return null;var i=fh(e),a=this.children.get(i);return a?a.findOnPath_(ph(e),gh(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,dh(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(kh(t))return this;this.value&&r(n,this.value);var i=fh(t),a=this.children.get(i);return a?a.foreachOnPath_(ph(t),gh(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(dh(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(gh(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return jf(t,(function(e,t){n=n.set(new ch(e),t)})),n}}]),e}(),Hp=function(){function e(t){jt(this,e),this.writeTree_=t}return Ot(e,null,[{key:"empty",value:function(){return new e(new qp(null))}}]),e}();function Bp(e,t,n){if(kh(t))return new Hp(new qp(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=bh(i,t);return a=a.updateChild(o,n),new Hp(e.writeTree_.set(i,a))}var s=new qp(n),u=e.writeTree_.setTree(t,s);return new Hp(u)}function Kp(e,t,n){var r=e;return jf(n,(function(e,n){r=Bp(r,gh(t,e),n)})),r}function $p(e,t){if(kh(t))return Hp.empty();var n=e.writeTree_.setTree(t,new qp(null));return new Hp(n)}function Gp(e,t){return null!=Qp(e,t)}function Qp(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(bh(n.path,t)):null}function Yp(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Jh,(function(e,n){t.push(new jh(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new jh(e,n.value))})),t}function Jp(e,t){if(kh(t))return e;var n=Qp(e,t);return new Hp(null!=n?new qp(n):e.writeTree_.subtree(t))}function Xp(e){return e.writeTree_.isEmpty()}function Zp(e,t){return ev(dh(),e.writeTree_,t)}function ev(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Ha(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=ev(gh(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(gh(e,".priority"),r)),n}function tv(e,t){return vv(t,e)}function nv(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function rv(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Ha(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&iv(s,r.path)?i=!1:xh(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=ov(e.allWrites,av,dh()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=$p(e.visibleWrites,r.path):jf(r.children,(function(t){e.visibleWrites=$p(e.visibleWrites,gh(r.path,t))}));return!0}return!1}function iv(e,t){if(e.snap)return xh(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&xh(gh(e.path,n),t))return!0;return!1}function av(e){return e.visible}function ov(e,t,n){for(var r=Hp.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)xh(n,o)?r=Bp(r,s=bh(n,o),a.snap):xh(o,n)&&(s=bh(o,n),r=Bp(r,dh(),a.snap.getChild(s)));else{if(!a.children)throw Ba("WriteRecord should have .snap or .children");if(xh(n,o))r=Kp(r,s=bh(n,o),a.children);else if(xh(o,n))if(kh(s=bh(o,n)))r=Kp(r,dh(),a.children);else{var u=bo(a.children,fh(s));if(u){var l=u.getChild(ph(s));r=Bp(r,dh(),l)}}}}}return r}function sv(e,t,n,r,i){if(r||i){var a=Jp(e.visibleWrites,t);if(!i&&Xp(a))return n;if(i||null!=n||Gp(a,dh())){return Zp(ov(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(xh(e.path,t)||xh(t,e.path))}),t),n||rp.EMPTY_NODE)}return null}var o=Qp(e.visibleWrites,t);if(null!=o)return o;var s=Jp(e.visibleWrites,t);return Xp(s)?n:null!=n||Gp(s,dh())?Zp(s,n||rp.EMPTY_NODE):null}function uv(e,t,n,r){return sv(e.writeTree,e.treePath,t,n,r)}function lv(e,t){return function(e,t,n){var r=rp.EMPTY_NODE,i=Qp(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Jh,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Jp(e.visibleWrites,t);return n.forEachChild(Jh,(function(e,t){var n=Zp(Jp(a,new ch(e)),t);r=r.updateImmediateChild(e,n)})),Yp(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Yp(Jp(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function cv(e,t,n,r){return function(e,t,n,r,i){Ha(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=gh(t,n);if(Gp(e.visibleWrites,a))return null;var o=Jp(e.visibleWrites,a);return Xp(o)?i.getChild(n):Zp(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function dv(e,t){return function(e,t){return Qp(e.visibleWrites,t)}(e.writeTree,gh(e.treePath,t))}function fv(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=Jp(e.visibleWrites,t),l=Qp(u,dh());if(null!=l)s=l;else{if(null==n)return[];s=Zp(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],d=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),h=f.getNext();h&&c.length<i;)0!==d(h,r)&&c.push(h),h=f.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function hv(e,t,n){return function(e,t,n,r){var i=gh(t,n),a=Qp(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Zp(Jp(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function pv(e,t){return vv(gh(e.treePath,t),e.writeTree)}function vv(e,t){return{treePath:e,writeTree:t}}var mv=function(){function e(){jt(this,e),this.changeMap=new Map}return Ot(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Ha("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ha(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,hp(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,fp(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,dp(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ba("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,hp(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),yv=new(function(){function e(){jt(this,e)}return Ot(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),gv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;jt(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Ot(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Lp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hv(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Wp(this.viewCache_),i=fv(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function kv(e,t,n,r,i){var a,o,s=new mv;if(n.type===Ep.OVERWRITE){var u=n;u.source.fromUser?a=wv(e,t,u.path,u.snap,r,i,s):(Ha(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!kh(u.path),a=_v(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Ep.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var l=gh(n,r);xv(t,fh(l))&&(s=wv(e,s,l,u,i,a,o))})),r.foreach((function(r,u){var l=gh(n,r);xv(t,fh(l))||(s=wv(e,s,l,u,i,a,o))})),s}(e,t,l.path,l.children,r,i,s):(Ha(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=Ev(e,t,l.path,l.children,r,i,o,s))}else if(n.type===Ep.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=dv(r,n))return t;var s,u=new gv(r,t,i),l=t.eventCache.getNode();if(kh(n)||".priority"===fh(n)){var c;if(t.serverCache.isFullyInitialized())c=uv(r,Wp(t));else{var d=t.serverCache.getNode();Ha(d instanceof rp,"serverChildren would be complete if leaf node"),c=lv(r,d)}s=e.filter.updateFullNode(l,c,a)}else{var f=fh(n),h=hv(r,f,t.serverCache);null==h&&t.serverCache.isCompleteForChild(f)&&(h=l.getImmediateChild(f)),(s=null!=h?e.filter.updateChild(l,f,h,ph(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(l,f,rp.EMPTY_NODE,ph(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=uv(r,Wp(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=dv(r,dh()),zp(t,s,o,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=dv(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(kh(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return _v(e,t,n,u.getNode().getChild(n),i,a,s,o);if(kh(n)){var l=new qp(null);return u.getNode().forEachChild(Lh,(function(e,t){l=l.set(new ch(e),t)})),Ev(e,t,n,l,i,a,s,o)}return t}var c=new qp(null);return r.foreach((function(e,t){var r=gh(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Ev(e,t,n,c,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Ep.LISTEN_COMPLETE)throw Ba("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Fp(t,a.getNode(),a.isFullyInitialized()||kh(n),a.isFiltered());return bv(e,o,n,r,yv,i)}(e,t,n.path,r,s)}var d=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Up(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(cp(Up(t)))}}(t,a,d),{viewCache:a,changes:d}}function bv(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=dv(r,n))return t;if(kh(n))if(Ha(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Wp(t),c=lv(r,l instanceof rp?l:rp.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var d=uv(r,Wp(t));o=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var f=fh(n);if(".priority"===f){Ha(1===hh(n),"Can't have a priority with additional path components");var h=u.getNode(),p=cv(r,n,h,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(h,p):u.getNode()}else{var v,m=ph(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var y=cv(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(f).updateChild(m,y):u.getNode().getImmediateChild(f)}else v=hv(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,m,i,a):u.getNode()}}return zp(t,o,u.isFullyInitialized()||kh(n),e.filter.filtersNodes())}function _v(e,t,n,r,i,a,o,s){var u,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(kh(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var d=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),d,null)}else{var f=fh(n);if(!l.isCompleteForPath(n)&&hh(n)>1)return t;var h=ph(n),p=l.getNode().getImmediateChild(f).updateChild(h,r);u=".priority"===f?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),f,p,h,yv,null)}var v=Fp(t,u,l.isFullyInitialized()||kh(n),c.filtersNodes());return bv(e,v,n,i,new gv(i,v,a),s)}function wv(e,t,n,r,i,a,o){var s,u,l=t.eventCache,c=new gv(i,t,a);if(kh(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=zp(t,u,!0,e.filter.filtersNodes());else{var d=fh(n);if(".priority"===d)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=zp(t,u,l.isFullyInitialized(),l.isFiltered());else{var f,h=ph(n),p=l.getNode().getImmediateChild(d);if(kh(h))f=r;else{var v=c.getCompleteChild(d);f=null!=v?".priority"===vh(h)&&v.getChild(yh(h)).isEmpty()?v:v.updateChild(h,r):rp.EMPTY_NODE}if(p.equals(f))s=t;else s=zp(t,e.filter.updateChild(l.getNode(),d,f,h,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function xv(e,t){return e.eventCache.isCompleteForChild(t)}function Cv(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Ev(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=kh(n)?r:new qp(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=Cv(0,t.serverCache.getNode().getImmediateChild(n),r);l=_v(e,l,new ch(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!u){var d=Cv(0,t.serverCache.getNode().getImmediateChild(n),r);l=_v(e,l,new ch(n),d,i,a,o,s)}})),l}var Sv,Nv=function(){function e(t,n){jt(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new pp(i.getIndex()),o=(r=i).loadsAllData()?new pp(r.getIndex()):r.hasLimit()?new mp(r):new vp(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,l=a.updateFullNode(rp.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(rp.EMPTY_NODE,u.getNode(),null),d=new Lp(l,s.isFullyInitialized(),a.filtersNodes()),f=new Lp(c,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Mp(f,d),this.eventGenerator_=new Dp(this.query_)}return Ot(e,[{key:"query",get:function(){return this.query_}}]),e}();function Iv(e,t){var n=Wp(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!kh(t)&&!n.getImmediateChild(fh(t)).isEmpty())?n.getChild(t):null}function Tv(e){return 0===e.eventRegistrations_.length}function Pv(e,t,n){var r=[];if(n){Ha(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function jv(e,t,n,r){t.type===Ep.MERGE&&null!==t.source.queryId&&(Ha(Wp(e.viewCache_),"We should always have a full cache before handling merges"),Ha(Up(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=kv(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,Ha(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Ha(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Ha(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Rv(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Rv(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Ap(e,i,"child_removed",t,r,n),Ap(e,i,"child_added",t,r,n),Ap(e,i,"child_moved",a,r,n),Ap(e,i,"child_changed",t,r,n),Ap(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Ov,Lv=Ot((function e(){jt(this,e),this.views=new Map}));function Dv(e){return 0===e.views.size}function Av(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Ha(null!=a,"SyncTree gave us an op for an invalid query."),jv(a,t,n,r)}var o,s=[],u=Ua(e.views.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s=s.concat(jv(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function Mv(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=uv(n,i?r:null),u=!1;s?u=!0:r instanceof rp?(s=lv(n,r),u=!1):(s=rp.EMPTY_NODE,u=!1);var l=Mp(new Lp(s,u,!1),new Lp(r,i,!1));return new Nv(t,l)}return o}function zv(e,t,n,r,i,a){var o=Mv(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Jh,(function(e,t){r.push(dp(e,t))})),n.isFullyInitialized()&&r.push(cp(n.getNode())),Rv(e,r,n.getNode(),t)}(o,n)}function Fv(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=Hv(e);if("default"===i){var u,l=Ua(e.views.entries());try{for(l.s();!(u=l.n()).done;){var d=c(u.value,2),f=d[0],h=d[1];o=o.concat(Pv(h,n,r)),Tv(h)&&(e.views.delete(f),h.query._queryParams.loadsAllData()||a.push(h.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(o=o.concat(Pv(p,n,r)),Tv(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!Hv(e)&&a.push(new(Ha(Sv,"Reference.ts has not been loaded"),Sv)(t._repo,t._path)),{removed:a,events:o}}function Uv(e){var t,n=[],r=Ua(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function Wv(e,t){var n,r=null,i=Ua(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Iv(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function Vv(e,t){if(t._queryParams.loadsAllData())return Bv(e);var n=t._queryIdentifier;return e.views.get(n)}function qv(e,t){return null!=Vv(e,t)}function Hv(e){return null!=Bv(e)}function Bv(e){var t,n=Ua(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var Kv=1,$v=Ot((function e(t){jt(this,e),this.listenProvider_=t,this.syncPointTree_=new qp(null),this.pendingWriteTree_={visibleWrites:Hp.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Gv(e,t,n,r,i){return function(e,t,n,r,i){Ha(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Bp(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?nm(e,new Rp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Qv(e,t,n,r){!function(e,t,n,r){Ha(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Kp(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=qp.fromObject(n);return nm(e,new Op({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Yv(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=nv(e.pendingWriteTree_,t),i=rv(e.pendingWriteTree_,t);if(i){var a=new qp(null);return null!=r.snap?a=a.set(dh(),!0):jf(r.children,(function(e){a=a.set(new ch(e),!0)})),nm(e,new Pp(r.path,a,n))}return[]}function Jv(e,t,n){return nm(e,new Rp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Xv(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||qv(o,t))){var u=Fv(o,t,n,r);Dv(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=u.removed;if(s=u.events,!i){var c=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),d=e.syncPointTree_.findOnPath(a,(function(e,t){return Hv(t)}));if(c&&!d){var f=e.syncPointTree_.subtree(a);if(!f.isEmpty())for(var h=dm(f),p=0;p<h.length;++p){var v=h[p],m=v.query,y=am(e,v);e.listenProvider_.startListening(fm(m),om(e,m),y.hashFn,y.onComplete)}}if(!d&&l.length>0&&!r)if(c){var g=null;e.listenProvider_.stopListening(fm(t),g)}else l.forEach((function(t){var n=e.queryToTagMap.get(sm(t));e.listenProvider_.stopListening(fm(t),n)}))}hm(e,l)}return s}function Zv(e,t,n,r){var i=um(e,r);if(null!=i){var a=lm(i),o=a.path,s=a.queryId,u=bh(o,t);return cm(e,o,new Rp(Ip(s),u,n))}return[]}function em(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=bh(e,i);a=a||Wv(t,n),o=o||Hv(t)}));var s,u=e.syncPointTree_.get(i);if(u?(o=o||Hv(u),a=a||Wv(u,dh())):(u=new Lv,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)s=!0;else{s=!1,a=rp.EMPTY_NODE;var l=e.syncPointTree_.subtree(i);l.foreachChild((function(e,t){var n=Wv(t,dh());n&&(a=a.updateImmediateChild(e,n))}))}var c=qv(u,t);if(!c&&!t._queryParams.loadsAllData()){var d=sm(t);Ha(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");var f=pm();e.queryToTagMap.set(d,f),e.tagToQueryMap.set(f,d)}var h=tv(e.pendingWriteTree_,i),p=zv(u,t,n,h,a,s);if(!c&&!o&&!r){var v=Vv(u,t);p=p.concat(vm(e,t,v))}return p}function tm(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Wv(n,bh(e,t));if(r)return r}));return sv(r,t,i,n,!0)}function nm(e,t){return rm(t,e.syncPointTree_,null,tv(e.pendingWriteTree_,dh()))}function rm(e,t,n,r){if(kh(e.path))return im(e,t,n,r);var i=t.get(dh());null==n&&null!=i&&(n=Wv(i,dh()));var a=[],o=fh(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var l=n?n.getImmediateChild(o):null,c=pv(r,o);a=a.concat(rm(s,u,l,c))}return i&&(a=a.concat(Av(i,e,r,n))),a}function im(e,t,n,r){var i=t.get(dh());null==n&&null!=i&&(n=Wv(i,dh()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=pv(r,t),u=e.operationForChild(t);u&&(a=a.concat(im(u,i,o,s)))})),i&&(a=a.concat(Av(i,e,r,n))),a}function am(e,t){var n=t.query,r=om(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||rp.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=um(e,n);if(r){var i=lm(r),a=i.path,o=i.queryId,s=bh(a,t);return cm(e,a,new jp(Ip(o),s))}return[]}(e,n._path,r):function(e,t){return nm(e,new jp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Xv(e,n,null,i)}}}function om(e,t){var n=sm(t);return e.queryToTagMap.get(n)}function sm(e){return e._path.toString()+"$"+e._queryIdentifier}function um(e,t){return e.tagToQueryMap.get(t)}function lm(e){var t=e.indexOf("$");return Ha(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ch(e.substr(0,t))}}function cm(e,t,n){var r=e.syncPointTree_.get(t);return Ha(r,"Missing sync point for query tag that we're tracking"),Av(r,n,tv(e.pendingWriteTree_,t),null)}function dm(e){return e.fold((function(e,t,n){if(t&&Hv(t))return[Bv(t)];var r=[];return t&&(r=Uv(t)),jf(n,(function(e,t){r=r.concat(t)})),r}))}function fm(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Ha(Ov,"Reference.ts has not been loaded"),Ov)(e._repo,e._path):e}function hm(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=sm(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function pm(){return Kv++}function vm(e,t,n){var r=t._path,i=om(e,t),a=am(e,n),o=e.listenProvider_.startListening(fm(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)Ha(!Hv(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!kh(e)&&t&&Hv(t))return[Bv(t).query];var r=[];return t&&(r=r.concat(Uv(t).map((function(e){return e.query})))),jf(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var c=u[l];e.listenProvider_.stopListening(fm(c),om(e,c))}return o}var mm=function(){function e(t){jt(this,e),this.node_=t}return Ot(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),ym=function(){function e(t,n){jt(this,e),this.syncTree_=t,this.path_=n}return Ot(e,[{key:"getImmediateChild",value:function(t){var n=gh(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return tm(this.syncTree_,this.path_)}}]),e}(),gm=function(e,t,n){return e&&"object"===typeof e?(Ha(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?km(e[".sv"],t,n):"object"===typeof e[".sv"]?bm(e[".sv"],t):void Ha(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},km=function(e,t,n){if("timestamp"===e)return n.timestamp;Ha(!1,"Unexpected server value: "+e)},bm=function(e,t,n){e.hasOwnProperty("increment")||Ha(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Ha(!1,"Unexpected increment value: "+r);var i=t.node();if(Ha(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},_m=function(e,t,n,r){return xm(t,new ym(n,e),r)},wm=function(e,t,n){return xm(e,new mm(t),n)};function xm(e,t,n){var r,i=e.getPriority().val(),a=gm(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=gm(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new $h(s,ap(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new $h(a))),u.forEachChild(Jh,(function(e,i){var a=xm(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Cm=Ot((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};jt(this,e),this.name=t,this.parent=n,this.node=r}));function Em(e,t){for(var n=t instanceof ch?t:new ch(t),r=e,i=fh(n);null!==i;){var a=bo(r.node.children,i)||{children:{},childCount:0};r=new Cm(i,r,a),i=fh(n=ph(n))}return r}function Sm(e){return e.node.value}function Nm(e,t){e.node.value=t,Rm(e)}function Im(e){return e.node.childCount>0}function Tm(e,t){jf(e.node.children,(function(n,r){t(new Cm(n,e,r))}))}function Pm(e,t,n,r){n&&!r&&t(e),Tm(e,(function(e){Pm(e,t,!0,r)})),n&&r&&t(e)}function jm(e){return new ch(null===e.parent?e.name:jm(e.parent)+"/"+e.name)}function Rm(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Sm(e)&&!Im(e)}(n),i=ko(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Rm(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Rm(e))}(e.parent,e.name,e)}var Om=/[\[\].#$\/\u0000-\u001F\u007F]/,Lm=/[\[\].#$\u0000-\u001F\u007F]/,Dm=10485760,Am=function(e){return"string"===typeof e&&0!==e.length&&!Om.test(e)},Mm=function(e){return"string"===typeof e&&0!==e.length&&!Lm.test(e)},zm=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!xf(e)||e&&"object"===typeof e&&ko(e,".sv")},Fm=function(e,t,n,r){r&&void 0===t||Um(jo(e,"value"),t,n)},Um=function e(t,n,r){var i=r instanceof ch?new Ch(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Sh(i));if("function"===typeof n)throw new Error(t+"contains a function "+Sh(i)+" with contents = "+n.toString());if(xf(n))throw new Error(t+"contains "+n.toString()+" "+Sh(i));if("string"===typeof n&&n.length>Dm/3&&Ro(n)>Dm)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Sh(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(jf(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Am(n)))throw new Error(t+" contains an invalid key ("+n+") "+Sh(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=Ro(u),Eh(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Ro(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Sh(i)+" in addition to actual children.")}},Wm=function(e,t,n,r){if(!r||void 0!==t){var i=jo(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];jf(t,(function(e,t){var r=new ch(e);if(Um(i,t,gh(n,r)),".priority"===vh(r)&&!zm(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=mh(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!Am(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(_h);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&xh(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},Vm=function(e,t,n,r){if((!r||void 0!==n)&&!Mm(n))throw new Error(jo(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},qm=function(e,t){if(".info"===fh(t))throw new Error(e+" failed = Can't modify data under /.info/")},Hm=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Am(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Mm(e)}(n))throw new Error(jo(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Bm=Ot((function e(){jt(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Km(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||wh(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function $m(e,t,n){Km(e,n),Qm(e,(function(e){return wh(e,t)}))}function Gm(e,t,n){Km(e,n),Qm(e,(function(e){return xh(e,t)||xh(t,e)}))}function Qm(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Ym(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Ym(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();vf&&gf("event: "+n.toString()),Mf(r)}}}var Jm="repo_interrupt",Xm=function(){function e(t,n,r,i){jt(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Bm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wp(),this.transactionQueueTree_=new Cm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Ot(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Zm(e,t,n){if(e.stats_=Jf(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new bp(e.repoInfo_,(function(t,n,r,i){ny(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return ry(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{yo(n)}catch(bg){throw new Error("Invalid authOverride provided: "+bg)}}e.persistentConnection_=new Th(e.repoInfo_,t,(function(t,n,r,i){ny(e,t,n,r,i)}),(function(t){ry(e,t)}),(function(t){!function(e,t){jf(t,(function(t,n){iy(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Yf[n]||(Yf[n]=t()),Yf[n]}(e.repoInfo_,(function(){return new Np(e.stats_,e.server_)})),e.infoData_=new _p,e.infoSyncTree_=new $v({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Jv(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),iy(e,"connected",!1),e.serverSyncTree_=new $v({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Gm(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ey(e){var t=e.infoData_.getNode(new ch(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ty(e){return(t=(t={timestamp:ey(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ny(e,t,n,r,i){e.dataUpdateCount++;var a=new ch(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=wo(n,(function(e){return ap(e)}));o=function(e,t,n,r){var i=um(e,r);if(i){var a=lm(i),o=a.path,s=a.queryId,u=bh(o,t),l=qp.fromObject(n);return cm(e,o,new Op(Ip(s),u,l))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=ap(n);o=Zv(e.serverSyncTree_,a,u,i)}else if(r){var l=wo(n,(function(e){return ap(e)}));o=function(e,t,n){var r=qp.fromObject(n);return nm(e,new Op({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=ap(n);o=Jv(e.serverSyncTree_,a,c)}var d=a;o.length>0&&(d=py(e,a)),Gm(e.eventQueue_,d,o)}function ry(e,t){iy(e,"connected",t),!1===t&&function(e){ly(e,"onDisconnectEvents");var t=ty(e),n=wp();Cp(e.onDisconnect_,dh(),(function(r,i){var a=_m(r,i,e.serverSyncTree_,t);xp(n,r,a)}));var r=[];Cp(n,dh(),(function(t,n){r=r.concat(Jv(e.serverSyncTree_,t,n));var i=ky(e,t);py(e,i)})),e.onDisconnect_=wp(),Gm(e.eventQueue_,dh(),r)}(e)}function iy(e,t,n){var r=new ch("/.info/"+t),i=ap(n);e.infoData_.updateSnapshot(r,i);var a=Jv(e.infoSyncTree_,r,i);Gm(e.eventQueue_,r,a)}function ay(e){return e.nextWriteId_++}function oy(e,t,n,r,i){ly(e,"set",{path:t.toString(),value:n,priority:r});var a=ty(e),o=ap(n,r),s=tm(e.serverSyncTree_,t),u=wm(o,s,a),l=ay(e),c=Gv(e.serverSyncTree_,t,u,l,!0);Km(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||wf("set at "+t+" failed: "+n);var o=Yv(e.serverSyncTree_,l,!a);Gm(e.eventQueue_,t,o),cy(e,i,n,r)}));var d=ky(e,t);py(e,d),Gm(e.eventQueue_,d,[])}function sy(e,t,n){var r;r=".info"===fh(t._path)?Xv(e.infoSyncTree_,t,n):Xv(e.serverSyncTree_,t,n),$m(e.eventQueue_,t._path,r)}function uy(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Jm)}function ly(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];gf.apply(void 0,[t].concat(r))}function cy(e,t,n,r){t&&Mf((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function dy(e,t,n){return tm(e.serverSyncTree_,t,n)||rp.EMPTY_NODE}function fy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||gy(e,t),Sm(t)){var n=my(e,t);Ha(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&hy(e,jm(t),n)}else Im(t)&&Tm(t,(function(t){fy(e,t)}))}function hy(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=dy(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];Ha(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=bh(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var c=a.val(!0),d=t;e.server_.put(d.toString(),c,(function(r){ly(e,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Yv(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);gy(e,Em(e.transactionQueueTree_,t)),fy(e,e.transactionQueueTree_),Gm(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Mf(a[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{wf("transaction at "+d.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}py(e,t)}}),o)}function py(e,t){var n=vy(e,t),r=jm(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),o=function(o){var s,u=t[o],l=bh(n,u.path),c=!1,d=void 0;if(Ha(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)c=!0,d=u.abortReason,i=i.concat(Yv(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)c=!0,d="maxretry",i=i.concat(Yv(e.serverSyncTree_,u.currentWriteId,!0));else{var f=dy(e,u.path,a);u.currentInputSnapshot=f;var h=t[o].update(f.val());if(void 0!==h){Um("transaction failed: Data returned ",h,u.path);var p=ap(h);"object"===typeof h&&null!=h&&ko(h,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,m=ty(e),y=wm(p,f,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=ay(e),a.splice(a.indexOf(v),1),i=(i=i.concat(Gv(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(Yv(e.serverSyncTree_,v,!0))}else c=!0,d="nodata",i=i.concat(Yv(e.serverSyncTree_,u.currentWriteId,!0))}Gm(e.eventQueue_,n,i),i=[],c&&(t[o].status=2,s=t[o].unwatcher,setTimeout(s,Math.floor(0)),t[o].onComplete&&("nodata"===d?r.push((function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)})):r.push((function(){return t[o].onComplete(new Error(d),!1,null)}))))},s=0;s<t.length;s++)o(s);gy(e,e.transactionQueueTree_);for(var u=0;u<r.length;u++)Mf(r[u]);fy(e,e.transactionQueueTree_)}(e,my(e,n),r),r}function vy(e,t){var n,r=e.transactionQueueTree_;for(n=fh(t);null!==n&&void 0===Sm(r);)r=Em(r,n),n=fh(t=ph(t));return r}function my(e,t){var n=[];return yy(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function yy(e,t,n){var r=Sm(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Tm(t,(function(t){yy(e,t,n)}))}function gy(e,t){var n=Sm(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Nm(t,n.length>0?n:void 0)}Tm(t,(function(t){gy(e,t)}))}function ky(e,t){var n=jm(vy(e,t)),r=Em(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){by(e,t)})),by(e,r),Pm(r,(function(t){by(e,t)})),n}function by(e,t){var n=Sm(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Ha(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Ha(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Yv(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Nm(t,void 0):n.length=a+1,Gm(e.eventQueue_,jm(t),i);for(var s=0;s<r.length;s++)Mf(r[s])}}var _y=function(e,t){var n=wy(e),r=n.namespace;"firebase.com"===n.domain&&_f(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||_f("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&wf("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Kf(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ch(n.pathString)}},wy=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(bg){}t+="/"+i}return t}(e.substring(c,d)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Ua(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):wf("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,d)));(l=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var h=t.slice(0,l);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},xy=function(){function e(t,n,r,i){jt(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return Ot(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+yo(this.snapshot.exportVal())}}]),e}(),Cy=function(){function e(t,n,r){jt(this,e),this.eventRegistration=t,this.error=n,this.path=r}return Ot(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),Ey=function(){function e(t,n){jt(this,e),this.snapshotCallback=t,this.cancelCallback=n}return Ot(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Ha(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),Sy=function(){function e(t,n,r,i){jt(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Ot(e,[{key:"key",get:function(){return kh(this._path)?null:vh(this._path)}},{key:"ref",get:function(){return new Ny(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=kp(this._queryParams),t=Tf(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return kp(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Oo(t))instanceof e))return!1;var n=this._repo===t._repo,r=wh(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var Ny=function(e){wn(n,e);var t=Nn(n);function n(e,r){return jt(this,n),t.call(this,e,r,new yp,!1)}return Ot(n,[{key:"parent",get:function(){var e=yh(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Sy),Iy=function(){function e(t,n,r){jt(this,e),this._node=t,this.ref=n,this._index=r}return Ot(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new ch(t),r=Py(this.ref,t);return new e(this._node.getChild(n),r,Jh)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Py(n.ref,r),Jh))}))}},{key:"hasChild",value:function(e){var t=new ch(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function Ty(e,t){return(e=Oo(e))._checkNotDeleted("ref"),void 0!==t?Py(e._root,t):e._root}function Py(e,t){var n,r,i,a;return null===fh((e=Oo(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Vm(n,r,i,a)):Vm("child","path",t,!1),new Ny(e._repo,gh(e._path,t))}function jy(e){return qm("remove",e._path),Ry(e,null)}function Ry(e,t){e=Oo(e),qm("set",e._path),Fm("set",t,e._path,!1);var n=new lo;return oy(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Oy(e,t){Wm("update",t,e._path,!1);var n=new lo;return function(e,t,n,r){ly(e,"update",{path:t.toString(),value:n});var i=!0,a=ty(e),o={};if(jf(n,(function(n,r){i=!1,o[n]=_m(gh(t,n),ap(r),e.serverSyncTree_,a)})),i)gf("update() called with empty data.  Don't do anything."),cy(0,r,"ok",void 0);else{var s=ay(e),u=Qv(e.serverSyncTree_,t,o,s);Km(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||wf("update at "+t+" failed: "+n);var o=Yv(e.serverSyncTree_,s,!a),u=o.length>0?py(e,t):t;Gm(e.eventQueue_,u,o),cy(0,r,n,i)})),jf(n,(function(n){var r=ky(e,gh(t,n));py(e,r)})),Gm(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}var Ly=function(){function e(t){jt(this,e),this.callbackContext=t}return Ot(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new xy("value",this,new Iy(e.snapshotNode,new Ny(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Cy(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),Dy=function(){function e(t,n){jt(this,e),this.eventType=t,this.callbackContext=n}return Ot(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Cy(this,e,t):null}},{key:"createEvent",value:function(e,t){Ha(null!=e.childName,"Child events should have a childName.");var n=Py(new Ny(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new xy(e.type,this,new Iy(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function Ay(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){sy(e._repo,e,l),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Ey(n,a||void 0),l="value"===t?new Ly(u):new Dy(t,u);return function(e,t,n){var r;r=".info"===fh(t._path)?em(e.infoSyncTree_,t,n):em(e.serverSyncTree_,t,n),$m(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return sy(e._repo,e,l)}}function My(e,t,n,r){return Ay(e,"value",t,n,r)}!function(e){Ha(!Sv,"__referenceConstructor has already been defined"),Sv=e}(Ny),function(e){Ha(!Ov,"__referenceConstructor has already been defined"),Ov=e}(Ny);var zy={},Fy=!1;function Uy(e,t,n,r){e.repoInfo_=new Kf("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function Wy(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||_f("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gf("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=_y(a,i),u=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),l?(o=!0,a="http://".concat(l,"?ns=").concat(u.namespace),u=(s=_y(a,i)).repoInfo):o=!s.repoInfo.secure;var c=i&&o?new Wf(Wf.OWNER):new Uf(e.name,e.options,t);Hm("Invalid Firebase Database URL",s),kh(s.path)||_f("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(e,t,n,r){var i=zy[t.name];i||(i={},zy[t.name]=i);var a=i[e.toURLString()];a&&_f("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Xm(e,Fy,n,r),i[e.toURLString()]=a,a}(u,e,c,new Ff(e.name,n));return new Vy(d,e)}var Vy=function(){function e(t,n){jt(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Ot(e,[{key:"_repo",get:function(){return this._instanceStarted||(Zm(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Ny(this._repo,dh())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=zy[t];n&&n[e.key]===e||_f("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),uy(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&_f("Cannot call "+e+" on a deleted database.")}}]),e}();function qy(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Oo(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&_f("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&_f('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Wf(Wf.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:co(r.mockUserToken,e.app.options.projectId);a=new Wf(o)}Uy(i,t,n,a)}Th.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Th.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){af=e}(Cs),ks(new Lo("database",(function(e,t){var n=t.instanceIdentifier;return Wy(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Ns(nf,rf,e),Ns(nf,rf,"esm2017")}();var Hy=function(){return Hy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Hy.apply(this,arguments)},By=function(e){return{loading:void 0===e||null===e,value:e}},Ky=function(t){var n=t?t():void 0,r=(0,e.useReducer)((function(e,t){switch(t.type){case"error":return Hy(Hy({},e),{error:t.error,loading:!1,value:void 0});case"reset":return By(t.defaultValue);case"value":return Hy(Hy({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),By(n)),i=r[0],a=r[1],o=(0,e.useCallback)((function(){var e=t?t():void 0;a({type:"reset",defaultValue:e})}),[t]),s=(0,e.useCallback)((function(e){a({type:"error",error:e})}),[]),u=(0,e.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,e.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:s,setValue:u,value:i.value}}),[i.error,i.loading,o,s,u,i.value])},$y=function(e,t){var n=!e&&!t,r=!!e&&!!t&&e.isEqual(t);return n||r},Gy=function(t,n){return function(t,n,r){var i=(0,e.useRef)(t);return(0,e.useEffect)((function(){n(t,i.current)||(i.current=t,r&&r())})),i}(t,$y,n)};var Qy=function(t){var n=Ky(),r=n.error,i=n.loading,a=n.reset,o=n.setError,s=n.setValue,u=n.value,l=Gy(t,a);return(0,e.useEffect)((function(){var e=l.current;if(e)return My(e,s,o),function(){!function(e,t,n){var r=null,i=n?new Ey(n):null;"value"===t?r=new Ly(i):t&&(r=new Dy(t,i)),sy(e._repo,e,r)}(e,"value",s)};s(void 0)}),[l.current]),[u,i,r]};function Yy(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(bg){a(bg)}}function s(e){try{u(r.throw(e))}catch(bg){a(bg)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function Jy(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(bg){a=[6,bg],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var Xy=function(){return Xy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xy.apply(this,arguments)},Zy=function(e){return{loading:void 0===e||null===e,value:e}},eg=function(t){var n=t?t():void 0,r=(0,e.useReducer)((function(e,t){switch(t.type){case"error":return Xy(Xy({},e),{error:t.error,loading:!1,value:void 0});case"reset":return Zy(t.defaultValue);case"value":return Xy(Xy({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),Zy(n)),i=r[0],a=r[1],o=(0,e.useCallback)((function(){var e=t?t():void 0;a({type:"reset",defaultValue:e})}),[t]),s=(0,e.useCallback)((function(e){a({type:"error",error:e})}),[]),u=(0,e.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,e.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:s,setValue:u,value:i.value}}),[i.error,i.loading,o,s,u,i.value])},tg=function(t,n){var r=eg((function(){return t.currentUser})),i=r.error,a=r.loading,o=r.setError,s=r.setValue,u=r.value;return(0,e.useEffect)((function(){var e=function(e,t,n,r){return Oo(e).onAuthStateChanged(t,n,r)}(t,(function(e){return Yy(void 0,void 0,void 0,(function(){var t;return Jy(this,(function(r){switch(r.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),o(t),[3,4];case 4:return s(e),[2]}}))}))}),o);return function(){e()}}),[t]),[u,a,i]},ng=function(){function e(t){jt(this,e),this.db=void 0,this.dbRef=void 0,this.db=t,this.dbRef=Ty(t)}return Ot(e,[{key:"getStudentRef",value:function(e){return Ty(this.db,"data/students/".concat(e))}},{key:"getStudentPath",value:function(e){return"data/students/".concat(e)}},{key:"writeNewScore",value:function(e,t,n,r){var i={adv:n,bas:t,sub:e},a={};return a[this.getStudentPath(r)+"/Scores/"+e]=i,Oy(this.dbRef,a)}},{key:"writeNewPreference",value:function(e,t,n,r,i){var a={coll:t,cour:n,pos:r},o={};return o[this.getStudentPath(i)+"/Preferences/"+e]=a,Oy(this.dbRef,o)}},{key:"updatePrefPos",value:function(e,t,n,r){Ry(Ty(e,"".concat(this.getStudentPath(r),"/Preferences/").concat(t,"/pos")),n)}},{key:"updateCollegeName",value:function(e,t){Ry(Ty(this.db,"data/colleges/".concat(e,"/name")),t)}},{key:"updateCollegeCourse",value:function(e,t){var n=this,r=new Map;e.multipliers&&e.multipliers.forEach((function(e){r.set(e.id,{adv:e.advanced,bas:e.basic})}));var i={name:e.name,desc:e.desc||"",capacity:e.capacity||0,enrolled:e.enrolled||0};Ry(Ty(this.db,"data/colleges/".concat(t,"/Courses/").concat(e.id)),i).then((function(){var r={};e.multipliers&&e.multipliers.forEach((function(n){r["data/colleges/".concat(t,"/Courses/").concat(e.id,"/Multipliers/").concat(n.id)]={adv:n.advanced,bas:n.basic}})),Oy(n.dbRef,r).then((function(){return window.alert("Success! Course updated.")})).catch((function(e){return console.error(e)}))}))}},{key:"deleteScore",value:function(e,t){var n="data/students/".concat(t,"/Scores/").concat(e);jy(Ty(this.db,n)).catch((function(n){console.error("dao.deleteScore(".concat(e,", ").concat(t,")"),n.messege)}))}},{key:"deleteMult",value:function(e,t,n){var r="data/colleges/".concat(n,"/Courses/").concat(e,"/Multipliers/").concat(t);jy(Ty(this.db,r)).catch((function(r){console.error("dao.deleteMult(".concat(e,", ").concat(t,", ").concat(n,")"),r.messege)}))}}],[{key:"transformModerators",value:function(e){var t=[];return e&&e.forEach((function(e){t.push(e.val())})),console.log(t),t}},{key:"transformScores",value:function(e,t){var n=[];if(e&&e.Scores){var r=e.Scores;Object.keys(r).forEach((function(e){n.push({id:r[e].sub,basic:r[e].bas,advanced:r[e].adv,name:t.find((function(t){return t.id===r[e].sub})).name||""})}))}return n}},{key:"transformSubjects",value:function(e){var t=[];return e&&e.forEach((function(e){var n={id:e.key,name:e.val()};t.push(n)})),t}},{key:"extractCourseData",value:function(e,t,n){var r=[],i=e.Multipliers;i&&Object.keys(i).forEach((function(e){var n=t.find((function(t){return t.id===e})).name;r.push({id:e,name:n,basic:i[e].bas,advanced:i[e].adv})}));var a=new Map,o=e.candidates;return o&&Object.keys(o).forEach((function(e){a.set(e,o[e])})),{id:n,name:e.name,capacity:e.capacity,enrolled:e.enrolled,desc:e.desc,multipliers:r,candidates:a}}},{key:"transformCourses",value:function(e,t,n){var r=this,i=[];return e&&e.forEach((function(e){if(e.key===t){var a=e.val().Courses;Object.keys(a).forEach((function(e){var t=r.extractCourseData(a[e],n,e);i.push(t)}))}})),i}},{key:"transformResults",value:function(e,t,n){var r={status:Ta.NotReady};if(e&&!0===e.val().ready)if(n===Pa.Student)try{var i=e.val().students;Object.keys(i).includes(t)?(r.courseId=i[t].cour,r.universityId=i[t].coll,r.status=Ta.Success):r.status=Ta.Fail}catch(u){console.warn("Caught exception on transformResults().student")}else if(n===Pa.College)try{var a=e.val().colleges;if(console.log(a["coll-01"].courses),Object.keys(a).includes(t)&&a[t].courses){var o=a[t].courses,s=[];o.forEach((function(e){var t=new Map;e.enrolled&&e.enrolled.forEach((function(e){t.set(e.element,e.priority)}));var n={id:e.id,name:"",candidates:t,enrolled:t.size,capacity:e.capacity};s.push(n)})),r.courses=s,r.status=Ta.Success}else r.status=Ta.Fail}catch(l){console.error("Caught exception on transformResults().college")}return console.log("Result info",r),r}},{key:"transformColleges",value:function(e,t){var n=this,r=[];return e&&e.forEach((function(e){var i=[],a=e.val().Courses;Object.keys(a).forEach((function(e){var r=n.extractCourseData(a[e],t,e);i.push(r)})),r.push({id:e.key,name:e.val().name,courses:i})})),r}},{key:"transformCollege",value:function(e,t){var n=this;if(e&&e.val()){var r=[],i=e.val().Courses;return Object.keys(i).forEach((function(e){var a=n.extractCourseData(i[e],t,e);r.push(a)})),{id:e.key,name:e.val().name,courses:r}}return{}}},{key:"transformPrefs",value:function(e,t,n){var r=[];if(e&&e.Preferences){var i=e.Preferences;Object.keys(i).forEach((function(e){var a=t.find((function(t){return t.id===i[e].coll}));if(!a)return r;var o=a.courses.find((function(t){return t.id===i[e].cour}));if(!o)return r;var s=0;if(o.candidates&&o.candidates.has(n)){var u=o.candidates.get(n),l=Array.from(o.candidates.values());l.sort((function(e,t){return t-e}));for(var c=0;c<l.length;c++)if(l[c]===u){s=c+1;break}}r.push({id:e,pos:i[e].pos,universityId:a.id,university:a.name,courseId:o.id,course:o.name,enrolled:o.enrolled||0,capacity:o.capacity||0,rank:s})}))}return r}}]),e}(),rg=ng;var ig=function(e){var t=e.onLogout,n=e.auth,r="user";return n.email&&(r=n.email.split("@")[0]),(0,v.jsx)(Kn,{bg:"dark",variant:"dark p-3",expand:"md",children:(0,v.jsxs)(P,{fluid:!0,children:[(0,v.jsx)(li,{to:"/student",className:"navbar-brand",children:"EnrollApp"}),(0,v.jsx)(Kn.Toggle,{"aria-controls":"navbarScroll"}),(0,v.jsxs)(Kn.Collapse,{id:"navbarScroll",children:[(0,v.jsx)(Ce,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0,children:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(li,{to:"/student/scores",className:"nav-link",children:"Wyniki matur"}),(0,v.jsx)(li,{to:"/student/majors",className:"nav-link",children:"Kierunki studi\xf3w"}),(0,v.jsx)(li,{to:"/student/preferences",className:"nav-link",children:"Moje kierunki"}),(0,v.jsx)(li,{to:"/student/results",className:"nav-link",children:"Wyniki rekrutacji"})]})}),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("span",{className:"nav-text mx-3 text-light",children:["Witaj, ",r]}),(0,v.jsx)(li,{to:"/logout",className:"nav-link",children:(0,v.jsx)(N,{onClick:t,variant:"light",children:"Wyloguj"})})]})]})]})})},ag={url:"http://localhost:3000/auth/signInLink",handleCodeInApp:!0},og=function(t){var n=t.auth,r=t.setRole,i=t.db,a=c(Qy(Ty(i,"admin/moderators")),3),o=a[0],s=a[1],u=(a[2],c((0,e.useState)([]),2)),l=u[0],d=u[1];(0,e.useEffect)((function(){!s&&o&&d(rg.transformModerators(o))}),[o,s]);var f=function(e){return function(e,t,n){return dc.apply(this,arguments)}(n,e,ag).then((function(){window.localStorage.setItem("emailForSignIn",e),window.alert("Wiadomo\u015b\u0107 z linkiem do logowania zosta\u0142a wys\u0142ana na adres'".concat(e,"'. Sprawd\u017a skrzynk\u0119 pocztow\u0105 i folder spam."))})).catch((function(e){var t=e.message;console.error(t)}))};return(0,v.jsxs)("div",{className:"conitaner p-3",children:[(0,v.jsx)("h4",{className:"text-dark",children:"Punkt logowania dla zautoryzowanych moderator\xf3w uczelni"}),(0,v.jsx)("button",{className:"btn btn-primary m-1",onClick:function(){if(function(e,t){var n=Wl.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(0,window.location.href)){var e=window.localStorage.getItem("emailForSignIn");e||(e=window.prompt("Wprowad\u017a adres email zautoryzowanej uczelni.")),e&&function(e,t,n){return fc.apply(this,arguments)}(n,e,window.location.href).then((function(e){window.localStorage.removeItem("emailForSignIn"),console.log("Zaloguj na konto uczelni");e.user.uid;localStorage.setItem("savedUID",e.user.uid||""),localStorage.setItem("savedRole",Pa.College.toString()),r(Pa.College)})).catch((function(e){window.alert("Nieprawid\u0142owy adres linku"),console.error(e.message)}))}else window.alert("Sprawd\u017a skrzynk\u0119 pocztow\u0105. Do zalogowania niezb\u0119dny jest najnowszy link.")},children:"Zaloguj"}),(0,v.jsx)("button",{className:"btn btn-secondary m-1",onClick:function(){var e=window.localStorage.getItem("emailForSignIn");e||(e=window.prompt("Wprowad\u017a adres email zautoryzowanej uczelni")),e&&void 0!==l.find((function(t){return t===e}))?f(e):window.alert("Nie rozpoznano adresu email uczelni. Prosimy o kontakt z administratorem strony.")},children:"Wygeneruj link"})]})};var sg=function(e){var t=e.onLogout,n=e.auth,r="user";return n.email&&(r=n.email.split("@")[0]),(0,v.jsx)(Kn,{bg:"dark",variant:"dark p-3",expand:"md",children:(0,v.jsxs)(P,{fluid:!0,children:[(0,v.jsx)(li,{to:"/college",className:"navbar-brand",children:"EnrollApp"}),(0,v.jsx)(Kn.Toggle,{"aria-controls":"navbarScroll"}),(0,v.jsxs)(Kn.Collapse,{id:"navbarScroll",children:[(0,v.jsx)(Ce,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0,children:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(li,{to:"/college/profile",className:"nav-link",children:"Profil uczelni"}),(0,v.jsx)(li,{to:"/college/results",className:"nav-link",children:"Wyniki rekrutacji"})]})}),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("span",{className:"nav-text mx-3 text-light",children:["Zalogowano jako moderator: ",r]}),(0,v.jsx)(li,{to:"/logout",className:"nav-link",children:(0,v.jsx)(N,{onClick:t,variant:"light",children:"Wyloguj"})})]})]})]})})},ug=function(t){var n=t.course,r=t.subjects,i=t.onCourseUpdate,a=t.onCancel,s=c(e.useState(n),2),u=s[0],d=s[1];(0,e.useEffect)((function(){d(n)}),[n]);var f=function(e){if(u.multipliers){var t=u.multipliers.filter((function(t){return t.id!==e}));d(o(o({},u),{},{multipliers:t}))}};return(0,v.jsxs)("div",{className:"card mt-3 p-3 border-light",children:[(0,v.jsx)("div",{className:"card-header",children:(0,v.jsx)("h5",{className:"mb-0",children:"Edytuj wybrany kierunek"})}),(0,v.jsxs)("div",{className:"card-body text-start",children:[(0,v.jsxs)(ia,{children:[(0,v.jsxs)(ia.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,v.jsx)(ia.Label,{children:"Nazwa kierunku"}),(0,v.jsx)(ia.Control,{type:"text",placeholder:"Nowa nazwa kierunku",value:u.name,onChange:function(e){var t=e.target.value||"";d(o(o({},u),{},{name:t}))}})]}),(0,v.jsxs)(ia.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[(0,v.jsx)(ia.Label,{children:"Opis"}),(0,v.jsx)(ia.Control,{as:"textarea",rows:3,placeholder:"Wprowad\u017a opis dla kierunku (opcjonalne, widoczne dla kandydat\xf3w)",value:u.desc,onChange:function(e){var t=e.target.value||"";d(o(o({},u),{},{desc:t}))}})]}),(0,v.jsxs)(ia.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,v.jsx)(ia.Label,{children:"Pojemno\u015b\u0107 (maksymalna liczba os\xf3b na kierunku)"}),(0,v.jsx)(ia.Control,{type:"text",value:u.capacity,onChange:function(e){var t=Number.parseInt(e.target.value)||0;d(o(o({},u),{},{capacity:t}))}})]})]}),(0,v.jsx)("p",{children:"Mno\u017cniki"}),u.multipliers&&0!==u.multipliers.length?(0,v.jsxs)(ha,{striped:!0,className:"text-center",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"#"}),(0,v.jsx)("th",{children:"Przedmiot"}),(0,v.jsx)("th",{children:"Podstawa"}),(0,v.jsx)("th",{children:"Rozszerzenie"})]})}),(0,v.jsx)("tbody",{children:u.multipliers.map((function(e,t){return(0,v.jsx)(wa,{id:t+1,score:e,onRemove:f},t)}))})]}):(0,v.jsx)("p",{className:"text-secondary",children:"Brak mno\u017cnik\xf3w do pokazania"}),(0,v.jsx)(ca,{subjects:r.filter((function(e){return u.multipliers&&void 0===u.multipliers.find((function(t){return t.id===e.id}))})),onSubmit:function(e){u.multipliers?d(o(o({},u),{},{multipliers:[].concat(l(u.multipliers),[e])})):d(o(o({},u),{},{multipliers:[e]}))}}),(0,v.jsxs)("div",{className:"mt-5 text-center",children:[(0,v.jsx)(N,{className:"btn btn-primary mx-2 px-4",onClick:function(){u.name?u.multipliers&&0!==u.multipliers.length?!u.capacity||u.capacity<=0?window.alert("Course capacity must be a number greater than 0"):i(u):window.alert("Score multipliers cannot be empty"):window.alert("Course name cannot be empty")},children:"Zapisz"}),(0,v.jsx)(N,{className:"btn btn-secondary mx-2 px-4",onClick:function(){d(n)},children:"Cofnij zmiany"}),(0,v.jsx)(N,{className:"btn btn-danger mx-2 px-4",onClick:function(){d(n),a()},children:"Zamknij"})]})]})]})},lg=function(t){var n=c((0,e.useState)(""),2),r=n[0],i=n[1],a=c((0,e.useState)([]),2),o=a[0],s=a[1],u=c((0,e.useState)(""),2),l=u[0],d=u[1],f=c((0,e.useState)(!1),2),h=f[0],p=f[1],m=c((0,e.useState)(),2),y=m[0],g=m[1],k=new rg(t.db),b=c(Qy(Ty(t.db,"data/colleges/".concat(t.user.uid))),3),_=b[0],w=b[1];b[2];(0,e.useEffect)((function(){if(_&&!w){var e=rg.transformCollege(_,t.subjects);i(e.name||"unknown"),e.courses&&s(e.courses)}}),[_,w,t.subjects]);return(0,v.jsx)("div",{className:"container p-3",children:(0,v.jsxs)("div",{className:"border rounded p-3",children:[(0,v.jsxs)("div",{className:"form-group row p-2",children:[(0,v.jsx)("label",{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Moderator"}),(0,v.jsx)("div",{className:"col-sm-10",children:(0,v.jsx)("input",{type:"text",readOnly:!0,className:"form-control-plaintext",id:"staticEmail",value:t.user.email||"unknown"})})]}),(0,v.jsxs)("div",{className:"form-group row p-2",children:[(0,v.jsx)("label",{htmlFor:"inputText",className:"col-sm-2 col-form-label",children:"Nazwa uczelni"}),(0,v.jsx)("div",{className:"col-sm-8",children:(0,v.jsx)("input",{type:"text",className:"form-control",id:"inputCollegeName",placeholder:"Nazwa uczelni",value:r,onChange:function(e){var t=e.target.value||"";i(t)}})}),(0,v.jsx)("div",{className:"col-sm-2",children:(0,v.jsx)("button",{className:"btn btn-primary px-4",id:"btnCollegeName",onClick:function(){console.log("rename college:",r),k.updateCollegeName(t.user.uid,r)},children:"Auktualnij"})})]}),(0,v.jsxs)("div",{className:"form-group row p-2",children:[(0,v.jsx)("label",{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Lista kierunk\xf3w"}),(0,v.jsx)("div",{className:"col-sm-8",children:(0,v.jsxs)(ia.Select,{id:"selectCourse",value:l,onChange:function(e){d(e.target.value);var t=e.target.options.selectedIndex,n=e.target.options[t].getAttribute("data-key");if(""!==e.target.value&&o){var r=o.filter((function(e){return e.id===n}))[0];g(r),p(!0)}else p(!1)},children:[(0,v.jsx)("option",{"data-key":0},0),o&&o.map((function(e){return(0,v.jsx)("option",{"data-key":e.id,children:e.name},e.id)}))]})}),(0,v.jsx)("div",{className:"col-sm-2",children:(0,v.jsx)("button",{className:"btn btn-primary px-4",id:"btnAddCourse",onClick:function(){for(var e="cour-0"+Math.floor(1e4*Math.random());void 0!==o.find((function(t){return t.id===e}));)e="cour-0"+Math.floor(1e4*Math.random());g({id:e,name:"",capacity:0,enrolled:0,desc:"",multipliers:[]}),p(!0),d("")},children:"Dodaj"})})]}),h&&y&&(0,v.jsx)(ug,{course:y,subjects:t.subjects,onCourseUpdate:function(e){console.log("update course",e.id,e),k.updateCollegeCourse(e,t.user.uid)},onCancel:function(){d(""),p(!1)}})]})})},cg=function(){var e=qr();return(0,v.jsx)("div",{className:"d-flex align-items-center justify-content-center p-5",children:(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("h1",{className:"display-1 fw-bold",children:"404"}),(0,v.jsxs)("p",{className:"fs-3",children:[" ",(0,v.jsx)("span",{className:"text-danger",children:"Ups!"})," Strona nie znaleziona."]}),(0,v.jsx)("p",{className:"lead",children:"Strona kt\xf3rej szukasz prawdopodobnie nie istnieje"}),(0,v.jsx)(N,{onClick:function(){return e(-1)},className:"btn btn-lg btn-danger",children:"Powr\xf3t"})]})})},dg=function(){return(0,v.jsxs)("div",{className:"container",children:[(0,v.jsxs)("h3",{className:"pt-4",children:["Skuteczne rekrutacje z ",(0,v.jsx)("span",{className:"text-primary",children:"EnrollApp"})]}),(0,v.jsx)("div",{className:"d-flex justify-content-center",children:(0,v.jsxs)("div",{className:"w-50 py-3",children:[(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-sm-10",children:(0,v.jsx)("p",{className:"text-start",children:"Witaj na naszej platformie rekrutacyjnej dla uczelni! Nasza strona to scentralizowany system, kt\xf3ry umo\u017cliwia kandydatom z ca\u0142ej Polski przegl\u0105danie kierunk\xf3w studi\xf3w oferowanych przez uczelnie i zapisanie si\u0119 na nie. Platforma korzysta z algorytmu Gale'a Shapleya, kt\xf3ry pozwala na skuteczne i sprawiedliwe przypisanie kandydat\xf3w do uczelni na podstawie ich preferencji i wynik\xf3w maturalnych."})})}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-sm-2"}),(0,v.jsx)("div",{className:"col-sm-10",children:(0,v.jsx)("p",{className:"text-end",children:"Dzi\u0119ki naszej platformie, kandydaci mog\u0105 dodawa\u0107 swoje wyniki matur, przegl\u0105da\u0107 interesuj\u0105ce ich kierunki oraz zapisywa\u0107 si\u0119 na nie. Mog\u0105 r\xf3wnie\u017c ustala\u0107 swoje preferencje w kolejce priorytetowej, aby jak najlepiej dopasowa\u0107 si\u0119 do wymaga\u0144 uczelni."})})]}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-sm-10",children:(0,v.jsx)("p",{className:"text-start",children:"Wszystkie profile uczelni na naszej platformie s\u0105 zweryfikowane, aby zapewni\u0107 uczciwo\u015b\u0107 rekrutacji. Nasza strona to idealne miejsce dla kandydat\xf3w, kt\xf3rzy chc\u0105 znale\u017a\u0107 swoj\u0105 wymarzon\u0105 uczelni\u0119 oraz dla uczelni, kt\xf3re chc\u0105 przyci\u0105gn\u0105\u0107 jak najwi\u0119cej utalentowanych student\xf3w."})})}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-sm-2"}),(0,v.jsx)("div",{className:"col-sm-10",children:(0,v.jsx)("p",{className:"text-end",children:"Moderatorzy uczelni, kt\xf3rzy zarz\u0105dzaj\u0105 profilem swojej uczelni, maj\u0105 mo\u017cliwo\u015b\u0107 dodawania kierunk\xf3w studi\xf3w, modyfikowania informacji oraz edytowania opis\xf3w kierunk\xf3w, aby przyci\u0105gn\u0105\u0107 jak najwi\u0119cej student\xf3w na swoj\u0105 uczelni\u0119."})})]}),(0,v.jsx)("p",{className:"lead text-centered p-2",children:"Odkryj sw\xf3j potencja\u0142 edukacyjny!"})]})})]})},fg=function(){return(0,v.jsxs)("div",{className:"container",children:[(0,v.jsx)("h3",{className:"pt-4",children:"Stw\xf3rz swoj\u0105 edukacyjn\u0105 przysz\u0142o\u015b\u0107"}),(0,v.jsx)("div",{className:"d-flex justify-content-center",children:(0,v.jsxs)("div",{className:"w-50 py-3",children:[(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-sm-10",children:(0,v.jsx)("p",{className:"text-start",children:"Witaj na naszej platformie! Tutaj masz mo\u017cliwo\u015b\u0107 przegl\u0105dania i zapisywania si\u0119 na swoje wymarzone studia. Nasz scentralizowany system umo\u017cliwia zapisy na wszystkie kierunki na wszystkich uczelniach. Bez wzgl\u0119du na to, gdzie chcesz studiowa\u0107 i jakie s\u0105 Twoje preferencje, znajdziesz tutaj wszystko, czego potrzebujesz!"})})}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-sm-2"}),(0,v.jsx)("div",{className:"col-sm-10",children:(0,v.jsx)("p",{className:"text-end",children:"Jako kandydat mo\u017cesz dodawa\u0107 swoje wyniki matur, przegl\u0105da\u0107 interesuj\u0105ce Ci\u0119 kierunki i zapisywa\u0107 si\u0119 na nie. Mo\u017cesz ustala\u0107 swoje preferencje, aby zwi\u0119kszy\u0107 swoje szanse na dostanie si\u0119 na wymarzone studia. Na naszej stronie masz r\xf3wnie\u017c dost\u0119p do bogatej bazy danych kierunk\xf3w studi\xf3w na r\xf3\u017cnych uczelniach, dzi\u0119ki czemu mo\u017cesz pozna\u0107 szczeg\xf3\u0142y ka\u017cdego kierunku, sprawdzi\u0107 jego wymagania i zdecydowa\u0107, kt\xf3ry z nich b\u0119dzie dla Ciebie najlepszy."})})]}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-sm-10",children:(0,v.jsx)("p",{className:"text-start",children:"Zapisy na studia s\u0105 dla wielu maturzyst\xf3w stresuj\u0105cym do\u015bwiadczeniem. Dlatego nasza strona stworzona jest z my\u015bl\u0105 o Tobie i Twoim komforcie."})})}),(0,v.jsx)("p",{className:"lead text-centered p-2",children:"Nie tra\u0107 czasu i zapisz si\u0119 na studia ju\u017c dzi\u015b!"})]})})]})},hg=function(){return(0,v.jsxs)("div",{className:"container",children:[(0,v.jsx)("h3",{className:"pt-4",children:"Zarz\u0105dzaj swoj\u0105 uczelni\u0105 i kierunkami edukacyjnymi"}),(0,v.jsx)("div",{className:"d-flex justify-content-center",children:(0,v.jsxs)("div",{className:"w-50 py-3",children:[(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-sm-10",children:(0,v.jsx)("p",{className:"text-start",children:"Witaj, drogi Moderatorze Uczelni! Cieszymy si\u0119, \u017ce jeste\u015b z nami i chcesz przyci\u0105gn\u0105\u0107 do swojej uczelni jak najwi\u0119cej student\xf3w. Nasza platforma umo\u017cliwia Ci zarz\u0105dzanie profilem Twojej uczelni w \u0142atwy i przyjazny spos\xf3b."})})}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-sm-2"}),(0,v.jsx)("div",{className:"col-sm-10",children:(0,v.jsx)("p",{className:"text-end",children:"W pierwszej kolejno\u015bci mo\u017cesz ustawi\u0107 nazw\u0119 Twojej uczelni i doda\u0107 informacje o niej, kt\xf3re pomog\u0105 przyci\u0105gn\u0105\u0107 student\xf3w. Nast\u0119pnie, mo\u017cesz dodawa\u0107 kierunki studi\xf3w, kt\xf3re s\u0105 oferowane. Pami\u0119taj, \u017ce opis kierunku jest bardzo wa\u017cny, aby zach\u0119ci\u0107 student\xf3w. W panelu zarz\u0105dzania kierunkami, masz r\xf3wnie\u017c mo\u017cliwo\u015b\u0107 edycji wszystkich informacji, w tym liczby miejsc, wymaganych dokument\xf3w oraz mno\u017cnik\xf3w matur. Dzi\u0119ki temu, mo\u017cesz \u0142atwo aktualizowa\u0107 i modyfikowa\u0107 informacje, aby zawsze mie\u0107 na bie\u017c\u0105co informacje dla student\xf3w."})})]}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-sm-10",children:(0,v.jsx)("p",{className:"text-start",children:"Zapisy na studia s\u0105 dla wielu maturzyst\xf3w stresuj\u0105cym do\u015bwiadczeniem. Dlatego nasza strona stworzona jest z my\u015bl\u0105 wygodnej komunikacji miedzy nimi a Wasz\u0105 uczelni\u0105."})})}),(0,v.jsx)("p",{className:"lead text-centered p-2",children:"Nasz zesp\xf3\u0142 jest zawsze gotowy, aby Ci pom\xf3c!"})]})})]})},pg=Es({apiKey:"AIzaSyB0y5eMD0iM8XckDPmAu0E67Syf5ESv5uo",authDomain:"collegeadmission-lic.firebaseapp.com",databaseURL:"https://collegeadmission-lic-default-rtdb.firebaseio.com",projectId:"collegeadmission-lic",storageBucket:"collegeadmission-lic.appspot.com",messagingSenderId:"276099499201",appId:"1:276099499201:web:8c33da47133b8cfe89c040",measurementId:"G-TL2VLQTHRQ"}),vg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss(),t=bs(e,"auth");if(t.isInitialized())return t.getImmediate();var n=iu(e,{popupRedirectResolver:Kd,persistence:[Hc,kc,_c]}),r=uo("authTokenSyncURL");if(r){var i=tf(r);pc(n,i,(function(){return i(n.currentUser)})),hc(n,(function(e){return i(e)}))}var a=ao("auth");return a&&pl(n,"http://".concat(a)),n}(pg),mg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss(),t=arguments.length>1?arguments[1]:void 0,n=bs(e,"database").getImmediate({identifier:t}),r=oo("database");return r&&qy.apply(void 0,[n].concat(l(r))),n}(pg),yg=new rg(mg);var gg=function(){var t=c(Qy(Ty(mg,"data/subjects")),3),n=t[0],r=t[1],i=t[2],a=c(Qy(Ty(mg,"data/colleges")),3),s=a[0],u=a[1],d=a[2],f=c(Qy(Ty(mg,"data/results")),3),h=f[0],p=f[1],m=(f[2],c((0,e.useState)(),2)),y=m[0],g=m[1],k=c((0,e.useState)(!0),2),b=k[0],_=k[1],w=c(tg(vg),1)[0],x=c((0,e.useState)(Pa.None),2),C=x[0],E=x[1],S=c((0,e.useState)([]),2),N=S[0],I=S[1],T=c((0,e.useState)([]),2),P=T[0],j=T[1],R=c((0,e.useState)([]),2),O=R[0],L=R[1],D=c((0,e.useState)([]),2),A=D[0],M=D[1],z=c((0,e.useState)({status:Ta.NotReady}),2),F=z[0],U=z[1],W=c((0,e.useState)(!1),2),V=W[0],q=W[1],H=c((0,e.useState)(!1),2),B=H[0],K=H[1];(0,e.useEffect)((function(){!b&&V&&w&&L(rg.transformScores(y,N))}),[y,V,w]),(0,e.useEffect)((function(){!r&&w&&(I(rg.transformSubjects(n)),q(!0)),i&&console.error(i)}),[n,w]),(0,e.useEffect)((function(){!u&&V&&w&&(j(rg.transformColleges(s,N)),K(!0)),d&&console.error(d)}),[s,V,w]),(0,e.useEffect)((function(){B&&!b&&w&&M(rg.transformPrefs(y,P,w.uid))}),[B,P,y]),(0,e.useEffect)((function(){!p&&w&&U(rg.transformResults(h,w.uid,C))}),[h,w,C]),(0,e.useEffect)((function(){!p&&w&&B&&F&&F.status!==Ta.NotReady&&Y()}),[F,w,B]),(0,e.useEffect)((function(){if(w&&w.uid){var e=localStorage.getItem("savedUID"),t=localStorage.getItem("savedRole")||Pa.Student.toString();C===Pa.College||Number.parseInt(t)==Pa.College&&w.uid===e?(E(Pa.College),$("/college")):(E(Pa.Student),localStorage.setItem("savedUID",w.uid),localStorage.setItem("savedRole",Pa.Student.toString()),n=w.uid,_(!0),My(yg.getStudentRef(n),(function(e){var t=e.val();g(t),_(!1)})),window.location.pathname.startsWith("/student")||$("/student"))}else E(Pa.None);var n}),[w]);var $=qr(),G=function(){(function(e){return Oo(e).signOut()})(vg).then((function(){console.log("Logged out"),localStorage.removeItem("savedUID"),localStorage.removeItem("savedRole"),E(Pa.None),$("/logout")})).catch((function(e){console.error(e.message)}))},Q=function(e,t){var n=A.find((function(n){return n.pos+t==e.pos}));n&&M(A.map((function(r){return r.id==e.id&&(r.pos-=t,w&&yg.updatePrefPos(mg,r.id,r.pos,w.uid)),r.id==n.id&&(r.pos+=t,w&&yg.updatePrefPos(mg,r.id,r.pos,w.uid)),r})))},Y=function(){if(C===Pa.Student){var e=P.find((function(e){return e.id===F.universityId})),t=null===e||void 0===e?void 0:e.courses.find((function(e){return e.id===F.courseId}));U(o({university:(null===e||void 0===e?void 0:e.name)||"",course:(null===t||void 0===t?void 0:t.name)||""},F))}else if(C===Pa.College){var n,r=P.find((function(e){return e.id===(null===w||void 0===w?void 0:w.uid)}));null===(n=F.courses)||void 0===n||n.forEach((function(e){var t;e.name=(null===r||void 0===r||null===(t=r.courses.find((function(t){return t.id===e.id})))||void 0===t?void 0:t.name)||""})),console.log(F)}};return(0,v.jsxs)("div",{className:"App d-flex flex-column min-vh-100",children:[w?C===Pa.Student?(0,v.jsx)(ig,{auth:w,onLogout:G}):C===Pa.College&&(0,v.jsx)(sg,{auth:w,onLogout:G}):(0,v.jsx)(fi,{}),(0,v.jsxs)(ni,{children:[(0,v.jsx)(ei,{index:!0,element:(0,v.jsx)(dg,{})}),(0,v.jsxs)(ei,{path:"auth",children:[(0,v.jsx)(ei,{path:"login",element:(0,v.jsx)(Aa,{auth:!!w,role:C,children:(0,v.jsx)(oa,{onLogin:function(e){var t=e.email,n=e.password;(function(e,t,n){return sc(Oo(e),Vl.credential(t,n))})(vg,t,n).then((function(e){E(Pa.Student),$("/student")})).catch((function(e){return console.error(e.message)}))}})})}),(0,v.jsx)(ei,{path:"register",element:(0,v.jsx)(Aa,{auth:!!w,role:C,children:(0,v.jsx)(aa,{onRegister:function(e){var t=e.email,n=e.pesel,r=e.password;console.log("register",t,n,r),function(e,t,n){return cc.apply(this,arguments)}(vg,t,r).then((function(e){E(Pa.Student),$("/student")})).catch((function(e){return console.error(e.message)}))}})})}),(0,v.jsx)(ei,{path:"signInLink",element:(0,v.jsx)(Aa,{auth:!!w,role:C,children:(0,v.jsx)(og,{auth:vg,setRole:E,db:mg})})})]}),(0,v.jsx)(ei,{path:"/logout",element:(0,v.jsx)(Da,{})}),(0,v.jsxs)(ei,{path:"student",children:[(0,v.jsx)(ei,{index:!0,element:(0,v.jsx)(Aa,{auth:!!w,role:C,children:(0,v.jsx)(fg,{})})}),(0,v.jsx)(ei,{path:"majors",element:(0,v.jsx)(Aa,{auth:!!w,role:C,children:(0,v.jsx)(Sa,{colleges:P,onAddAsPref:function(e){var t=e.courseId,n=e.universityId,r=P.find((function(e){return e.id===n}));if(r){var i=r.courses.find((function(e){return e.id===t}));if(i)if(A.find((function(e){return e.id==="pref-".concat(n,"-").concat(t)})))alert("Already in your preferences.");else{var a=A.length+1,o={id:"pref-".concat(n,"-").concat(t),pos:a,university:r.name||"",course:i.name,enrolled:i.enrolled||0,capacity:i.capacity||0,universityId:n,courseId:t};M([].concat(l(A),[o])),w&&yg.writeNewPreference(o.id,n,t,a,w.uid),$("/student/preferences")}}}})})}),(0,v.jsx)(ei,{path:"scores",element:(0,v.jsx)(Aa,{auth:!!w,role:C,children:(0,v.jsx)(Ca,{sscores:O,ssubjects:N,onFormSubmit:function(e){var t=e.id,n=e.name,r=e.basic,i=e.advanced,a={id:t,name:n,basic:r,advanced:i};L([].concat(l(O),[a])),console.log(t,n,r,i,"Add score"),w&&yg.writeNewScore(t,r,i,w.uid)},onScoreRemove:function(e){w&&void 0!==O.find((function(t){return t.id===e}))&&yg.deleteScore(e,w.uid)}})})}),(0,v.jsx)(ei,{path:"preferences",element:(0,v.jsx)(Aa,{auth:!!w,role:C,children:(0,v.jsx)(Ra,{prefs:A,onPrefUp:function(e){var t=A.find((function(t){return t.id===e}));t&&t.pos>1&&(console.log(t.id,t.course,"move up"),Q(t,1))},onPrefDown:function(e){var t=A.find((function(t){return t.id===e}));t&&t.pos!=A.length&&(console.log(t.id,t.course,"move down"),Q(t,-1))}})})}),(0,v.jsx)(ei,{path:"results",element:(0,v.jsx)(Aa,{auth:!!w,role:C,children:(0,v.jsx)(Oa,{results:F,role:C})})})]}),(0,v.jsxs)(ei,{path:"college",children:[(0,v.jsx)(ei,{index:!0,element:(0,v.jsx)(Aa,{auth:!!w,role:C,children:(0,v.jsx)(hg,{})})}),(0,v.jsx)(ei,{path:"profile",element:(0,v.jsx)(Aa,{auth:!!w,role:C,children:w?(0,v.jsx)(lg,{user:w,subjects:N,db:mg}):(0,v.jsx)("p",{children:"Missing profile component: user not defined"})})}),(0,v.jsx)(ei,{path:"results",element:(0,v.jsx)(Aa,{auth:!!w,role:C,children:(0,v.jsx)(Oa,{results:F,role:C})})})]}),(0,v.jsx)(ei,{path:"*",element:(0,v.jsx)(cg,{})})]}),(0,v.jsx)(La,{})]})},kg=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,v.jsx)(e.StrictMode,{children:(0,v.jsx)(ui,{children:(0,v.jsx)(gg,{})})})),kg()}()}();
//# sourceMappingURL=main.908ec8a5.js.map